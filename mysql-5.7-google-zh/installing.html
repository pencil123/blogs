<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>第2章安装和升级MySQL</title>
<link rel="stylesheet" href="./images/mvl.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
<link rel="start" href="/mysql-5.7-google-zh/index.html" title="{书名}">
<link rel="up" href="/mysql-5.7-google-zh/installing.html" title="">
<link rel="prev" href="/mysql-5.7-google-zh/introduction.html" title="第1章一般信息">
<link rel="next" href="/mysql-5.7-google-zh/tutorial.html" title="第3章教程">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./images/translateelement.css"></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2章安装和升级MySQL</font></font></th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/introduction.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a>&nbsp;</td>
<th width="60%" align="center"></th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/tutorial.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
</tbody></table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="installing"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2章安装和升级MySQL</font></font></h1>

</div>

</div>

</div>
<div class="toc">
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></b></p><dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#general-installation-issues"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1一般安装指南</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#which-version"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.1要安装的MySQL版本和分发版本</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#getting-mysql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.2如何获取MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#verifying-package-integrity"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3使用MD5校验和或GnuPG验证包的完整性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installation-layouts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.4安装布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#compiler-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.5编译器特有的构建特征</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#binary-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2使用通用二进制文件在Unix / Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3在Microsoft Windows上安装MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-installation-layout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.1 Microsoft Windows上的MySQL安装布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-choosing-package"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.2选择安装包</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3用于Windows的MySQL安装程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-notifier"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4 MySQL通知程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-install-archive"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
      </font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-troubleshooting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.6对Microsoft Windows MySQL服务器安装进行故障排除</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-postinstallation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.7 Windows安装后程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-upgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.8在Windows上升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#deploy-mysql-nonlinux-docker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.9在Windows和其他非Linux平台上部署MySQL</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4在macOS上安装MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-notes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.1在macOS上安装MySQL的一般注意事项</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-pkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2使用本地包在macOS上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3安装MySQL启动守护进程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.4安装和使用MySQL首选面板</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5在Linux上安装MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1使用MySQL Yum存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#replace-third-party-yum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.2使用MySQL Yum Repository替换MySQL的第三方分发</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.3使用MySQL APT存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.4使用MySQL SLES存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.5在Linux上安装MySQL使用Oracle的RPM软件包</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-debian"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.6使用Oracle的Debian软件包在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-docker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7使用Docker在Linux上部署MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-native"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.8从本地软件存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-juju"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.9使用Juju在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#using-systemd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.10使用systemd管理MySQL服务器</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#uln-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6使用Unbreakable Linux网络安装MySQL（ULN）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#solaris-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7在Solaris上安装MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#solaris-installation-pkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7.1使用Solaris PKG在Solaris上安装MySQL</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#freebsd-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8在FreeBSD上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9从源代码安装MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-installation-layout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.1源代码安装的MySQL布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installing-source-distribution"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.2使用标准源分布安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installing-development-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.3使用开发源树安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-configuration-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.4 MySQL源配置选项</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#compilation-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.5处理编译MySQL的问题</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-configuration-third-party"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.6 MySQL配置和第三方工具</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#postinstallation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10安装后设置和测试</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#data-directory-initialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1初始化数据目录</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#starting-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.2启动服务器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#testing-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.3测试服务器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#default-privileges"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.4确保初始MySQL帐户的安全</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#automatic-start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.5自动启动和停止MySQL</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#upgrading-downgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11升级或降级MySQL</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#upgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#downgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.2降级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#rebuilding-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.3重建或修复表或索引</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#copying-databases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.4将MySQL数据库复制到另一台机器</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#perl-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12 Perl安装说明</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#perl-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.1在Unix上安装Perl</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#activestate-perl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.2在Windows上安装ActiveState Perl</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#perl-support-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.3使用Perl DBI / DBD接口的问题</font></font></a></span></dt></dl></dd></dl>
</div>
<a class="indexterm" name="idm140528188220816"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本章介绍如何获取和安装MySQL。</font><font style="vertical-align: inherit;">程序概要如下，后面的部分提供了详细信息。</font><font style="vertical-align: inherit;">如果您计划将现有版本的MySQL升级到新版本，而不是首次安装MySQL，请参阅
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading" title="2.11.1升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1节“升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以获取有关升级过程以及升级前应考虑的问题的信息。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果您有兴趣从其他数据库系统迁移到MySQL，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/faqs.html#faqs-migration" title="A.8 MySQL 5.7 FAQ：迁移"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第A.8节“MySQL 5.7 FAQ：迁移”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包含有关迁移问题的一些常见问题的答案。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL的安装通常遵循这里列出的步骤：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定MySQL是否运行并且在您的平台上受支持。</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请注意，并非所有平台都同样适用于运行MySQL，并且并非所有已知运行MySQL的平台都得到Oracle公司的官方支持。</font><font style="vertical-align: inherit;">有关官方支持的平台的信息，请参阅</font><font style="vertical-align: inherit;">MySQL网站上的</font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择要安装的发行版。</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有几个版本的MySQL可用，并且大多数版本都可用于多种分发格式。</font><font style="vertical-align: inherit;">您可以从包含二进制（预编译）程序或源代码的预打包发行版中进行选择。</font><font style="vertical-align: inherit;">如有疑问，请使用二进制分布。</font><font style="vertical-align: inherit;">Oracle还为希望查看最新开发和测试新代码的用户提供对MySQL源代码的访问。</font><font style="vertical-align: inherit;">要确定应该使用哪种版本和分发类型，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#which-version" title="2.1.1要安装的MySQL版本和分发版本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.1节“安装哪个MySQL版本和分发版”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载您想要安装的发行版。</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要验证分发的完整性，请使用
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#verifying-package-integrity" title="2.1.3使用MD5校验和或GnuPG验证包的完整性"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.3节“使用MD5校验和或GnuPG验证软件包完整性”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装发行版。</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要从二进制发行版安装MySQL，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要从源代码发行版或当前开发源代码树</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用
         </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9 Installing MySQL from Source"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”中的说明</font></a><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行任何必要的安装后设置。</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装MySQL之后，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        以获取有关确保MySQL服务器正常工作的信息。</font><font style="vertical-align: inherit;">另请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“确保初始MySQL帐户的安全”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的信息
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本节介绍如何保护初始MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户，</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户</font><font style="vertical-align: inherit;">在分配</font><span class="emphasis"><em><font style="vertical-align: inherit;">密码</font></em></span><font style="vertical-align: inherit;">之前</font><span class="emphasis"><em><font style="vertical-align: inherit;">没有密码</font></em></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">无论您是使用二进制还是源代码安装MySQL，本节均适用。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果你想运行MySQL基准测试脚本，Perl的Perl支持必须可用。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#perl-support" title="2.12 Perl安装说明"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.12节“Perl安装注意事项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    在不同的平台和环境中安装MySQL的说明可以在平台上通过平台获得：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix，Linux，FreeBSD</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用通用二进制文件（例如，</font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包）</font><font style="vertical-align: inherit;">在大多数Linux和Unix平台上安装MySQL的说明
         </font><font style="vertical-align: inherit;">，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关从源代码发行版或源代码库完全构建MySQL的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”</font></font></a>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关从源代码安装，配置和构建的特定平台帮助，请参阅相应的平台部分：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            Linux，包括有关分发特定方法的注释，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation" title="2.5在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5节“在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            Solaris（包括PKG和IPS格式）请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#solaris-installation" title="2.7在Solaris上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.7节“在Solaris上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            IBM AIX，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#solaris-installation" title="2.7在Solaris上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.7节“在Solaris上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            FreeBSD，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#freebsd-installation" title="2.8在FreeBSD上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.8节“在FreeBSD上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微软Windows</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关在Microsoft Windows上安装MySQL的说明，请使用MySQL Installer或Zipped二进制文件，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-installation" title="2.3在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3节“在Microsoft Windows上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关管理MySQL实例的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.4节“MySQL通知程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用Microsoft Visual Studio从源代码构建MySQL的详细信息和说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从源代码
         </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;">安装MySQL”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OS X</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要在OS X上安装，包括使用二进制包和本地PKG格式，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation" title="2.4在macOS上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4节“在macOS上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用OS X Launch Daemon自动启动和停止MySQL的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd" title="2.4.3安装MySQL启动守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.3节“安装MySQL启动守护进程”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关MySQL首选项窗格的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane" title="2.4.4安装和使用MySQL首选面板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.4节“安装和使用MySQL首选项窗格”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="general-installation-issues"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1一般安装指南</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#which-version"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.1要安装的MySQL版本和分发版本</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#getting-mysql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.2如何获取MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#verifying-package-integrity"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3使用MD5校验和或GnuPG验证包的完整性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installation-layouts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.4安装布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#compiler-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.5编译器特有的构建特征</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    紧接着的部分包含选择，下载和验证发行所需的信息。</font><font style="vertical-align: inherit;">本章后面部分的说明介绍了如何安装您选择的发行版。</font><font style="vertical-align: inherit;">有关二进制发行版，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或适用于您的平台的相应章节（如果可用）中的说明。</font><font style="vertical-align: inherit;">要从源代码构建MySQL，请使用
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="which-version"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.1要安装的MySQL版本和分发版本</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528188166608"></a><a class="indexterm" name="idm140528188165152"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL可用于多种操作系统和平台。</font><font style="vertical-align: inherit;">有关官方支持的平台的信息，请参阅</font><font style="vertical-align: inherit;">MySQL网站上的</font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL在很多操作系统和平台上都可用。</font><font style="vertical-align: inherit;">有关</font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-development-cycle/en/ga-releases.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GA版本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL </font><font style="vertical-align: inherit;">支持的平台的信息
       </font><font style="vertical-align: inherit;">，请参阅
       </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于MySQL的开发版本，可以在</font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.7.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/mysql/5.7.html上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的许多平台上使用该版本</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要了解有关MySQL支持的更多信息，请
       </font></font><a class="ulink" href="http://www.mysql.com/support/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问http://www.mysql.com/support/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      准备安装MySQL时，请决定使用哪种版本和分发格式（二进制或源代码）。
    </font></font></p><a class="indexterm" name="idm140528188158768"></a><a class="indexterm" name="idm140528188157680"></a><a class="indexterm" name="idm140528188156592"></a><a class="indexterm" name="idm140528188155520"></a><a class="indexterm" name="idm140528188154032"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      首先，决定是安装开发版还是通用版（GA）版。</font><font style="vertical-align: inherit;">开发版本具有最新功能，但不推荐用于生产用途。</font><font style="vertical-align: inherit;">GA版本也被称为生产或稳定版本，用于生产用途。</font><font style="vertical-align: inherit;">我们建议使用最新的GA版本。
    </font></font></p><a class="indexterm" name="idm140528188151792"></a><a class="indexterm" name="idm140528188150304"></a><a class="indexterm" name="idm140528188148816"></a><a class="indexterm" name="idm140528188147360"></a><a class="indexterm" name="idm140528188145904"></a><a class="indexterm" name="idm140528188144400"></a><a class="indexterm" name="idm140528188142944"></a><a class="indexterm" name="idm140528188141456"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL 5.7中的命名方案使用由三个数字和一个可选后缀组成的发行版名称; </font><font style="vertical-align: inherit;">例如，
       </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-5.7.1-m1</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">发行版名称中的数字解释如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          第一个数字（</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是主版本号。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          第二个数字（</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是次要版本号。</font><font style="vertical-align: inherit;">综合来看，主要和次要数字构成发布系列号码。</font><font style="vertical-align: inherit;">系列号描述了稳定的功能集。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          第三个数字（</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是发布系列中的版本号。</font><font style="vertical-align: inherit;">对于每个新的修补程序版本，这都会增加。</font><font style="vertical-align: inherit;">在大多数情况下，一系列的最新版本是最好的选择。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      发行版名称还可以包含后缀以指示发行版的稳定性级别。</font><font style="vertical-align: inherit;">通过一组后缀释放一系列进度，以指示稳定性水平如何提高。</font><font style="vertical-align: inherit;">可能的后缀是：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></em></span></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例如，</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m1</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
          </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m2</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
          </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m3</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，...）表示里程碑编号。</font><font style="vertical-align: inherit;">MySQL开发使用里程碑模式，每个里程碑都引入了经过全面测试的功能的一小部分。</font><font style="vertical-align: inherit;">从一个里程碑到下一个里程碑，根据试用这些快速发布的社区成员提供的反馈，功能界面可能会更改，甚至可能会删除功能。</font><font style="vertical-align: inherit;">里程碑版本中的功能可能被认为是预生产质量。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示释放候选者（RC）。</font><font style="vertical-align: inherit;">发布候选人被认为是稳定的，通过了MySQL的所有内部测试。</font><font style="vertical-align: inherit;">RC版本中仍可能引入新功能，但重点转移到修复错误以稳定本系列之前引入的功能。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          没有后缀表示一般可用性（GA）或生产版本。</font><font style="vertical-align: inherit;">GA版本是稳定的，已经成功地通过了早期的版本阶段，并被认为是可靠的，没有严重的错误，并且适用于生产系统。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一系列的开发是从里程碑版本开始，然后是RC版本，最后达到GA状态版本。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      选择要安装的MySQL版本后，请决定为您的操作系统安装哪种分发格式。</font><font style="vertical-align: inherit;">对于大多数用例而言，二进制分布是正确的选择。</font><font style="vertical-align: inherit;">二进制发行版对于许多平台都可以使用原生格式，例如Linux的RPM软件包或OS X的DMG软件包。发行版也可以使用更通用的格式，例如Zip归档</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">或压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">在Windows上，您可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来安装二进制分发。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在某些情况下，最好从源代码发行版安装MySQL：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          你想在某个明确的位置安装MySQL。</font><font style="vertical-align: inherit;">标准的二进制发行版已准备好在任何安装位置运行，但您可能需要更多的灵活性来将MySQL组件放在您想要的位置。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您希望配置</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中可能不包含标准二进制分发版中的功能。</font><font style="vertical-align: inherit;">以下是用于确保功能可用性的最常见额外选项列表：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_libwrap"><code class="option">-DWITH_LIBWRAP=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 为TCP封装器提供支持。
            </font></font></p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_zlib"><code class="option">-DWITH_ZLIB={system|bundled}</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用于依赖压缩的功能
            </font></font></p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 用于调试支持
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关更多信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-configuration-options" title="2.9.4 MySQL源配置选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.4节“MySQL源配置选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您希望配置</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不包含标准二进制分发版中包含的某些功能。</font><font style="vertical-align: inherit;">例如，发行版通常会编译支持所有字符集。</font><font style="vertical-align: inherit;">如果你想要一个更小的MySQL服务器，你可以重新编译它，只支持你需要的字符集。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您想要读取或修改组成MySQL的C和C ++代码。</font><font style="vertical-align: inherit;">为此，请获取源代码分发。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          源代码分发包含比二进制分发更多的测试和示例。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="getting-mysql"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.2如何获取MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528188104736"></a><a class="indexterm" name="idm140528188103664"></a><a class="indexterm" name="idm140528188102592"></a><a class="indexterm" name="idm140528188101104"></a><a class="indexterm" name="idm140528188100032"></a><a class="indexterm" name="idm140528188098960"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      查看我们的下载页面，</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网址</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      为</font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/，</font></a><font style="vertical-align: inherit;">以获取有关当前版本的MySQL和下载说明的信息。</font><font style="vertical-align: inherit;">有关MySQL下载镜像站点的完整最新列表，请参阅
       </font></font><a class="ulink" href="http://dev.mysql.com/downloads/mirrors.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/mirrors.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您还可以在那里找到有关成为MySQL镜像站点的信息以及如何报告错误或过时的镜像。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于使用Yum作为包管理系统的基于RPM的Linux平台，MySQL可以使用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Yum Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行安装
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum存储库安装MySQL”</font></a><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于基于Debian的Linux平台，可以使用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL APT存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装
       </font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;">MySQL</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;">第2.5.3节“使用MySQL APT存储库在Linux上安装MySQL”</font></a><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于SUSE Linux Enterprise Server（SLES）平台，可以使用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL SLES存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装
       </font><a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top"><font style="vertical-align: inherit;">MySQL</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo" title="2.5.4使用MySQL SLES存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo" title="2.5.4使用MySQL SLES存储库在Linux上安装MySQL"><font style="vertical-align: inherit;">第2.5.4节“在Linux上使用MySQL SLES存储库安装MySQL”</font></a><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要获得最新的开发源代码，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#installing-development-tree" title="2.9.3使用开发源树安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.3节“使用开发源代码树安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="verifying-package-integrity"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3使用MD5校验和或GnuPG验证包的完整性</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#verifying-md5-checksum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.1验证MD5校验和</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.2使用GnuPG进行签名检查</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature-windows"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.3使用Gpg4win for Windows进行签名检查</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#checking-rpm-signature"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.4使用RPM进行签名检查</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在下载适合您需求的MySQL软件包并尝试安装之前，请确保它完好无损并且未被篡改。</font><font style="vertical-align: inherit;">有三种完整性检查方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MD5校验和
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><code class="literal">GnuPG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Privacy Guard的
         </font><font style="vertical-align: inherit;">加密签名</font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于RPM软件包，内置RPM完整性验证机制
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下各节介绍如何使用这些方法。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您注意到MD5校验和或GPG签名不匹配，请首先尝试再次下载相应的软件包，可能是从另一个镜像站点下载的。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="verifying-md5-checksum"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.1验证MD5校验和</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在你下载了一个MySQL包之后，你应该确保它的MD5校验和与MySQL下载页面上提供的校验和相匹配。</font><font style="vertical-align: inherit;">每个软件包都有一个单独的校验和，您可以根据您下载的软件包进行验证。</font><font style="vertical-align: inherit;">每个MySQL产品的下载页面都列出了正确的MD5校验和，并将其与您下载的文件（产品）的MD5校验和进行比较。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个操作系统和设置都提供了自己的版本，用于检查MD5校验和。</font><font style="vertical-align: inherit;">通常这个命令被命名为
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">md5sum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者它可能被命名为
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">md5</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且一些操作系统根本不运送它。</font><font style="vertical-align: inherit;">在Linux上，它是</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU Text Utilities</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包的一部分，可用于各种平台。</font><font style="vertical-align: inherit;">您也可以从</font></font><a class="ulink" href="http://www.gnu.org/software/textutils/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.gnu.org/software/textutils/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载源代码
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您安装了OpenSSL，则可以</font><font style="vertical-align: inherit;">改为</font><font style="vertical-align: inherit;">使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openssl md5</font></font><em class="replaceable"><code>package_name</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">。</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">md5</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行实用程序的</font><font style="vertical-align: inherit;">Windows实现</font><font style="vertical-align: inherit;">可从
        </font></font><a class="ulink" href="http://www.fourmilab.ch/md5/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.fourmilab.ch/md5/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">winMd5Sum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个图形化的MD5检查工具，可以从
         </font></font><a class="ulink" href="http://www.nullriver.com/index/products/winmd5sum" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.nullriver.com/index/products/winmd5sum获取</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们的Microsoft Windows示例将采用名称
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">md5.exe</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Linux和Microsoft Windows示例：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>md5sum mysql-standard-5.7.23-linux-i686.tar.gz</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aaab65abbec64d5e907dcd41b8699945 mysql-standard-5.7.23-linux-i686.tar.gz</font></font><font></font>
</pre><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>md5.exe mysql-installer-community-5.7.23.msi</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aaab65abbec64d5e907dcd41b8699945 mysql-installer-community-5.7.23.msi</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您应该验证生成的校验和（十六进制数字串）是否与相应软件包正下方的下载页上显示的校验和相匹配。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          确保验证的校验和</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存档文件</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例如</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="filename">.msi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          文件），并没有被包含在存档内的文件。</font><font style="vertical-align: inherit;">换句话说，在提取其内容之前验证文件。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.2使用GnuPG进行签名检查</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        验证包的完整性和真实性的另一种方法是使用加密签名。</font><font style="vertical-align: inherit;">这比使用</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#verifying-md5-checksum" title="2.1.3.1验证MD5校验和"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MD5校验和</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更可靠</font><font style="vertical-align: inherit;">，但需要更多的工作。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我们使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GnuPG</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（GNU Privacy Guard）</font><font style="vertical-align: inherit;">签署MySQL可下载的软件包
         </font><font style="vertical-align: inherit;">。
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GnuPG</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">Phil Zimmermann </font><font style="vertical-align: inherit;">的着名Pretty Good Privacy（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PGP</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">开源替代品</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">大多数Linux发行版
         </font><font style="vertical-align: inherit;">默认安装了</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GnuPG</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，请参阅
         </font></font><a class="ulink" href="http://www.gnupg.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.gnupg.org/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解更多关于
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GnuPG</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及如何获取和安装它的信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要验证特定软件包的签名，首先需要获取我们的公共GPG密钥的副本，您可以从</font></font><a class="ulink" href="http://pgp.mit.edu/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://pgp.mit.edu/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载该密钥</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您想要获取的密钥已命名
         </font></font><code class="literal">mysql-build@oss.oracle.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">或者，您可以直接从以下文本复制并粘贴密钥：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-----开始PGP公共密钥块-----</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
版本：GnuPG v1.4.5（GNU / Linux）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mQGiBD4 + owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH / nJKZyQT7h9bPlUWC3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96 + OmSLN9brZ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fw2vOUgCmYv2hW0hyDHuvYlQA / BThQoADgj8AW6 / 0Lo7V1W9 / 8VuHP0gQwCgvzV3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BqOxRznNCRCRxAuAuVztHRcEAJooQK1 + iSiunZMYD1WufeXfshc57S / + yeJkegNW</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hxwR9pRWVArNYJdDRT + rf2RUe3vpquKNQU / hnEIUHJRQqYHo8gTxvxXNQc7fJYLV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP / Vb7hiPwxh6rDZ7ITnE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw + UNDI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6 // 62zQJ7Q2TXlTUUwgUmVs</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20 + iGwE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ExECACwCGyMCHgECF4ACGQEGCwkIBwMCBhUKCQgCAwUWAgMBAAUCWKcFIAUJHirJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FAAKCRCMcY07UHLh9VcFAJ46pUyVd8BZ2r5CppMC1tmyQ3ceRgCfVPwuVsiS0VER</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5WUqtAQDt + DoetCIaQQTEQIAKQIbIwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAhkB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BQJTAdRmBQkaZsvLAAoJEIxxjTtQcuH1X4MAoKNLWAbCBUj96637kv6Xa / fJuX5m</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AJwPtmgDfjUe2iuhXdTrFEPT19SB6ohmBBMRAgAmAhsjBgsJCAcDAgQVAggDBBYC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AwECHgECF4AFAk53PioFCRP7AhUACgkQjHGNO1By4fUmzACeJdfqgc9gWTUhgmcM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AOmG4RjwuxcAoKfM + U8yMOGELi + TRif7MtKEms6piGkEExECACkCGyMGCwkIBwMC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BBUCCAMEFgIDAQIeAQIXgAIZAQUCUZSROgUJFTchqgAKCRCMcY07UHLh9YtAAJ9X</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RA / ymlmozPZn + A9ls8 / uwMcTsQCfaQMNq1dNkhH2kyByc3Rx9 / W2xfqJARwEEAEC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AAYFAlAS6 + UACgkQ8aIC + GoXHivrWwf / dtLk / X + NC2VMDlg + vOeM0qgG1IlhXZfi</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NsEisvvGaz4m8fSFRGe + 1bvvfDoKRhxiGXU48RusjixzvBb6KTMuY6JpOVfz9Dj3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H9spYriHa + i6rYySXZIpOhfLiMnTy7NH2OvYCyNzSS / ciIUACIfH / 2NH8zNT5CNF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1uPNRs7HsHzzz7pOlTjtTWiF4cq / Ij6Z6CNrmdj + SiMvjYN9u6sdEKGtoNtpycgD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5HGKR + I7Nd / 7v56yhaUe4FpuvsNXig86K9tI6MUFS8CUyy7Hj3kVBZOUWVBM053k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nGdALSygQr50DA3jMGKVl4ZnHje2RVWRmFTr5YWoRTMxUSQPMLpBNIkBHAQQAQIA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BgUCU1B + vQAKCRAohbcD0zcc8dWwCACWXXWDXIcAWRUw + j3ph8dr9u3SItljn3wB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c7clpclKWPuLvTz7lGgzlVB0s8hH4xgkSA + zLzl6u56mpUzskFl7f1I3Ac9GGpM4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0M5vmmR9hwlD1HdZtGfbD + wkjlqgitNLoRcGdRf / + U7x09GhSS7Bf339sunIX6sM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gXSC4L32D3zDjF5icGdb0kj + 3lCrRmp853dGyA3ff9yUiBkxcKNawpi7Vz3D2ddU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pOF3BP + 8NKPg4P2 + srKgkFbd4HidcISQCt3rY4vaTkEkLKg0nNA6U4r0YgOa7wIT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SsxFlntMMzaRg53QtK0 + YkH0KuZR3GY8B7pi + tlgycyVR7mIFo7riQEcBBABCAAG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BQJWgVd0AAoJEEZu4b / gk4UKk9MH / Rnt7EccPjSJC5CrB2AU5LY2Dsr + PePI2ubP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WsEdG82qSjjGpbhIH8LSg / PzQoGHiFWMmmZWJktRT + dcgLbs3b2VwCNAwCE8jOHd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UkQhEowgomdNvHiBHKHjP4 / lF68KOPiO / 2mxYYkmpM7BWf3kB57DJ5CTi3 / JLoN7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zF40qIs / p09ePvnwStpglbbtUn7XPO + 1 / Ee8VHzimABom52PkQIuxNiVUzLVn3bS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wqrd5ecuqLk6yzjPXd2XhDHWC9Twpl68GePru6EzQtusi0m6S / sHgEXqh / IxrFZV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JlljF75JvosZq5zeulr0i6kOij + Y1p6MFffihITZ1gTmk + CLvK2JASIEEAECAAwF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ak53QS4FAwASdQAACgkQlxC4m8pXrXwJ8Qf /是/ UO9mqfoc2sMyhwMpN4 / fdBWwf</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LkA12FXQDOQMvwH9HsmEjnfUgYKXschZRi + DuHXe1P7l8G2aQLubhBsQf9ejKvRF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TzuWMQkdIq + 6Koulxv6ofkCcv3d1xtO2W7nb5yxcpVBPrRfGFGebJvZa58DymCNg</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yGtAU6AOz4veavNmI2 + GIDQsY66 + tYDvZ + CxwzdYu + HDV9HmrJfc6deM0mnBn7SR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jqzxJPgoTQhihTav6q / R5 / 2p5NvQ / H84OgS6GjosfGc2duUDzCP / kheMRKfzuyKC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OHQPtJuIj8 ++ gfpHtEU7IDUX1So3c9n0PdpeBvclsDbpRnCNxQWU4mBot4kBIgQQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AQIADAUCToi2GQUDABJ1AAAKCRCXELibyletfLZAB / 9oRqx + NC98UQD / wlxCRytz</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VI / MuPnbgQUPLHEap10tvEi33S / H / XDR / tcGofY4cjAvo5skZXXeWq93Av7PACUb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zkg0X0eSr2oL6wy66xfov72AwSuX + iUK68qtKaLqRLitM02y8aNRV / ggKvt7UMvG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mOvs5yLaYlobyvGaFC2ClfkNOt2MlVnQZCmnYBCwOktPGkExiu2yZMifcYGxQcpH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KVFG59KeF2cM2d4xYM8HJqkSGGW306LFVSyeRwG + wbttgLpD5bM / T2b3fF / J35ra</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CSMLZearRTq8aygPl + XM7MM2eR946aw6jmOsgNBErbvvIdQj6LudAZj + 8imcXV2K</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iQEiBBABAgAMBQJOmdnRBQMAEnUAAAoJEJcQuJvKV618AvIIAIEF1ZJ + Ry7WOdKF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5oeQ / ynaYUigzN92fW / 9zB8yuQlngkFJGidYMbci1tR1siziIVJFusR3ZonqAPGK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ SUta9Y6KWLhmc7c5UnEHklq / NfdMZ2WVSIykXlctqw0sbb + z1ecEd4G8u9j5ill</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MO1B36rQayYAPoeXLX8dY4VyFLVGaQ00rWQBYFZrpw16ATWbWGJP332NSfCk4zZq</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6kXEW07q0st3YBgAAGdNQyEeZCa4d4pBRSX6189Kjg6GDnIcaiOF6HO6PLr9fRlL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
r5ObCgU + G9gEhfiVwDEV9E + 7 / Bq2pYZ9whhkBqWQzdpXTNTM24uaEhE01EPO5zeC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O214q6mJASIEEAECAAwFAk6rpgEFAwASdQAACgkQlxC4m8pXrXzAhwf / f9O99z16</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Y5FZVIxexyqXQ / Mct9uKHuXEVnRFYbA49dQLD4S73N + zN7gn9jFeQcBo4w8qVUV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
94U / TA / VbLkdtNREyplPM4XY8YE5Wfd9bfyg3q1PbEiVjk995sBF + 2 + To99YYKst</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gXPqjlH0jUfEyDmexOj + hsp8Rc63kvkIx36VBa4ONRYFefGAhKDMigL2YAhc1UkG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tkGTuLmlCGwIV6lviDZD3RJf5375VFnaHv7eXfwQxCwE + BxG3CURrjfxjaxMTmMP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yAG2rhDp5oTUEvqDYNbko5UxYOmrSjvF4FzXwqerElXJUkUzSh0pp7RxHB / 1lCxD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
s7D1F1hlgFQuNIkBIgQQAQIADAUCTrzZHAUDABJ1AAAKCRCXELibyletfMUpB / 4S</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
07dREULIBnA1D6qr3fHsQJNZqbAuyDlvgGGLWzoyEDs + 1JMFFlaa + EeLIo1386GU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2DammDC23p3IB79uQhJeD2Z1TcVg4cA64SfF / CHca5coeRSrdAiudzU / cgLGtXIP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ OaFamXgdMxAhloLFbSHPCZkyb00phVa8 + xeIVDrK1HByZsNIXy / SSK8U26S2PVZ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2o14fWvKbJ1Aga8N6DuWY / D8P2mi3RAbiuZgfzkmKL5idH / wSKfnFKdTgJzssdCc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1jZEGVk5rFYcWOrJARHeP / tsnb / UxKBEsNtO7e3N2e / rLVnEykVIO066hz7xZK / V</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NBSpx3k3qj4XPK41IHy2iQEiBBABAgAMBQJOzqO8BQMAEnUAAAoJEJcQuJvKV618</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2twH / 0IzjXLxN45nvIfEjC75a + i9ZSLlqR8lsHL4GpEScFKI0a0lT4IVAIY2RKG +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAs2eHm0UfKuwGs5jluRZ9RqKrc61sY0XQV9 / 7znY9Db16ghX04JjknOKs / fPi87</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rvKkB / QxJWS8qbb / erRmW + cPNjbRxTFPS5JIwFWHA16ieFEpvdAgKV6nfvJVTq1r</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jPDcnIA9CJN2SmUFx9Qx3SRc6ITbam1hjFnY6sCh6AUhxLI2f1mq1xH9PqEy42Um</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
68prRqTyJ7Iox1g / UDDkeeUcAg7T1viTz7uXpS3Wrq4zzo4yOpaJfLDR3pI5g2Zk</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SNGTMo6aySE4OABt8i1Pc1Pm6AmJASIEEAECAAwFAk7yPFYFAwASdQAACgkQlxC4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
m8pXrXzXiAf9FrXe0lgcPM + tYOWMLhv5gXJi2VUBaLxpyRXm / kJcmxInKq1GCd3y</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D4 / FLHNu3ZcCz / uklPAbZXWI0O6ewq0LWsRtklmJjWiedH + hGyaTv95VklojRIBd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8nBaJ6M98rljMBHTFwWvjQFVf4FLRJQZqHlvjcCkq2Dd9BWJpGXvr / gpKkmMJYNK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ ftfZRcChb35NI19WRpOhj9u808OPcqKVvZBcPwFGV5cEBzmAC94J7JcD8 + S8Ik8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iUJMQGGL3QcmZOBozovh86hj7KTSEBHlLXl832z89H1hLeuLbnXoGLv3zeUFSxkv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1h35LhZLqIMDQRXLuUzxGHMBpLhPyGWRJ4kBIgQQAQIADAUCTwQJFwUDABJ1AAAK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRCXELibyletfABvB / 9Cy69cjOqLGywITs3Cpg // 40jmdhSAVxilJivP6J5bubFH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DJlVTx541Dv5h4hTG2BQuueQ4q1VCpSGW + rHcdhPyvmZGRz1rxdQQGh1Dv0Bod2c</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3PJVSYPSrRSwCZJkJHOtVRBdjK4mkZb5aFTza + Tor9kxzj4FcXVd4KAS + hHQHYHc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ar8tt2eOLzqdEFTULeGiSoNn + PVzvzdfhndphK + 8F2jfQ2UKuc01O7k0Yn9xZVx0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OG6fE1gStzLv7C5amWLRd8 + XH + MN0G8MgNglpBoExsEMMlPBYSUHa6lxpdMNMuib</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rIyVncE9X8QOhImt8K0sNn / EdbuldJNGYbDLt7O4iQEiBBABAgAMBQJPFdTcBQMA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EnUAAAoJEJcQuJvKV6184owH + WZ / uLpezXnSxigeH1sig72QEXMrNd5DVHCJdig3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
博+ K5YmmN710 / m5z + 63XKUEWpd6 / knajObgckThzWftNeK1SSFQGPmoYZP9EZnSU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7L + / dSUpExbj842G5LYagrCyMGtlxRywWEmbi72TKS / JOK0jLiOdvVy + PHrZSu0D</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TVQ7cJh1BmPsbz7zzxjmcI5l + 7B7K7RHZHq45nDLoIabwDacj7BXvBK0Ajqz4QyJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GQUjXC7q + 88I + ptPvOXlE5nI / NbiCJOMI6d / bWN1KwYrC80fZuFaznfQFcPyUaDw</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yRaun + K3kEji2wXecq + yMmLUEp01TKsUeOL50HD6hHH07W + JASIEEAECAAwFAk85</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bQsFAwASdQAACgkQlxC4m8pXrXwKPQgAlkbUsTr7nkq + haOk0jKpaHWEbRMEGMrB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I3F7E + RDO6V / 8y4Jtn04EYDc8GgZMBah + mOgeINq3y8jRMYV5jVtZXv2MWYFUcjM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kVBKeqhi / pGEjmUdmdt3DlPv3Z + fMTMRmAocI981iY / go8PVPg / + nrR6cFK2xxnO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R8TacikJBFeSfkkORg1tDzjjYv1B5ZIEkpplepl5ahJBBq7cpYhTdY6Yk0Sz0J8w</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EdffLSaNxrRuWLrRhWzZU7p9bFzfb / 7OHc21dJnB7wKv5VvtgE + jiQw9tOKaf5hc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SgRYuF6heu + B25gc5Uu88lo409mZ7oxQ6hDCn7JHvzh0rhmSN + Kid4kBIgQQAQIA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DAUCT0qQrQUDABJ1AAAKCRCXELibyletfC9UB / 4o2ggJYM0CLxEpP0GU8UKOh3 + /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zm1DN7Qe4kY2iCtF1plKHQaTgt5FlgRCFaiXcVv7WzGz / FnmxonR1leLl + kfRlwy</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PPnoI / AWPCy / NO4Cl5KnjsSmsdDUpObwZ4KYsdilZR7ViJu2swdAIgnXBUwrlRJR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7CK4TAKrTeonRgVSrVx8Vt // 8 / cYj73CLq8oY / KK0iHiQrSwo44uyhdiFIAssjyX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N6 / 2E + w0zgvPexNSNNROHQ8pjbq + NTY6GwKIGsaej3UTRwQ7psvKXz8y7xdzmOAr</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ khGvxB5gjkx02pimjeia8v66aH6rbnojJMAovNUS4EHdHnulv4rovC8Kf9iiQEi</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BBABAgAMBQJPVdsaBQMAEnUAAAoJEJcQuJvKV618vVEIALFXPBzcAO1SnQarBLzy</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YMVZZumPvSXKnUHAO + 6kjApXPJ + qFRdUaSNshZxVKY9Zryblu4ol / fLUTt0CliSD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IxD6L4GXEm4VYYCl4lPO3bVsJnGITLFwQGHM27EmjVoTiD8Ch7kPq2EXr3dMRgzj</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDZ + 6aHGSUfOdLTPXufDvW83bEWGaRVuTJKw + wIrcuRqQ + ucWJgJGwcE4zeHjZad</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jx1XUm1X + BbI73uiQussyjhhQVVNU7QEdrjyuscaZ / H38wjUwNbylxDPB4I8quC1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
knQ0wSHr7gKpM + E9nhiS14poRqU18u78 / sJ2MUPXnQA6533IC238 / LP8JgqB + ​​BIQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BTSJASIEEAECAAwFAk9ng3cFAwASdQAACgkQlxC4m8pXrXxQRAf / UZlkkpFJj1om</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9hIRz7gS + l7YvTaKSzpo + TBcx3C7aqKJpir6TlMK9cb9HGTHo2Xp1N3FtQL72NvO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6CcJpBURbvSyb4i0hrm / YcbUC4Y3eajWhkRS3iVfGNFbc / rHthViz0r6Y5lhXX16</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aVkDv5CIFWaF3BiUK0FnHrZiy4FPacUXCwEjv3uf8MpxV5oEmo8Vs1h4TL3obyUz</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qrImFrEMYE / 12lkE8iR5KWCaF8eFyl56HL3PPl90JMQBXzhwsFoWCPuwjfM5w6sW</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LL // zynwxtlJ9CRz9c2vK6aJ8DRu3OfBKN1iiEcNEynksDnNXErn5xXKz3p5pYdq</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e9BLzUQCDYkBIgQQAQIADAUCT3inRgUDABJ1AAAKCRCXELibyletfGMKCADJ97qk</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
geBntQ + tZtKSFyXznAugYQmbzJld8U6eGSQnQkM40Vd62UZLdA8MjlWKS8y4A4L2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0cI14zs5tKG9Q72BxQOw5xkxlLASw1 / 8WeYEbw7ZA + SPG // q9v3kIkru3sv64mMA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
enZtxsykexRGyCumxLjzlAcL1drWJGUYE2Kl6uzQS7jb + 3PNBloQvz6nb3YRZ + CG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ly9D41SIK + fpnV8r4iqhu7r4LmAQ7Q1DF9aoGaYvn2 + xLGyWHxJAUet4xkMNOLp6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
k9RF1nbNe4I / sqeCB25CZhCTEvHdjSGTD2yJR5jfoWkwO9w8DZG1Q9WrWqki4hSB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
l0cmcvO34pC1SJYziQEiBBABAgAMBQJPinQFBQMAEnUAAAoJEJcQuJvKV618CFEI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AJp5BbcV7 + JBMRSvkoUcAWDoJSP2ug9zGw5FB8J90PDefKWCKs5Tjayf2TvM5ntq</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5DE9SGaXbloIwa74FoZlgqlhMZ4AtY9Br + oyPJ5S844wpAmWMFc6NnEPFaHQkQ + B</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dJYpRVNd9lzagJP261P3S + S9T2UeHVdOJBgWIq9Mbs4lnZzWsnZfQ4Lsz0aPqe48</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tkU8hw + nflby994qIwNOlk / U + I / lJbNz5zDY91oscXTRl2jV1qBgKYwwCXxyB3j9</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fyVpRl + 7QnqbTWcCICVFL + uuYpP0HjdoKNqhzEguAUQQLOB9msPTXfa2hG + 32ZYg</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5pzI5V7GCHq0KO6u5Ctj3TGJASIEEAECAAwFAk + cQEEFAwASdQAACgkQlxC4m8pX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rXzi7AgAx8wJzNdD7UlgdKmrAK // YqH7arSssb33Xf45sVHDpUVA454DXeBrZpi +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zEuo03o5BhAuf38cwfbkV6jN1mC2N0FZfpy4v7RxHKLYr7tr6r + DRn1L1giX5ybx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CgY0fLAxkwscWUKGKABWxkz9b / beEXaO2rMt + 7DBUdpAOP5FNRQ8WLRWBcMGQiaT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S4YcNDAiNkrSP8CMLQP + 04hQjahxwCgBnksylciqz3Y5 / MreybNnTOrdjVDsF0Oe</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
t0uLOiWXUZV1FfaGIdb / oBQLg + e1B74p5 + q3aF8YI97qAZpPa1qiQzWIDX8LX9QX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EFyZ3mvqzGrxkFoocXleNPgWT8fRuokBIgQQAQIADAUCT64N / QUDABJ1AAAKCRCX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELibyletfDOGCACKfcjQlSxrWlEUrYYZpoBP7DE + YdlIGumt5l6vBmxmt / 5OEhqr</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ dWwuoiyC5tm9CvJbuZup8anWfFzTTJmPRPsmE4z7Ek + 3CNMVM2wIynsLOt1pRFK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 / 5RNjRLbwI6EtoCQfpLcZJ // SB56sK4DoFKH28Ok4cplESPnoMqA3QafdSEA / FL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qvZV / iPgtTz7vjQkMgrXAIUM4fvKe3iXkAExGXtmgdXHVFoKmHrxJ2DTSvM7 / 19Z</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jGJeu2MhIKHyqEmCk6hLjxyCE5pAH59KlbAQOP1bS28xlRskBApm2wN + LOZWzC62</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HhEReQ50inCGuuubK0PqUQnyYc + lUFxrFpcliQEiBBABAgAMBQJPv9lVBQMAEnUA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AAoJEJcQuJvKV618AzgH / iRFFCi4qjvoqji1fi7yNPZVOMMO2H13Ks + AfcjRtHuV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aa30u50ND7TH + XQe6yerTapLh3aAm / sNP99aTxIuwRSlyKEoDs93 + XVSgRqPBgbF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ vxv0ykok3p6L9DxFO / w5cL8JrBhMZoJrEkIBFkwN8tWlcXPRFQvcdBYv3M3DTZU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QY + UHnOxHvSzsl + LJ0S9Xcd9C5bvYfabmYJvG5eRS3pj1L / y3a6yw6hvY + JtnQAk</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
t05TdeHMIgQH / zb8V9wxDzmE0un8LyoC2Jx5TpikQsJSejwK6b3coxVBlngku6 + C</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qDAimObZLw6H9xYYIK0FoJs7j5bQZEwUO7OLBgjcMOqJASIEEAECAAwFAk / Rpc8F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AwASdQAACgkQlxC4m8pXrXw49Qf / TdNbun2htQ + cRWarszOx8BLEiW / x6PVyUQpZ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
纳伏/ 0qvhKzlJUjM9hQPcA0AsOjhqtCN6Cy8KXbK / TvPm9D / Nk6HWwD1PomzrJVFk2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ywGFIuTR + lluKSp7mzm5ym0wJs5cPq731Im31RUQU8ndjLrq9YOf5FVL8NqmcOAU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4E8d68BbmVCQC5MMr0901FKwKznShfpy7VYN25 / BASj8dhnynBYQErqToOJB6Cnd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JhdTlbfR4SirqAYZZg3XeqGhByytEHE1x7FMWWFYhdNtsnAVhYBbWqAzBs8lF9Jd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mhaf0VQU / 4z10gVrRtXLR / ixrCi + P4cM / fOQkqd6pwqWkaXt6okBIgQQAQIADAUC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T + NxIAUDABJ1AAAKCRCXELibyletfFBBCAC6 + 0TUJDcNaqOxOG1KViY6KYg9NCL8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pwNK + RKNK / N1V + WGJQH7qDMwRoOn3yogrHax4xIeOWiILrvHK0O6drS1DjsymIhR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sm2XbE / 8pYmEbuJ9vHh3b / FTChmSAO7dDjSKdWD3dvaY8lSsuDDqPdTX8FzOfrXC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M22C / YPg7oUG2A5svE1b + yismP4KmVNWAepEuPZcnEMPFgop3haHg9X2 + MJ / btDB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yr6p9kAgIY17nigtNTNjtI0dMLu43aIzedCYHqOlNHiB049jkJs54fMGBjF9qPtc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
m0k44xyKd1 / JXWMdNUmtwKsChAXJS3YOciMgIx6tqYUTndrP4I6q1rfriQEiBBAB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AgAMBQJP9T1VBQMAEnUAAAoJEJcQuJvKV618J9wIAI1lId9SMbEHF6PKXRe154lE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pap5imMU / lGTj + 9ZcXmlf8o2PoMMmb3 / E1K + EZUaeSBoOmjS8C2gwd5XFwRrlwAD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RLK / pG5XsL4h5wmN2fj1ororrJXvqH427PLRQK9yzdwG4 + 9HTBOxjoS8qZT9plyK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AJZzAydAMqyseRHgNo0vMwlgrs4ojo + GcFGQHrF3IaUjvVfUPOmIj7afopFdIZmI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GaSF0TXBzqcZ1chFv / eTBcIuIKRvlaDee5FgV7 + nLH2nKOARCLvV / + 8uDi2zbr83</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ip5x2tD3XuUZ0ZWxD0AQWcrLdmGb4lkxbGxvCtsaJHaLXWQ2m760RjIUcwVMEBKJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASIEEAECAAwFAlAGYWsFAwASdQAACgkQlxC4m8pXrXwyVAgAvuvEl6yuGkniWOlv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
uHEusUv / + + 2GCBg6qV IEpVtbTCCgiFjYR5GasSp1gpZ5r4BocOlbGdjdJGHTpyK8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xD1i + 6qZWUYhNRg2POXUVzcNEl2hhouwPLOifcmTwAKU76TEv3L5STviL3hWgUR2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yEUZ3Ut0IGVV6uPER9jpR3qd6O3PeuFkwf + NaGTye4jioLAy3aYwtZCUXzvYmNLP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
90K4y + 5yauZteLmNeq26miKC / NQu4snNFClPbGRjHD1ex9KDiAMttOgN4WEq7srT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rYgtT531WY4deHpNgoPlHPuAfC0H + S6YWuMbgfcb6dV + Rrd8Ij6zM3B / PcjmsYUf</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OPdPtIkBIgQQAQIADAUCUBgtfQUDABJ1AAAKCRCXELibyletfAm3CACQlw21Lfeg</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8RmIITsfnFG / sfM3MvZcjVfEAtsY3fTK9NiyU0B3yX0PU3ei37qEW + 50BzqiStf</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5VhNvLfbZR + yPou7o2MAP31mq3Uc6grpTV64BRIkCmRWg40WMjNI1hv7AN / 0atgj</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ATYQXgnEw7mfFb0XZtMTD6cmrz / A9nTPVgZDxzopOMgCCC1ZK4Vpq9FKdCYUaHpX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3sqnDf + gpVIHkTCMgWLYQOeX5Nl + fgnq6JppaQ3ySZRUDr + uFUs0uvDRvI / CN + UR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ri92wdDnczjFumKvz / cLJAg5TG2Jv1Jx3wecALsVqQ3gL7f7vr1OMaqhI5FEBqdN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
29L9cZe / ZmkriQEiBBIBCgAMBQJVoNxyBYMHhh + AAAoJEEoz7NUmyPxLD1EH / 2EH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7A4 + 8A1lPLy2L9xcNt2bifLfFP2pEjcG6ulBoMKpHvuTCgtX6ZPdHpM7uUOje / F1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CCN0IPB533U1NIoWIKndwNUJjughtoRM + caMUdYyc4kQm29Se6hMPDfyswXE5Bwe</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PmoOm4xWPVOH / cVN04zyLuxdlQZNQF / nJg6PMsz4w5z + K6NGGm24NEPcc72iv + 6R</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UC / RY / 7v5cVu4hO5 + r104mmNV5yLecQF13cHy2JlngIHXPSlxTZbeJX7qqxE7TQh</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5nviSPgdk89oB5jFSx4g1efXiwtLlP7lbDlxHduomyQuH9yqmPZMbkJt9uZDc8Zz</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MYsDDwlc7BIe5bGKfjqJAhwEEAECAAYFAlSanFIACgkQdzHqU52lcqLdvg // CAEP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qdN5VTKWEoDFjDS4I6t8 + 0KzdDWDacVFwKJ8RAo1M2SklDxnIvnzysZd2VHp5Pq7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
i4LYCZo5lDkertQ6LwaQxc4X6myKY4LTA652ObFqsSfgh9kW + aJBBAyeahPQ8CDD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ Yl23 + MY5wTsj4qt7KffNzy78vLbYnVnvRQ3 / CboVix0SRzg0I3Oi7n3B0lihvXy</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5goy9ikjzZevejMEfjfeRCgoryy9j5RvHH9PF3fJVtUtHCS4f + kxLmbQJ1XqNDVD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hlFzjz8oUzz / 8YXy3im5MY7Zuq4P4wWiI7rkIFMjTYSpz / evxkVlkR74qOngT2pY</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VHLyJkqwh56i0aXcjMZiuu2cymUt2LB9IsaMyWBNJjXr2doRGMAfjuR5ZaittmML</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yZwix9mWVk7tkwlIxmT / IW6Np0qMhDZcWYqPRpf7 + MqY3ZYMK4552b8aDMjhXrnO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OwLsz + UI4bZa1r9dguIWIt2C2b5C1RQ9AsQBPwg7h5P + HhRuFAuDKK + vgV8FRuzR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JeKkFqwB4y0Nv7BzKbFKmP + V + / + krRv / Dyz9Bz / jyAQgw02u1tPupH9BGhlRyluN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yCJFTSNj7G + OLU0 / l4XNph5OOC7sy + AMZcsL / GST / TXCizRcCuApNTPDaenACpbv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
g8OoIzmNWhh4LXbAUHCKmY // hEw9PvTZA1xKHgyJAhwEEgECAAYFAlJYsKQACgkQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oirk60MpxUV2XQ // B2 / uvThkkbeOegusDC4AZfjnL / V3mgk4iYy4AC9hum0R9oNl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XDR51P1TEw9mC1btHj + 7m7Iq1a5ke5wIC7ENZiilr0yPqeWgL5 + LC98dz / L85hqA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wIoGeOfMhrlaVbAZEj4yQTAJDA35vZHVsQmp87il0m + fZX04OBLXBzw86EoAAZ7Q</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EoH4qFcT9k1T363tvNnIm3mEvkQ5WjE1R9uchJa1g7hdlNQlVkjFmPZrJK9fl4z5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6Dto89Po4Sge48jDH0pias4HATYHsxW819nz5jZzGcxLnFRRR5iITVZi9qzsHP7N</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bUh3qxuWCHS9xziXpOcSZY848xXw63Y5jDJfpzupzu / KHj6CzXYJUEEqp9MluoGb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ BCCEPzdZ0ovyxFutM / BRcc6DvE6sTDF / UES21ROqfuwtJ6qJYWX + lBIgyCJvj4o</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RdbzxUleePuzqCzmwrIXtoOKW0Rlj4SCeF9yCwUMBTGW5 / nCLmN4dwf1KW2RP2Eg</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4ERbuUy7QnwRP5UCl + 0ISZJyYUISfg8fmPIdQsetUK9Cj + Q5jpB2GXwELXWnIK6h</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
K / 6jXp + EGEXSqdIE53vAFe7LwfHiP / D5M71D2h62sdIOmUm3lm7xMOnM5tKlBiV +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4jJSUmriCT62zo710 + 6iLGqmUUYlEll6Ppvo8yuanXkYRCFJpSSP7VP0bBqIZgQT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EQIAJgUCTnc9dgIbIwUJEPPzpwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAAoJEIxx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jTtQcuH1Ut4AoIKjhdf70899d + 7JFq3LD7zeeyI0AJ9Z + YyE1HZSnzYi73brScil</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bIV6sbQ7TXlTUUwgUGFja2FnZSBzaWduaW5nIGtleSAod3d3Lm15c3FsLmNvbSkg</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PGJ1aWxkQG15c3FsLmNvbT6IbwQwEQIALwUCTnc9rSgdIGJ1aWxkQG15c3FsLmNv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bSB3aWxsIHN0b3Agd29ya2luZyBzb29uAAoJEIxxjTtQcuH1tT0An3EMrSjEkUv2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9OX05JkLiVfQr0DPAJwKtL1ycnLPv15pGMvSzav8JyWN3IhlBBMRAgAdBQJHrJS0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BQkNMFioBQsHCgMEAxUDAgMWAgECF4AAEgkQjHGNO1By4fUHZUdQRwABAa6SAJ9 /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PgZQSPNeQ6LvVVzCALEBJOBt7QCffgs + vWP18JutdZc7XiawgAN9vmmITAQTEQIA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DAUCPj6j0QWDCWYAuwAKCRBJUOEqsnKR8iThAJ9ZsR4o37dNGyl77nEqP6RAlJqa</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YgCeNTPTEVY + VXHR / yjfyo0bVurRxT2ITAQTEQIADAUCPkKCAwWDCWIiiQAKCRC2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9c1NxrokP5aRAKCIaaegaMyiPKenmmm8xeTJSR + fKQCgrv0TqHyvCRINmi6LPucx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GKwfy7KIRgQQEQIABgUCP6zjrwAKCRCvxSNIeIN0D / aWAKDbUiEgwwAFNh2n8gGJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW / 8lAuISgCdHMzLAS26NDP8T2iejsfUOR5sNriIRgQQEQIABgUCP7RDdwAKCRCF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LQ + rMHNOZsbDAJ0WoPV + tWILtZG3wYqg5LuHM03faQCeKuVvCmdPtro06xDzeeTX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VrZ14 + GIRgQQEQIABgUCQ1uz6gAKCRCL2C5vMLlLXH90AJ0QsqhdAqTAk3SBnO2w</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zuSOwiDIUwCdFExsdDtXf1cL3Q4ilo + OTdrTW2CIRgQTEQIABgUCRPEzJgAKCRD2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ScT0YJNTDApxAKCJtqT9LCHFYfWKNGGBgKjka0zi9wCcCG3MvnvBzDUqDVebudUZ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
61Sont + ITAQQEQIADAUCQYHLAQWDBiLZiwAKCRAYWdAfZ3uh7EKNAJwPywk0Nz + Z</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lybw4YNQ7H1UxZycaQCePVhY4P5CHGjeYj9SX2gQCE2SNx + ITAQQEQIADAUCQYHL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAWDBiLZWAAKCRCBwvfr4hO2kiIjAJ0VU1VQHzF7yYVeg + bh31nng9OOkwCeJI8D</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9mx8neg4wspqvgXRA8 + t2saITAQQEQIADAUCQYHLYgWDBiLZKgAKCRBrcOzZXcP0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cwmqAJsFjOvkY9c5eA / zyMrOZ1uPB6pd4QCdGyzgbYb / eoPu6FMvVI9PVIeNZReI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TAQQEQIADAUCQdCTJAWDBdQRaAAKCRB9JcoKwSmnwmJVAKCG9a + Q + qjCzDzDtZKx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5NzDW1 + W + QCeL68seX8OoiXLQuRlifmPMrV2m9 + ITAQQEQIADAUCQitbugWDBXlI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0gAKCRDmG6SJFeu5q / MTAKCTMvlCQtLKlzD0sYdwVLHXJrRUvgCffmdeS6aDpwIn</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
U0 / yvYjg1xlYiuqITAQSEQIADAUCQCpZOgWDB3pLUgAKCRA8oR80lPr4YSZcAJwP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4DncDk4YzvDvnRbXW6SriJn1yQCdEy + d0CqfdhM7HGUs + PZQ9mJKBKqITAQSEQIA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DAUCQD36ugWDB2ap0gAKCRDy11xj45xlnLLfAKC0NzCVqrbTDRw25cUss14RRoUV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PACeLpEc3zSahJUB0NNGTNlpwlTczlCITAQSEQIADAUCQQ4KhAWDBpaaCAAKCRA5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yiv0PWqKX / zdAJ4hNn3AijtcAyMLrLhlZQvib551mwCgw6FEhGLjZ + as0W681luc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wZ6PzW + ITAQSEQIADAUCQoClNAWDBSP / WAAKCRAEDcCFfIOfqOMkAJwPUDhS1eTz</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gnXclDKgf353LbjvXgCeLCWyyj / 2d0gIk6SqzaPl2UcWrqiITAQTEQIADAUCPk1N</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hAWDCVdXCAAKCRAtu3a / rdTJMwUMAKCVPkbk1Up / kyPrlsVKU / Nv3bOTZACfW5za</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HX38jDCuxsjIr / 084n4kw / uITAQTEQIADAUCQdeAdgWDBc0kFgAKCRBm79vIzYL9</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PJ + 8AJ9d7rvGJIcHzTCSYVnaStv6jP + AEACeNHa5yltqieRBCCcLcacGqYK81omI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TAQTEQIADAUCQhiBDgWDBYwjfgAKCRB2wQMcojFuoaDuAJ9CLYdysef7IsW42UfW</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hI6HjxkzSgCfeEpXS4hEmmGicdpRiJQ / W21aB0GIZQQTEQIAHQULBwoDBAMVAwID</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FgIBAheABQJLcC / KBQkQ8 / OnABIHZUdQRwABAQkQjHGNO1By4fWw2wCeJilgEarL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8eEyfDdYTyRdqE45HkoAnjFSZY8Zg / iXeErHI0r04BRukNVgiHsEMBECADsFAkJ3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NfU0HQBPb3BzLi4uIHNob3VsZCBoYXZlIGJlZW4gbG9jYWwhIEknbSAqc28qIHN0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dXBpZC4uLgAKCRA5yiv0PWqKX + 9HAJ0WjTx / rqgouK4QCrOV / 2IOU + jMQQCfYSC8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JgsIIeN8aiyuStTdYrk0VWCIjwQwEQIATwUCRW8Av0gdAFNob3VsZCBoYXZlIGJl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ZW4gYSBsb2NhbCBzaWduYXR1cmUsIG9yIHNvbWV0aGluZyAtIFdURiB3YXMgSSB0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aGlua2luZz8ACgkQOcor9D1qil + G + wCfcFWoo5qUl4XTE9K8tH3Q + xGWeYYAnjii</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KxjtOXc0ls + BlqXxbfZ9uqBsiQIiBBABAgAMBQJBgcuFBYMGItkHAAoJEKrj5s5m</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oURoqC8QAIISudocbJRhrTAROOPoMsReyp46Jdp3iL1oFDGcPfkZSBwWh8L + cJjh</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dycIwwSeZ1D2h9S5Tc4EnoE0khsS6wBpuAuih5s // coRqIIiLKEdhTmNqulkCH5m</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
imCzc5zXWZDW0hpLr2InGsZMuh2QCwAkB4RTBM + r18cUXMLV4YHKyjIVaDhsiPP /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MKUj6rJNsUDmDq1GiJdOjySjtCFjYADlQYSD7zcd1vpqQLThnZBESvEoCqumEfOP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xemNU6xAB0CL + pUpB40pE6Un6Krr5h6yZxYZ / N5vzt0Y3B5UUMkgYDSpjbulNvaU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TFiOxEU3gJvXc1 + h0BsxM7FwBZnuMA8LEA + UdQb76YcyuFBcROhmcEUTiducLu84</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E2BZ2NSBdymRQKSinhvXsEWlH6Txm1gtJLynYsvPi4B4JxKbb + awnFPusL8W + GFZ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jbygeKdyqzYgKj3M79R3geaY7Q75Kxl1UogiOKcbI5VZvg47OQCWeeERnejqEAdx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EQiwGA / ARhVOP / 1l0LQA7jg2P1xTtrBqqC2ufDB + V + jhXaCXxstKSW1lTbv / b0d6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
454UaOUV7RisN39pE2zFvJvY7bwfiwbUJVmYLm4rWJAEOJLIDtDRtt2h8JahDObm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3CWkpadjw57S5v1c / MN + xV9yTgVx5YUfC / 788L1HNKXfeVDq8zbAiQIiBBMBAgAM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BQJCnwocBYMFBZpwAAoJENjCCglaJFfPIT4P / 25zvPp8ixqV85igs3rRqMBtBsj +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5EoEW6DJnlGhoi26yf1nasC2frVasWG7i4JIm0U3WfLZERGDjR / nqlOCEqsP5gS3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
43N7r4UpDkBsYh0WxH / ZtST5llFK3zd7XgtxvqKL98l / OSgijH2W2SJ9DGpjtO + T</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iegq7igtJzw7Vax9z / LQH2xhRQKZR9yernwMSYaJ72i9SyWbK3k0 + e95fGnlR5pF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zlGq320rYHgD7v9yoQ2t1klsAxK6e3b7Z + RiJG6cAU8o8F0kGxjWzF4v8D1op7S +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IoRdB0Bap01ko0KLyt3 + G4 / 33 / 2UxsW50BtfqcvYNJvU4bZns1YSqAgDOOanBhg8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ip5XPlDxH6J / 3997n5JNj / nk5ojfd8nYfe / 5TjflWNiput6tZ7frEki1wl6pTNbv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V9C1eLUJMSXfDZyHtUXmiP9DKNpsucCUeBKWRKLqnsHLkLYydsIeUJ8 + ciKc + EWH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FxEY + Ml72cXAaz5BuW9L8KHNzZZfez / ZJabiARQpFfjOwAnmhzJ9r ++ TEKRLEr96</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
taUI9 / 8nVPvT6LnBpcM38Td6dJ639YvuH3ilAqmPPw50YvglIEe4BUYD5r52Seqc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8XQowouGOuBX4vs7zgWFuYA / s9ebfGaIw + uJd / 56Xl9ll6q5CghqB / yt1EceFEnF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CAjQc2SeRo6qzx22iEYEEBECAAYFAkSAbycACgkQCywYeUxD5vWDcACfQsVk / XGI</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ITFyFVQ3IR / 3Wt7zqBMAoNhso / cX8VUfs2BzxPvvGS3y + 5Q9iEYEEBECAAYFAkUw</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ntcACgkQOI4l6LNBlYkyFgCbBcw5gIii0RTDJsdNiuJDcu / NPqEAniSq9iTaLjgF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HZbaizUU8arsVCB5iEYEEBECAAYFAkWho2sACgkQu9u2hBuwKr6bjwCfa7ZK6O + X</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mT08Sysg4DEoZnK4L9UAoLWgHuYg35wbZYx + ZUTh98diGU / miF0EExECAB0FAj4 +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
owwFCQlmAYAFCwcKAwQDFQMCAxYCAQIXgAAKCRCMcY07UHLh9XGOAJ4pVME15 / DG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rUDohtGv2z8a7yv4AgCeKIp0jWUWE525QocBWms7ezxd6syIXQQTEQIAHQUCR6yU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zwUJDTBYqAULBwoDBAMVAwIDFgIBAheAAAoJEIxxjTtQcuH1dCoAoLC6RtsD9K3N</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7NOxcp3PYOzH2oqzAKCFHn0jSqxk7E8by3sh + Ay8yVv0BYhdBBMRAgAdBQsHCgME</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AxUDAgMWAgECF4AFAkequSEFCQ0ufRUACgkQjHGNO1By4fUdtwCfRNcueXikBMy7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tE2BbfwEyTLBTFAAnifQGbkmcARVS7nqauGhe1ED / vdgiF0EExECAB0FCwcKAwQD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FQMCAxYCAQIXgAUCS3AuZQUJEPPyWQAKCRCMcY07UHLh9aA + AKCHDkOBKBrGb8tO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
g9BIub3LFhMvHQCeIOOot1hHHUlsTIXAUrD8 + ubIeZaJARwEEgECAAYFAkvCIgMA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CgkQ3PTrHsNvDi8eQgf / dSx0R9Klozz8iK79w00NOsdoJY0Na0NTFmTbqHg30XJo</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
G62cXYgc3 + TJnd + pYhYi5gyBixF / L8k / kPVPzX9W0YfwChZDsfTw0iDVmGxOswiN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jzSo0lhWq86 / nEL30Khl9AhCC1XFNRw8WZYq9Z1qUXHHJ2rDARaedvpKHOjzRY0N</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dx6R2zNyHDx2mlfCQ9wDchWEuJdAv0uHrQ0HV9 + xq7lW / Q3L / V5AuU0tiowyAbBL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PPYrB6x9vt2ZcXS7BOy8SfQ1i8W2QDQ / Toork4YwBiv6WCW / ociy7paAoPOWV / NF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2S6hDispeecbk7wqpbUj5klDmwrlgB / jmoAXWEnbsYkBIgQQAQIADAUCSSpooAUD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ABJ1AAAKCRCXELibyletfFOMCACpP + OVZ7lH / CNY + 373c4FnSI0 / S5PXS0ABgdd4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BFWRFWKrWBeXBGc8sZfHOzVEwkzV96iyHbpddeAOAkEA4OVPW1MMFCmlHxi2s9 / N</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JrSrTPVfQOH5fR9hn7Hbpq / ETw0IoX1FKo7vndMnHZnFEnI + PDXLcdMYQgljYzhT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xER4vYY0UKu8ekSshUy4zOX7XSJxwqPUvps8qs / TvojIF + vDJvgFYHVkgvS + shp8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
哦/ exg9vKETBlgU87Jgsqn / SN2LrR / Jhl0aLd0G0iQ + / wHmVYdQUMFaCZwk / BKNa</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XPzmGZEUZ3RNbYa19Mo7hcE3js76nh5YMxFvxbTggVu4kdFkiQEiBBABAgAMBQJK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M06IBQMAEnUAAAoJEJcQuJvKV618F4gH / innejIHffGMk8jYix4ZZT7pW6ApyoI +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N9Iy85H4L + 8rVQrtcTHyq0VkcN3wPSwtfZszUF / 0qP6P8sLJNJ1BtrHxLORYjJPm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gveeyHPzA2oJl6imqWUTiW822fyjY / azwhvZFzxmvbFJ + r5N / Z57 + Ia4t9LTSqTN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HzMUYaXKDaAqzZeK7P0E6XUaaeygbjWjBLQ1O0ezozAy + KK / gXApmDCGFuHSFe7Z</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mgtFcbXLM2XFQpMUooETD2R8MUsd + xnQsff / k6pQOLxi + jUEsWSr / iqmvlk6gZ4D</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pemBjuhcXYlxJYjUaX9Zmn5s + ofF4GFxRqXoY7l9Z + tCM9AX37lm6S + JASIEEAEC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AAwFAkpEcgoFAwASdQAACgkQlxC4m8pXrXz2mgf / RQkpmMM + 5r8znx2TpRAGHi5w</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ktvdFxlvPaOBWE28NDwTrpcoMqo9kzAiuvEQjVNihbP21wR3kvnQ84rTAH0mlC2I</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
uyybggpqwzOUl + Wi0o + vk8ZA0A0dStWRN8uqneCsd1XnqDe1rvqC4 / 9yY223tLmA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kPvz54ka2vX9GdJ3kxMWewhrVQSLCktQpygU0dujGTDqJtnk0WcBhVF9T87lv3W2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eGdPielzHU5trXezmGFj21d56G5ZFK8co7RrTt4qdznt80glh1BTGmhLlzjMPLTe</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dcMusm3D1QB9ITogcG94ghSf9tEKmmRJ6OnnWM5Kn9KcL63E5oj2 / lY9H54wSYkB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IgQQAQIADAUCSlY + RwUDABJ1AAAKCRCXELibyletfOOQB / 0dyJBiBjgf + 8d3yNID</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pDktLhZYw8crIjPBVdOgX12xaUYBTGcQITRVHSggzffDA5BQXeUuWhpL4QB0uz1c</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EPPwSMiWiXlBtwF5q6RVf3PZGJ9fmFuTkPRO7SruZeVDo9WP8HjbQtOLukYf566e</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
grzAYR9p74UgWftpDtmrqrRTobiuvsFBxosbeRCvEQCrN0n + p5D9hCVB88tUPHnO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WA4mlduAFZDxQWTApKQ92frHiBqy + M1JFezz2OM3fYN + Dqo / Cb7ZwOAA / 2dbwS7o</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y4sXEHbfWonjskgPQwFYB23tsFUuM4uZwVEbJg + bveglDsDStbDlfgArXSL / 0 + AK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lFcHiQEiBBABAgAMBQJKaAqEBQMAEnUAAAoJEJcQuJvKV618rH0H / iCciD4U6YZN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JBj0GN7 / Xt851t9FWocmcaC + qtuXnkFhplXkxZVOCU4VBMs4GBoqfIvagbBTyfV4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
迪+ W8Uxr + / 1jiu3l / HvoFxwdwNkGG6zNBhWSjdwQpGwPvh5ryV1OfLX / mgQgdDmx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vqz5 + kFDUj4m7uLaeuU2j1T0lR4zU0yAsbt7J3hwfqJCXHOc9bm5nvJwMrSm + SDC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TP5HjUlwHr9mTe8xuZvj6sO / w0P4AqIMxjC9W7pT9q0ofG2KSTwt7wFbh05sbG4U</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QYOJe4 + Soh3 + KjAa1c0cvmIh4cKX9qfCWwhhdeNfh1A9VTHhnl5zTv / UjvnQtjhl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H / Fq1eBSKcSJASIEEAECAAwFAkp5LgoFAwASdQAACgkQlxC4m8pXrXwY6wgAg3f8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
76L3qDZTYlFAWs3pXBl8GsUr1DEkTlEDZMZKDM3wPmhaWBR1hMA3y6p3aaCUyJIJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEneXzgyU9uqCxXpC78d5qc3xs / JD / SswzNYuvuzLYOw5wN5L31SLmQTQ8KqE0uo</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RynBmtDCQ4M2UKifSnv + 0 + 3mPh85LVAS481GNpL + VVfCYtKesWNu40 + 98Yg6L9NG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WwRTfsQbcdokZo44Jz7Y7f81ObC4r / X1DgPj2 + d4AU / plzDcdrbINOyprs + 7340e</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cnaGO4Lsgd19b1CvcgJgltRquu3kRvd + Ero2RYpDv6GVK8Ea0Lto4 + B / Ae8cLXAh</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QnaWQCEWmw + AU4Jbz4kBIgQQAQIADAUCSo5fvQUDABJ1AAAKCRCXELibyletfA08</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B / 9w8yJdc8K + k07U30wR / RUg3Yb2lBDygmy091mVsyB0RGixBDXEPOXBqGKAXiV1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QSMAXM2VKRsuKahY2HFkPbyhZtjbdTa7Pr / bSnPvRhAh9GNWvvRg2Kp3qXDdjv9x</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ywEghKVxcEIVXtNRvpbqRoKmHzIExvUQck5DM1VwfREeYIoxgs4035WADhVMdngQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S2Gt8P2WaU / p8EZhFGg6X8KtOlD68zGboaJe0hj2VDc +的Jc + KdjRfE3fW5IToid / O</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DkUaIW6tB3WkXb0g6D / 2hrEJbX3headChHKSB8eQdOR9bcCJDhhU8csd501qmrhC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ctmvlpeWQZdIQdk6sABPWeeCiQEiBBABAgAMBQJKoBJHBQMAEnUAAAoJEJcQuJvK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V618Ml8H / 1D88 /克/ p9fSVor4Wu5WlMbg8zEAik3BIxQruEFWda6nART6M9E7e + P1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
++ UHZsWYs6l9ROpWxRLG1Yy9jLec2Y3nUtb20m65p + IVeKR2a9PHW35WZDV9dOYP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GZabKkO1clLeWLVgp9LRjZ + AeRG + ljHqsULXro1dwewLTB / gg9I2vgNv6dKxyKak</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
纳米/ GrqZLATAq2KoaE / U / 6lzRFZIzZnLtjZh8X7 + NS + V8v9IiY4ntrpkrbvFk30U6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WJp79oBIWwnW / 84RbxutRoEwSar / TLwVRkcZyRXeJTapbnLGnQ / lDO1o1d7 + Vbjd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Q / SG / cKHHf7NthCwkQNsCnHL0f51gZCJASIEEAECAAwFAkqoEAAFAwASdQAACgkQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lxC4m8pXrXwE / AF / XD4R / A5R6Ir / nCvKwCTKJmalajssuAcLEa2pMnFZYO / 8rzLO</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ Gp8p0qFH9C4LFwA0NvR5q6X / swuROf4zxljSvNcdlQVaAfJ2ZDEgJ5GXzsPplrv</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SAI9jS3LL7fSWDZgKuUe0a4qx7A0NgyGMUYGhP + QlRFa8vWEBI9fANd / 0mMqAeBV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qQyOH0X1FiW1Ca2Jn4NKfuMy9GEvRddVIbB1LvoNVtXPNzeeKMyNb9Jdx1MFWssy</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
COBP2DayJKTmjvqPEc / YOjOowoN5sJ / jn4mVSTvvlTooLiReSs6GSCAjMVxN7eYS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ Oyq6Iu1JDcJvmB8N2WixAZtAVgF8OA7CWXKVYkBIgQQAQIADAUCSrnHiQUDABJ1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AAAKCRCXELibyletfPChB / 9uECti1dZeNuFsd0 / RuGyRUVlrrhJE6WCcOrLO9par</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rPbewbKBmjSzB0MygJXGvcC06mPNuquJ7 / WpxKsFmfg4vJBPlADFKtgRUy9BLzjC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eotWchPHFBVW9ftPbaQViSUu7d89NLjDDM5xrh80puDIApxoQLDoIrh3T1kpZx56</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jSWv0gelFUMbXAzmqkJSyL4Xdh1aqzgUbREd7Xf2ICzuh0sV6V7c / AwWtjWEGEsA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HZaiQDywZwbC18GwrMLiAzGWb / AScFDQRCZKJDjL + Ql8YT6z + ZMVr8gb7CIU5PKY</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dhiIf2UVTQwLAoW7lNRCQQAqcGjK3IMIz7SO / yk4HmVUiQEiBBABAgAMBQJK3gjG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BQMAEnUAAAoJEJcQuJvKV618jkEH + wb0Zv9z7xQgpLMowVuBFQVu8 / z7P5ASumyB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PUO3 + 0JVxSHBhlCKQK7n11m1fhuGt2fCxXhSU6LzXj36rsKRY53lGZ9QhvqFUtQH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Xb2IQLIJC4UKjG2jSSCdcuA / x98bwp2v7O03rn7ndCS16CwXnRV3geQoNipRKMS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DajKPpZv1RiZm8pMKqEb8WSw352xWoOcxuffjlsOEwvJ85SEGCAZ9tmIlkZOc7Ai</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QONDvii9b8AYhQ60RIQC0HP2ASSmK0V92VeFPxHmAygdDQgZNVtbVxgnnt7oTNEu</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VRXNY + z4OfBArp7R + cTsvijDRZY4kML1n22hUybwoxUEvjqZV2 + JASIEEAECAAwF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AkrvOlQFAwASdQAACgkQlxC4m8pXrXxrPAgArXiNgZirNuBhfNCXlkzkCHLx5wnV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e4SmTpbWzTwWw7 + qk7d4l9hlWtdImISORINzo7f4ShSUzJX2GciNaXhaHRo7 + y5O</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zbu82jQb09aQQj / nibKYuqxqUrobTEm + DuYz3JUQZm2PsPcHLS8mX9cxvrJUncPG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nXEV0DRaq71SGWDprtkvBbp6i38aY3sIhYgz8wM5m1szKDtjywmBYcFehIdozt9z</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hm7wZshzRWQX1 + RF / pIsnk + OzBIa34crSemTnacbV / B7278z2XAyziPNFuqz0xu +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iltOmYmayfNWAmumuw9NcuwWMlth6Mc2HLrpo0ZBheJ6iuDMPsHnwqdB / 4kBIgQQ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AQIADAUCSwBd2gUDABJ1AAAKCRCXELibyletfP6tB / 4m1w0BtlkJgtS6E + B / NS14</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
z4A4PGors + N + MYm05qzvi + ENDF / sytCmVcKeimrtvDcfoDtKAFFvJjcYXfnJdGWm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pu0SJMRL5KKCirAKwZmU / saxOgoB5QLNw + DHPteJ3w9GmWlGxIqG1r15WC5duzBC</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y3FsnjJYG3jaLnHOO9yXXb5h0kUTORfUKdvAr1gxF2KoatZWqGoaPPnHoqb88rjt</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zk8I7gDqoXnzh8wLxa0ZYvfTC / McxdWTrwXLft + krmMQ18iIZEne2hvVLNJVuluU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oiWLeHA8iNCQ4W4WTdLc1mCnCjGTMX / MN41uLH0C9Ka4R6wEaqj4lPDk1B / 1TV + Q</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iQEiBBABAgAMBQJLEYGrBQMAEnUAAAoJEJcQuJvKV618naIH / 2t9aH5mBTKBN6fU</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qhrf79vIsjtI / QNS5qisBISZMX3 / 1 / 0Gu6WnxkPSfdCUJMWCjMcnVj7KU2wxTHHG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VpAStd9r2afUNxRyqZwzwyytktuZok0XngAEDYDDBS3ssu2R4uWLCsC2ysXEqO / 5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tI5YrTWJZrfeIphTaYP5hxrMujvqy3kEwKKbiMz91cDeiLS + YCBcalj5n / 1dMYf7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8U8C6ieurxAg / L8h6x25VM4Ilx4MmG2T8QGtkkUXd + FD / KYWmf0LE5LLPknf0Hhw</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oVslPXeinp4FsHK / 5wzviv4YZpzuTqs9NlKcMsa4IuuPOB0FDf0pn + OFQbEg9QwY</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2gCozK + JASIEEAECAAwFAksjTdQFAwASdQAACgkQlxC4m8pXrXwlogf / XBGbXRVX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LMaRN4SczOjwT3 / tUCriTkb3v + zKjRG90zFhYAccjn7w + 7jKQicjq6quQG1EH2X4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ Su6ps1lDLqGHHhiJW3ZhxQScLZmhdAYsh2qG4GP / UW3QjXG7c61t + H3olvWg2cr</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wqCxxFZAgkAAkr9xcHWFZJEQeXoob6cCZObaUnHSANdmC6s5lUxXYa2bmL7Q3UB4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4KCzDvAfbPZKJOw9k0qb3lc11zx + vGdyZFbm4R0 + 3LPp / vT0b3GlSbbF9lU1GOXh</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VaphrgFFa76dmjfHCkPplXAkK1VSIU / aPGAefduTFMdlSZpdMtJ5AULjGcszBDlR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pLlPxvqVa0ZpgIkBIgQQAQIADAUCSycmkgUDABJ1AAAKCRCXELibyletfHlNCACp</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1YespiHfQt2alcscE5zgfETEHHic8Ai6pNkU9HT4TeWcFHEDe5QqfYcpjLrQvBXS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kSvxEittbyRdv + E + j5Z + HyHjiG8nAQBL6qy9eHqQE4 + d7gYs6DTk7sG9ZMYphREb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ltzD + F4hVCQdLT8LNr0eVFN7ehqECScDaCG8 / Qyti + 1 / 0M902 /炔+ mz0ilOiUdWJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9x6LPaIINtb1gsYDEylLjwGIZmI0r5Kh9wYoV4vnNezFbxO1uRiW0B7iaPjIEsbt</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OOKp7wx2aX + DM3N9F3BtaIY8XnzcnomNm83SNsgmgrZljpQltUnNqIhNM8DupQ + I</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WOV5gtl6pTC7CgeVTVyRiQEiBBABAgAMBQJLOGXuBQMAEnUAAAoJEJcQuJvKV618</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ll4IAKJ9mm4jb0c8fe9 + uDI8eCJRbzNbVXm8zWzpA8GUtQAakwxoKv332QP1Wa1P</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ODNI / e3EMhsSREOZJJv79YqGxGRBTE9Kb / VjM34nas4XSnXKW28XWhKyIw + XwQAi</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nY2swFHh + 83Htr / mwTdJfS2aEYl2zboBvd / JZCdhOGU2GH737S / 3uEczoKkfVQ / w的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OTM8X1xWwlYWqx23k / DsGcuDs9lA2g7Mx7DSqBtVjaTkn9h0zATzXLDkmP4SAUVj</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cZ83WDpFre5WnizZjdXlBMM5OCexp5WpmzyHLTnaBFK4jEmnsk5C2Rnoyp8Ivz6g</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ecg1tRbEXijRw ++ d2TFYlJwLKtiJASIEEAECAAwFAktKMicFAwASdQAACgkQlxC4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
m8pXrXxqHQgAuYY5scKrh0m / GS9EYnyC9494lOlO6iytU0CpE6oBC31M3hfX / DBJ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UbcS5szZNU + 2CPYo4ujQLZ7suN7 + tTjG6pZFfMevajT9 + JSL + NPMF8RLdLOVYmbl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TmSQGNO + XGEYaKYH5oZIeIW5AKCgi2ozkdFlBBLAx7Kqo / FyybhkURFEcvEyVmgf</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3KLV7IIiX / fYLfoCMCJ / Lcm9 / llSFB1n8Nvg66Xd533DKoHjueD3jyaNAVlo2mq /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SIAV ++ kntvOiB3GDK5pfwHZ78WWiCpsWZpE5gzAnzJ1Y0WEigRo0PVLu3cLO0jLG</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
23D + H / CbfZ8rkajHJeCDQF7YVmP0t0nYpYkBIgQQAQIADAUCS1v + ZgUDABJ1AAAK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRCXELibyletfNS / CACqt2TkB86mjqM + cJ74 + dWBvJ2aFuURuxzm95i9Q / W / hU08</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2iMbC3 + 0k2oD8CrTOe61P + 3oRyLjv / UEDUNzLncNe2YsA9JeV + 4hvPwH5Vp3Om13</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
089fCKZUbqslXNKkHiWYU + zAaZJXEuGRmRz0HbQIeAMOWF4oa226uo1e4ws1Jhc +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F3E / ApCRyFBqBUdL05hapQLditYpsBjIdiBGpjzidMLE2wX2W4ZpAdN0U6BIyIqR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mTPjbSkvzS9kSWFmfhQgnBDKEYJpVZgE1sN52rYC1sDeGeiuKxlzjVov9MMhYMWa</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zo3R5o3F2iIM / BK6FbC252lf / Mhu3ICuXujNBZNYiQEiBBABAgAMBQJLbSH4BQMA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EnUAAAoJEJcQuJvKV618kd0IAJLLwDH6gvgAlBFklQJXqQxUdcSOOVMAWtlHgWOy</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ozjgomZZBkRL8dtCDr9YBMcj5czcQ3qpmLJdppXhKB + kJV2iUXfDMSFXwJ4wLfIs</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8FNnXw8H5U01oBkGH / Ku6ngL9Vwt + MjYHtCWkw9QueUKZnDudX9qIzLAIt + mwSTu</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A6 + fY4VWIg40AA0v3exaQM55YR / UhlKunpGG9o8Qkq77dMEbTMpOmBoLbOMRB3Dd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAvVU6G2l6Pcb7KobVCuOBnb6batXARV / G8sw + nzfJ16fr / KobZT2A6m + Jrqk4dl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F14ljLbz16O5JGUPAryN2G2ddBdSAy7dtFSVhWWiWC9n88q5Ag0EPj6jHRAIAO /小时</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
iX8WzHWOMLJT54x / axeDdqn1rBDf5cWmaCWHN2ujNNlgpx5emoU9v7QStsNUCOGB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bXkeO4Ar7YG + jtSR33zqNh3y5kQ0YkY3dQ0wh6nsl + wh4XIIY / 3TUZVtmdJeUBRH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JlfVNFYad2hX1guFI37Ny1PoZAFsxO82g + XB / Se8r / + sbmVcONdcdIeFKrE3FjLt</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IjNQcxC6l9Q2Oy8KDxG / zvUZG3 + H5i3tdRMyGgmuD6gEV0GXOHYUopzLeit1 + AA0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bCk36Mwbu + BeOw / CJW3 + b0mB27hOaf9aCA855IP6fJFvtxcblq8nHIqhU3Dc9tec</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SL9 / S1xZ5S8ylG / xeRsAAwUH / i8KqmvAhq0X7DgCcYputwh37cuZlHOa1Ep07JRm</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BCDgkdQXkGrsj2Wzw7Aw / TGdWWkmn2pxb8BRui5cfcZFO7c6vryi6FpJuLucX975</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ eVY50ndWkPXkJ1HF4i + HJwRqE2zliN / RHMs4LJcwXQvvjD43EE3AO6eiVFbD + QA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AdxUFoOeLblKNBHPG7DPG9xL + Ni5rkE + TXShxsB7F0z7ZdJJZOG0JODmox7IstQT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GoaU9u41oyZTIiXPiFidJoIZCh7fdurP8pn3X + R5HUNXMr7M + ba8lSNxce / F3kmH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0L7rsKqdh9d / aVxhJINJ + inVDnrXWVoXu9GBjT8Nco1iU9SIVAQYEQIADAUCTnc9</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7QUJE / sBuAASB2VHUEcAAQEJEIxxjTtQcuH1FJsAmwWK9vmwRJ / y9gTnJ8PWf0BV</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
roUTAKClYAhZuX2nUNwH4vlEJQHDqYa5yQ ==</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
= HfUN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-----结束PGP公钥密码块-----</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要将构建密钥导入到您的个人公共GPG密钥环中，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gpg --import</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果您已将密钥保存在名为的文件中
         </font></font><code class="filename">mysql_pubkey.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则import命令如下所示：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：key 5072E1F5：公钥“MySQL Release Engineering</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;mysql-build@oss.oracle.com&gt;“导入</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：处理总数：1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：进口：1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：找不到最终可信的密钥</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您还可以使用公共密钥id从公钥服务器下载密钥</font></font><code class="literal">5072E1F5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; gpg --recv-keys 5072E1F5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：从hkp服务器keys.gnupg.net请求密钥5072E1F5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：key 5072E1F5：“MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1个新的用户ID</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：key 5072E1F5：“MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
53个新签名</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：找不到最终可信的密钥</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：处理总数：1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：新用户ID：1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：新签名：53</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您想将密钥导入到您的RP​​M配置中以验证RPM安装包，则应该能够直接导入密钥：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果遇到问题或需要RPM特定信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-rpm-signature" title="2.1.3.4使用RPM进行签名检查"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.3.4节“使用RPM进行签名检查”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下载并导入公共构建密钥后，下载您所需的MySQL包和相应的签名，这些签名也可从下载页面获得。</font><font style="vertical-align: inherit;">签名文件与具有</font></font><code class="filename">.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展</font><font style="vertical-align: inherit;">名的分发文件名称相同</font><font style="vertical-align: inherit;">，如下表中的示例所示。
</font></font></p>
<div class="table">
<a name="idm140528189877328"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.1源文件的MySQL包和签名文件</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="25%"><col width="75%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件类型</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件名</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配文件</font></font></td>
            <td><code class="literal">mysql-standard-5.7.23-linux-i686.tar.gz</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名文件</font></font></td>
            <td><code class="literal">mysql-standard-5.7.23-linux-i686.tar.gz.asc</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        确保两个文件都存储在同一目录中，然后运行以下命令来验证分发文件的签名：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果下载的软件包有效，您将看到类似于以下内容的“良好签名”：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gpg --verify mysql-standard-5.7.23-linux-i686.tar.gz.asc</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：签名制作Tue 01 Feb 2011 02:38:30 AM CST使用DSA密钥ID 5072E1F5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：来自“MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;”的良好签名</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">Good signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息表明，与我们网站上列出的签名相比，文件签名是有效的。</font><font style="vertical-align: inherit;">但是你也可能会看到警告，如下所示：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gpg --verify mysql-standard-5.7.23-linux-i686.tar.gz.asc</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：签名星期三23一月2013 02:25:45 PST使用DSA密钥ID 5072E1F5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：检查trustdb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：找不到最终可信的密钥</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：来自“MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;”的良好签名</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：警告：此密钥未通过可信签名认证！</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpg：没有迹象表明签名属于所有者。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主要指纹：A4A9 4068 76FC BD3C 4567 70C8 8C71 8D3B 5072 E1F5</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这很正常，因为它们取决于您的设置和配置。</font><font style="vertical-align: inherit;">以下是对这些警告的解释：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gpg：找不到最终可信任的密钥</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这意味着特定密钥不是由您或您的信任网络“最终信任”的，这对于验证文件签名是可以的。
          </font></font></p></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告：此密钥未通过可信签名认证！</font><font style="vertical-align: inherit;">没有迹象表明签名属于所有人。</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这是指你相信你拥有我们真正的公钥的信任程度。</font><font style="vertical-align: inherit;">这是个人决定。</font><font style="vertical-align: inherit;">理想情况下，MySQL开发人员会亲自将密钥交给您，但更常见的是，您已下载它。</font><font style="vertical-align: inherit;">下载是否被篡改？</font><font style="vertical-align: inherit;">可能不会，但这个决定取决于你。</font><font style="vertical-align: inherit;">建立一个信任网络是信任他们的一种方法。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关如何使用公钥的更多信息，请参阅GPG文档。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature-windows"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.3使用Gpg4win for Windows进行签名检查</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.3.2，“签名检查使用GnuPG”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分介绍如何使用GPG验证MySQL的下载。</font><font style="vertical-align: inherit;">该指南也适用于Microsoft Windows，但另一种选择是使用</font></font><a class="ulink" href="http://www.gpg4win.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gpg4win</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等GUI工具</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以使用其他工具，但我们的示例基于Gpg4win，并使用其捆绑的</font></font><code class="literal">Kleopatra</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GUI。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下载并安装Gpg4win，然后加载Kleopatra。</font><font style="vertical-align: inherit;">该对话框应该类似于：
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-home"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.1 Kleopatra：初始屏幕</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-home.png" width="682" height="436" alt="显示默认的Kleopatra屏幕。 顶层菜单包括“文件”，“查看”，“证书”，“工具”，“设置”，“窗口”和“帮助”。 顶部菜单下方是一个带有可用按钮的水平操作栏，用于“导入证书”，“重新显示”和“在服务器上查找证书”。 灰色按钮是“导出证书”和“停止操作”。 下面是一个名为“查找”的搜索框。 在其下方有三个选项卡：选中“我的证书”，“可信证书”和“其他证书”并选中“我的证书”选项卡。 “我的证书”包含六栏：“姓名”，“电子邮件”，“有效期限”，“有效期至”，“详情”  和“密钥ID”。 没有示例值。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        接下来，添加MySQL发布工程证书。</font><font style="vertical-align: inherit;">通过单击</font><span class="guimenu"><font style="vertical-align: inherit;">服务器上的</font></span></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找证书</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来执行此操作</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在搜索框中输入“Mysql Release Engineering”并按</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-find-certificate"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.2 Kleopatra：服务器向导上的查找证书：查找证书</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-find-certificate.png" width="854" height="330" alt="显示一个名为“Find”的搜索输入字段，输入“mysql release engineering”。 一个结果包含以下值：Name = MySQL Release Engineering，电子邮件= mysql-build@oss.oracle.com，Valid From = 2003-02-03，Valid Until =“”，Details = OpenPGP，Fingerprint = 5072E1F5 ，Key-ID = 5072E1F5。 可用的操作按钮包括：搜索，全选，取消全选，详细信息，导入和关闭。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选择“MySQL发布工程”证书。</font><font style="vertical-align: inherit;">指纹和密钥ID必须为“5072E1F5”，或者选择
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详细信息...</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认证书有效。</font><font style="vertical-align: inherit;">现在，通过单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font><span class="guibutton"><font style="vertical-align: inherit;">导入</font></span><font style="vertical-align: inherit;">它</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">将显示一个导入对话框，选择
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OK</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这个证书现在将列在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入的证书</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡下。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        接下来，为我们的证书配置信任级别。</font><font style="vertical-align: inherit;">选择我们的证书，然后从主菜单中选择
         </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改所有者信任......</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们建议选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我认为支票</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对我们的证书</font><span class="guilabel"><font style="vertical-align: inherit;">非常准确</font></span><font style="vertical-align: inherit;">，否则您可能无法验证我们的签名。</font><font style="vertical-align: inherit;">选择
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我相信检查非常准确</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以启用“完全信任”，然后按</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-change-trust"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.3 Kleopatra：更改MySQL发布工程的信任级别</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-change-trust.png" width="656" height="472" alt="显示信任选项列表，选项包括“我不知道（未知的信任）”，“我不信任他们（从不信任）”，“我相信支票是随便的（边际信任）”，“我相信支票非常准确（完全信任）“和”这是我的证书（最终信任）“。 “我相信检查非常准确（完全信任）”选项被选中。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        接下来，验证下载的MySQL包文件。</font><font style="vertical-align: inherit;">这需要打包文件和签名的文件。</font><font style="vertical-align: inherit;">签名文件必须与打包文件名称相同，但带有附加</font></font><code class="filename">.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名，如下表中的示例所示。</font><font style="vertical-align: inherit;">签名链接到每个MySQL产品的下载页面上。</font><font style="vertical-align: inherit;">您必须</font></font><code class="literal">.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用此签名</font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">文件。
</font></font></p>
<div class="table">
<a name="idm140528187925792"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.2用于Microsoft Windows的MySQL安装程序的MySQL包和签名文件</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="25%"><col width="75%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件类型</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件名</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配文件</font></font></td>
            <td><code class="literal">mysql-installer-community-5.7.23.msi</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名文件</font></font></td>
            <td><code class="literal">mysql-installer-community-5.7.23.msi.asc</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        确保两个文件都存储在同一目录中，然后运行以下命令来验证分发文件的签名。</font><font style="vertical-align: inherit;">将签名（</font></font><code class="filename">.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件</font><font style="vertical-align: inherit;">拖放</font><font style="vertical-align: inherit;">到Kleopatra中，或从</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解密/验证文件...中</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载对话框</font><font style="vertical-align: inherit;">，然后选择
         </font></font><code class="filename">.msi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="filename">.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-load"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.4 Kleopatra：解密和验证文件对话框</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-decrypt-load.png" width="576" height="425" alt="显示可用的解密和验证选项来执行。 在.asc文件被列为“输入文件”并且.msi文件列在“签名数据”下的示例中使用了MySQL安装程序MSI文件。 “输入文件是分离签名”选项的复选框被选中。 一个“输入文件是一个档案;解压缩：”选项显示，但灰色。 下面是选中的“在一个文件夹中创建所有输出文件”选项复选框，以及一个以“C：/ docs”输入的“输出文件夹”输入字段为例。 可用的按钮是“返回”（灰色），“解密/验证”和“取消”。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解密/验证</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以检查文件。</font><font style="vertical-align: inherit;">两个最常见的结果将如下所示，尽管黄色警告看起来有问题，但以下内容表示文件检查通过成功。</font><font style="vertical-align: inherit;">你现在可以运行这个安装程序。
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-okay-sig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.5 Kleopatra：解密和验证结果对话框：所有操作完成</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-decrypt-okay-sig.png" width="576" height="424" alt="结果窗口的黄色部分显示“没有足够的信息来检查签名有效性”和“签名的有效性无法验证”。 还显示了关键信息，例如KeyID和电子邮件地址，密钥的登录日期，还显示ASC文件的名称。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        看到一个红色的“签名不好”错误意味着该文件无效。</font><font style="vertical-align: inherit;">如果您看到此错误，请勿执行MSI文件。
</font></font></p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-invalid-sig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.6 Kleopatra：解密和验证结果对话框：错误</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/gnupg-kleopatra-decrypt-invalid-sig.png" width="656" height="518" alt="结果窗口的红色部分显示“签名无效”，“签名未知证书”，“签名不正确”，并显示ASC文件的名称。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.3.2，“签名检查使用GnuPG”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分解释了为什么你可能不会看到一个绿色的</font></font><code class="literal">Good
        signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-rpm-signature"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.3.4使用RPM进行签名检查</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于RPM软件包，没有单独的签名。</font><font style="vertical-align: inherit;">RPM软件包具有内置的GPG签名和MD5校验和。</font><font style="vertical-align: inherit;">您可以通过运行以下命令来验证软件包：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm --checksig MySQL-server-5.7.23-0.linux_glibc2.5.i386.rpm</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL-server-5.7.23-0.linux_glibc2.5.i386.rpm：md5 gpg确定</font></font><font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您使用的是RPM 4.1并且存在抱怨</font></font><code class="literal">(GPG)
          NOT OK (MISSING KEYS: GPG#5072e1f5)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即使您已将MySQL公用构建密钥导入到您自己的GPG密钥环中，也需要先将密钥导入RPM密钥环。</font><font style="vertical-align: inherit;">RPM 4.1不再使用您的个人GPG密钥环（或GPG本身）。</font><font style="vertical-align: inherit;">相反，RPM维护一个单独的密钥环，因为它是一个系统范围的应用程序，用户的GPG公共密钥环是用户特定的文件。</font><font style="vertical-align: inherit;">要将MySQL公钥导入RPM密钥环，首先获取密钥，然后使用
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm --import</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入密钥。</font><font style="vertical-align: inherit;">例如：
</font></font></p>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; gpg --export -a 5072e1f5&gt; 5072e1f5.asc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; rpm --import 5072e1f5.asc</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另外，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还支持直接从URL加载密钥，并且您可以使用此手册页：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm --import http://dev.mysql.com/doc/refman/5.7/en/checking-gpg-signature.html</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您需要获取MySQL公钥，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.3.2节“使用GnuPG进行签名检查”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installation-layouts"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.4安装布局</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528187867056"></a><a class="indexterm" name="idm140528187865984"></a><a class="indexterm" name="idm140528187864912"></a><a class="indexterm" name="idm140528187863424"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于不同的安装类型（例如，本地程序包，二进制tarball和源代码tarball），安装布局会有所不同，当管理不同的系统或使用不同的安装源时，这可能会导致混淆。</font><font style="vertical-align: inherit;">各个布局在相应的安装类型或平台章节中给出，如下所述。</font><font style="vertical-align: inherit;">请注意，Oracle以外的供应商的安装布局可能与这些布局有所不同。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows上的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.1节“Microsoft Windows上的MySQL安装布局”</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation-layout" title="2.9.1源代码安装的MySQL布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.1节“源安装的MySQL布局”</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation-layout" title="表2.3通用Unix / Linux二进制包的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.3“通用Unix / Linux二进制包的MySQL安装布局”</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installation-layout-linuxrpm" title="表2.11来自MySQL Developer Zone的Linux RPM包的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.11，“MySQL开发人员区域的Linux RPM包的MySQL安装布局”</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installation-layout-osx" title="表2.6 macOS上的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.6“macOS上的MySQL安装布局”</font></font></a>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compiler-characteristics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1.5编译器特有的构建特征</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528187851792"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在某些情况下，用于构建MySQL的编译器影响可供使用的功能。</font><font style="vertical-align: inherit;">本节中的注释适用于Oracle公司提供的二进制分发版本，或者您是从源代码自行编译的。
    </font></font></p><p>
      <span class="bold"><strong><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">icc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（英特尔C ++编译器）构建</font></font></strong></span>
    </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">icc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建的服务器</font><font style="vertical-align: inherit;">具有以下特征：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          不包括SSL支持。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="binary-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2使用通用二进制文件在Unix / Linux上安装MySQL</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140528187844320"></a><a class="indexterm" name="idm140528187842864"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Oracle提供了一套MySQL的二进制分发版。</font><font style="vertical-align: inherit;">这些包括通用的二进制发行版，以压缩的
     </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件（具有</font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名的</font><font style="vertical-align: inherit;">文件
     </font><font style="vertical-align: inherit;">）形式用于多个平台，以及针对特定平台的特定于平台的软件包格式的二进制文件。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本节介绍</font><font style="vertical-align: inherit;">在Unix / Linux平台上</font><font style="vertical-align: inherit;">从压缩</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件二进制发行版</font><font style="vertical-align: inherit;">安装MySQL
     </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关其他平台特定的二进制包格式，请参阅本手册中其他平台特定的部分。</font><font style="vertical-align: inherit;">例如，对于Windows发行版，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-installation" title="2.3在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3节“在Microsoft Windows上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">关于如何获取不同分布格式的MySQL，</font><font style="vertical-align: inherit;">请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件二进制分发包含表单的名称
     </font><font style="vertical-align: inherit;">，其中</font><font style="vertical-align: inherit;">是一个数字（例如</font><font style="vertical-align: inherit;">），并
     </font><font style="vertical-align: inherit;">指示分配所针对的操作系统的类型（例如
     </font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">）。
</font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.gz</code><font style="vertical-align: inherit;"></font><code class="literal"><em class="replaceable"><code>VERSION</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">5.7.23</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>OS</code></em><font style="vertical-align: inherit;"></font><code class="literal">pc-linux-i686</code><font style="vertical-align: inherit;"></font><code class="literal">winx64</code><font style="vertical-align: inherit;"></font></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您以前使用操作系统本机软件包管理系统（例如Yum或APT）安装了MySQL，则使用本机二进制文件安装时可能会遇到问题。</font><font style="vertical-align: inherit;">确保您以前的MySQL安装已完全删除（使用您的软件包管理系统），并且任何其他文件（如旧版数据文件）也已被删除。</font><font style="vertical-align: inherit;">您也应该检查配置文件，如
       </font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><code class="filename">/etc/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录，并删除它们。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关用官方MySQL软件包替换第三方软件包的信息，请参阅相关的
       </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APT指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#replace-third-party-yum" title="2.5.2使用MySQL Yum Repository替换MySQL的第三方分发"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yum指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<a class="indexterm" name="idm140528187825296"></a>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL依赖于</font></font><code class="literal">libaio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          库。</font><font style="vertical-align: inherit;">如果此库未在本地安装，则数据目录初始化和后续服务器启动步骤将失败。</font><font style="vertical-align: inherit;">如有必要，请使用适当的软件包管理器进行安装。</font><font style="vertical-align: inherit;">例如，在基于Yum的系统上：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><em class="replaceable"><code>yum search libaio</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  ＃搜索信息</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><em class="replaceable"><code>yum install libaio</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃安装库
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          或者，在基于APT的系统上：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><em class="replaceable"><code>apt-cache search libaio</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃搜索信息</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><em class="replaceable"><code>apt-get install libaio1</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃安装库
</font></font></pre></li><li class="listitem"><p>
          <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于MySQL 5.7.19及更高版本：</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持非统一内存访问（NUMA）已​​添加到通用Linux版本，该版本现在对</font></font><code class="literal">libnuma</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font><font style="vertical-align: inherit;">具有依赖性
          </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">如果该库尚未安装在系统上，请使用系统的包管理器搜索并安装它（有关示例命令，请参阅最后一个项目符号）。
</font></font></p></li></ul>
</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要安装压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件二进制分发版，请将其解压到您选择的安装位置（通常</font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">这将创建下表中显示的目录。
</font></font></p>
<div class="table">
<a name="binary-installation-layout"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.3通用Unix / Linux二进制包的MySQL安装布局</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="45%"><col width="55%"></colgroup><thead><tr>
        <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></th>
        <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录的内容</font></font></th>
      </tr></thead><tbody><tr>
        <td scope="row"><code class="filename">bin</code></td>
        <td><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，客户端和实用程序</font></font></td>
      </tr><tr>
        <td scope="row"><code class="filename">docs</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL手册的Info格式</font></font></td>
      </tr><tr>
        <td scope="row"><code class="filename">man</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix手册页</font></font></td>
      </tr><tr>
        <td scope="row"><code class="filename">include</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含（标题）文件</font></font></td>
      </tr><tr>
        <td scope="row"><code class="filename">lib</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图书馆</font></font></td>
      </tr><tr>
        <td scope="row"><code class="filename">share</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于数据库安装的错误消息，字典和SQL</font></font></td>
      </tr><tr>
        <td scope="row"><code class="literal">support-files</code></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他支持文件</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
      <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLES 11</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.19开始，Linux通用tarball包格式是EL6而不是EL5。</font><font style="vertical-align: inherit;">作为一个副作用，MySQL客户端bin / mysql需要libtinfo.so.5。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      解决方法是创建符号链接，例如</font><font style="vertical-align: inherit;">64位系统上的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ln -s libncurses.so.5.6 /lib64/libtinfo.so.5</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">32 </font><font style="vertical-align: inherit;">位系统上的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ln -s libncurses.so.5.6 /lib/libtinfo.so.5</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位系统。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件的</font><font style="vertical-align: inherit;">
    调试版本</font><font style="vertical-align: inherit;">可用作</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld-debug</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要从源代码发布版编译您自己的调试版MySQL，请使用相应的配置选项来启用调试支持。</font><font style="vertical-align: inherit;">请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><a class="indexterm" name="idm140528187779280"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要安装和使用MySQL二进制发行版，命令序列如下所示：
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">壳&gt; </font></font><strong class="userinput"><code>groupadd mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
壳&gt; </font></font><strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
壳&gt; </font></font><strong class="userinput"><code>cd /usr/local</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;">
壳&gt; </font><font style="vertical-align: inherit;"> 
壳&gt; </font><font style="vertical-align: inherit;">              
壳&gt;</font></font><strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>cd mysql</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>mkdir mysql-files</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>chown mysql:mysql mysql-files</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>chmod 750 mysql-files</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃下一个命令是可选的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外壳&gt; </font></font><strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      此过程假定您有</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      （管理员）访问您的系统。</font><font style="vertical-align: inherit;">或者，您可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux）或
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pfexec</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Solaris）命令为</font><font style="vertical-align: inherit;">每个命令加前缀</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    该</font></font><code class="filename">mysql-files</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录提供了一个方便的位置来用作</font></font><code class="literal">secure_file_priv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的值
     </font><font style="vertical-align: inherit;">，该值将导入和导出操作限制到特定的目录。</font><font style="vertical-align: inherit;">请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.5节“服务器系统变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    下面是关于安装二进制发行版的更详细版本。
</font></font></p>
<h3><a name="binary-installation-createsysuser"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个mysql用户和组</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果您的系统还没有用于运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的用户和组</font><font style="vertical-align: inherit;">，您可能需要创建它们。</font><font style="vertical-align: inherit;">以下命令添加</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组和
     </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户。</font><font style="vertical-align: inherit;">您可能需要呼叫用户并分组其他内容，而不是</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果是这样，请在以下说明中替换适当的名称。</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
     </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">groupadd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语法</font><font style="vertical-align: inherit;">在不同版本的Unix / Linux上可能略有不同，或者它们可能具有不同的名称，如
     </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adduser</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addgroup</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>groupadd mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      因为用户仅用于所有权用途而非登录目的，所以</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令使用
       </font></font><code class="option">-r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="option">-s /bin/false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来创建对您的服务器主机没有登录权限的用户。</font><font style="vertical-align: inherit;">如果您的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不支持</font><font style="vertical-align: inherit;">这些选项，请忽略这些选项</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<h3><a name="binary-installation-unpack"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取并解压分发</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    选择您想在其下打开发行包并将位置更改为其下的目录。</font><font style="vertical-align: inherit;">这里的例子解包下的分配</font></font><code class="filename">/usr/local</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，这些说明假定您有权在其中创建文件和目录</font></font><code class="filename">/usr/local</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果该目录受保护，则必须执行安装
     </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明获取分发文件
     </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于给定的发行版，所有平台的二进制发行版都是从相同的MySQL源代码发行版构建的。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    解压该分发包，它将创建安装目录。
    </font><font style="vertical-align: inherit;">如果具有</font><font style="vertical-align: inherit;">选项支持，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以解压缩和解压缩分发包</font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">焦油</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令创建的目录
     </font><font style="vertical-align: inherit;">。
  </font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要从压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件二进制发行版</font><font style="vertical-align: inherit;">安装MySQL </font><font style="vertical-align: inherit;">，您的系统必须有GNU
     </font></font><code class="literal">gunzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来解压缩发行版和合理的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来解压缩它。</font><font style="vertical-align: inherit;">如果你的
     </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序支持这个</font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    选项，它可以解压缩和解压文件。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">焦油</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知工作。</font><font style="vertical-align: inherit;">一些操作系统提供</font><font style="vertical-align: inherit;">的标准
     </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法解压MySQL分发中的长文件名。</font><font style="vertical-align: inherit;">您应该下载并安装GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者如果可用，请使用GNU tar的预装版本。</font><font style="vertical-align: inherit;">通常这可以作为</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gnutar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gtar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者作为</font><font style="vertical-align: inherit;">GNU或自由软件目录中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如</font></font><code class="filename">/usr/sfw/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
     </font></font><code class="filename">/usr/local/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可从</font></font><a class="ulink" href="http://www.gnu.org/software/tar/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.gnu.org/software/tar/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果您的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    选项支持，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gunzip</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解压缩分发包和</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以将其解压缩。</font><font style="vertical-align: inherit;">用</font><font style="vertical-align: inherit;">以下替代命令</font><font style="vertical-align: inherit;">替换前面的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令以解压缩并提取分发：
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    接下来，创建一个由</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建的安装目录的符号链接</font><font style="vertical-align: inherit;">：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
  </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    该</font></font><code class="literal">ln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令会创建一个到安装目录的符号链接。</font><font style="vertical-align: inherit;">这使您可以更容易地将其引用</font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了避免在使用MySQL时始终输入客户端程序的路径名，可以将</font></font><code class="filename">/usr/local/mysql/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    目录</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量中：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>export PATH=$PATH:/usr/local/mysql/bin</code></strong>
</pre><p>
</p>
<h3><a name="binary-installation-postinstall"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行安装后设置</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    其余的安装过程包括设置分配所有权和访问权限，初始化数据目录，启动MySQL服务器以及设置配置文件。</font><font style="vertical-align: inherit;">有关说明，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后设置和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="windows-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3在Microsoft Windows上安装MySQL</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-installation-layout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.1 Microsoft Windows上的MySQL安装布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-choosing-package"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.2选择安装包</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3用于Windows的MySQL安装程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-notifier"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4 MySQL通知程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-install-archive"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-troubleshooting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.6对Microsoft Windows MySQL服务器安装进行故障排除</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-postinstallation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.7 Windows安装后程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-upgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.8在Windows上升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#deploy-mysql-nonlinux-docker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.9在Windows和其他非Linux平台上部署MySQL</font></font></a></span></dt></dl>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL Community 5.7 Server需要Microsoft Visual C ++ 2013 Redistributable Package在Windows平台上运行。</font><font style="vertical-align: inherit;">在安装服务器之前，用户应确保软件包已安装在系统上。</font><font style="vertical-align: inherit;">该软件包位于
       </font></font><a class="ulink" href="http://www.microsoft.com/en-us/download/default.aspx" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft下载中心</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL适用于Microsoft Windows，适用于32位和64位版本。</font><font style="vertical-align: inherit;">有关受支持的Windows平台信息，请参阅
     </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您的操作系统是Windows 2008 R2或Windows 7，并且您没有安装Service Pack 1（SP1），则MySQL 5.7将定期重新启动，并且在MySQL服务器错误日志文件中您将看到以下消息：
    </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld得到异常0xc000001d
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      发生此错误信息是因为您还在使用不支持VPSRLQ指令的CPU，并指示不支持尝试的CPU指令。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要解决此错误，您</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装SP1。</font><font style="vertical-align: inherit;">这为CPU功能检测添加了所需的操作系统支持，并在CPU没有所需的指示时禁用该支持。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，安装较旧版本的MySQL，例如5.6。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    在Microsoft Windows上安装MySQL有不同的方法。
</font></font></p>
<h3><a name="windows-installation-simple"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序方法</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    最简单和推荐的方法是下载MySQL安装程序（适用于Windows），并让它安装和配置系统上的所有MySQL产品。</font><font style="vertical-align: inherit;">这里是：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/installer/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载MySQL安装程序</font><font style="vertical-align: inherit;">
        并执行它。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          与标准的MySQL安装程序不同，较小的“网络社区”版本不捆绑任何MySQL应用程序，但它会下载您选择安装的MySQL产品。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为您的系统</font><font style="vertical-align: inherit;">
        选择适当的</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常，您将选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Developer Default</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来安装MySQL服务器和其他与MySQL开发相关的MySQL工具，以及诸如MySQL Workbench等有用的工具。</font><font style="vertical-align: inherit;">或者，选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型来手动选择您想要的MySQL产品。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          单个系统上可以存在多个版本的MySQL服务器。</font><font style="vertical-align: inherit;">您可以选择一个或多个版本。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        按照说明完成安装过程。</font><font style="vertical-align: inherit;">这将安装多个MySQL产品并启动MySQL服务器。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL现在已安装。</font><font style="vertical-align: inherit;">如果您将MySQL配置为服务，那么Windows每次重新启动系统时都会自动启动MySQL服务器。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可能还在您的系统上安装了其他有用的MySQL产品，如MySQL Workbench和MySQL Notifier。</font><font style="vertical-align: inherit;">考虑加载
       </font></font><a class="xref" href="/mysql-5.7-google-zh/workbench.html" title="第30章MySQL Workbench"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第30章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Workbench</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以检查您的新MySQL服务器连接，以及</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.4节“MySQL通知程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看连接的状态。</font><font style="vertical-align: inherit;">默认情况下，这两个程序在安装MySQL后自动启动。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    此过程还会在您的系统上安装MySQL安装程序应用程序，稍后您可以使用MySQL安装程序升级或重新配置您的MySQL产品。
</font></font></p>
<h3><a name="idm140528187679984"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他安装信息</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    可以将MySQL作为标准应用程序或Windows服务运行。</font><font style="vertical-align: inherit;">通过使用服务，您可以通过标准的Windows服务管理工具来监视和控制服务器的操作。</font><font style="vertical-align: inherit;">有关更多信息，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.8节“将MySQL作为Windows服务启动”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    通常，您应该使用具有管理员权限的帐户在Windows上安装MySQL。</font><font style="vertical-align: inherit;">否则，您可能会遇到某些操作的问题，如编辑</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    环境变量或访问</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务控制管理器</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">安装时，MySQL不需要使用具有管理员权限的用户执行。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有关在Windows平台上使用MySQL的限制列表，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/restrictions.html#limits-windows" title="C.10.6 Windows平台限制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第C.10.6节“Windows平台限制”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    除了MySQL服务器包以外，您可能需要或希望有其他组件在您的应用程序或开发环境中使用MySQL。</font><font style="vertical-align: inherit;">这些包括但不限于：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用ODBC连接到MySQL服务器，您必须具有Connector / ODBC驱动程序。</font><font style="vertical-align: inherit;">有关更多信息，包括安装和配置说明，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/connector-odbc/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL连接器/ ODBC开发人员指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序将为您安装和配置Connector / ODBC。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要在.NET应用程序中使用MySQL服务器，您必须具有Connector / Net驱动程序。</font><font style="vertical-align: inherit;">有关更多信息，包括安装和配置说明，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Connector / Net开发人员指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序将为您安装和配置MySQL Connector / Net。
</font></font></p>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Windows的MySQL发行版可以从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载
     </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    适用于Windows的MySQL有多种分发格式，详情请见此处。</font><font style="vertical-align: inherit;">一般来说，你应该使用MySQL安装程序。</font><font style="vertical-align: inherit;">它包含比旧版MSI更多的功能和MySQL产品，比压缩文件更易于使用，并且无需额外的工具即可启动和运行MySQL。</font><font style="vertical-align: inherit;">MySQL安装程序会自动安装MySQL服务器和其他MySQL产品，创建一个选项文件，启动服务器，并允许您创建默认用户帐户。</font><font style="vertical-align: inherit;">有关选择软件包的更多信息，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-choosing-package" title="2.3.2选择安装包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.2节“选择安装软件包”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序发行版包含MySQL服务器和其他MySQL产品，包括MySQL Workbench，MySQL Notifier和Excel for MySQL。</font><font style="vertical-align: inherit;">MySQL安装程序也可用于将来升级这些产品。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用MySQL安装程序安装MySQL的说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        标准的二进制发行版（打包为压缩文件）包含您解压缩到您选择的位置的所有必需文件。</font><font style="vertical-align: inherit;">此软件包包含完整Windows MSI安装程序包中的所有文件，但不包含安装程序。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用压缩文件安装MySQL的说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-install-archive" title="2.3.5使用noinstall ZIP归档在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5节“使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
       </font><font style="vertical-align: inherit;">”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        源代码分发格式包含使用Visual Studio编译器系统构建可执行文件的所有代码和支持文件。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关在Windows上从源代码构建MySQL的说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<h3><a name="idm140528187656896"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL上的Windows注意事项</font></font></h3>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大桌子支持</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您需要大小超过4GB的表，请在NTFS或更新的文件系统上安装MySQL。</font><font style="vertical-align: inherit;">不要忘记使用
         </font></font><code class="literal">MAX_ROWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">AVG_ROW_LENGTH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表格。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.1.18节“CREATE TABLE语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL和病毒检查软件</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于包含MySQL数据和临时表的目录中的病毒扫描软件（例如Norton / Symantec Anti-Virus），可能会导致问题，包括MySQL性能和病毒扫描软件将文件内容误认为包含垃圾邮件。</font><font style="vertical-align: inherit;">这是由于病毒扫描软件使用的指纹识别机制，以及MySQL快速更新不同文件的方式，这可能会被识别为潜在的安全风险。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装MySQL服务器后，建议您在</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于存储MySQL表数据</font><font style="vertical-align: inherit;">的主目录（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">上禁用病毒扫描</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常病毒扫描软件中内置了一个系统，可以忽略特定的目录。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另外，默认情况下，MySQL在标准Windows临时目录中创建临时文件。</font><font style="vertical-align: inherit;">要防止临时文件被扫描，请为MySQL临时文件配置单独的临时目录，并将此目录添加到病毒扫描排除列表中。</font><font style="vertical-align: inherit;">为此，请将</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_tmpdir"><code class="option">tmpdir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">的配置选项添加
         </font><font style="vertical-align: inherit;">到
         </font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件中。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-create-option-file" title="2.3.5.2创建一个选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.2节“创建选项文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在4K扇区硬盘上运行MySQL</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows上的4K扇区硬盘驱动器上运行MySQL服务器不支持
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_flush_method"><code class="literal">innodb_flush_method=async_unbuffered</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是默认设置。</font><font style="vertical-align: inherit;">解决方法是使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_flush_method"><code class="literal">innodb_flush_method=normal</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-installation-layout"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.1 Microsoft Windows上的MySQL安装布局</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于Windows上的MySQL 5.7，默认安装目录</font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
      5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于使用MySQL安装程序执行的安装。</font><font style="vertical-align: inherit;">如果您使用ZIP归档方法安装MySQL，您可能更愿意安装</font></font><code class="filename">C:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，子目录的布局保持不变。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      所有文件都位于该父目录中，使用下表中显示的结构。
</font></font></p>
<div class="table">
<a name="idm140528187634384"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.4 Microsoft Windows的默认MySQL安装布局</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="30%"><col width="40%"><col width="30%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录的内容</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="filename">bin</code></td>
          <td><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，客户端和实用程序</font></font></td>
          <td></td>
        </tr><tr>
          <td scope="row"><code class="filename">%PROGRAMDATA%\MySQL\MySQL Server 5.7\</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志文件，数据库</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows系统变量</font></font><code class="varname">%PROGRAMDATA%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认为
             </font></font><code class="filename">C:\ProgramData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">docs</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布文档</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL安装程序，使用该</font></font><code class="literal">Modify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作选择此可选文件夹。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">include</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含（标题）文件</font></font></td>
          <td></td>
        </tr><tr>
          <td scope="row"><code class="filename">lib</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图书馆</font></font></td>
          <td></td>
        </tr><tr>
          <td scope="row"><code class="filename">share</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他支持文件，包括错误消息，字符集文件，示例配置文件，用于数据库安装的SQL</font></font></td>
          <td></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-choosing-package"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.2选择安装包</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于MySQL 5.7，在Windows上安装MySQL时可以选择多种安装包格式。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        程序数据库（PDB）文件（带有文件扩展名
         </font></font><code class="filename">pdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）提供了在出现问题时调试MySQL安装的信息。</font><font style="vertical-align: inherit;">这些文件包含在MySQL的ZIP Archive发行版（但不包括MSI发行版）中。
</font></font></p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这个软件包有一个类似于</font></font><code class="filename">mysql-installer-community-5.7.23.0.msi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          或
          </font><font style="vertical-align: inherit;">的文件名
          </font></font><code class="filename">mysql-installer-commercial-5.7.23.0.msi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并利用MSI自动安装MySQL服务器和其他产品。</font><font style="vertical-align: inherit;">它会下载并应用更新到自己以及每个已安装的产品。</font><font style="vertical-align: inherit;">它还配置已安装的MySQL服务器（包括InnoDB Cluster Sandbox测试设置）和MySQL路由器。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序可以安装和管理（添加，修改，升级和删除）许多其他MySQL产品，其中包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              应用程序 -  MySQL Workbench，MySQL for Visual Studio，MySQL Notifier，MySQL for Excel，MySQL实用程序，MySQL Shell，MySQL路由器
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器 -  MySQL连接器/ C，MySQL连接器/ C ++，MySQL连接器/网络，连接器/ ODBC，MySQL连接器/ Python，MySQL连接器/ J，MySQL连接器/ Node.js
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文档 -  MySQL手册（PDF格式），示例和示例
</font></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.8开始，MySQL安装程序不再包含调试二进制文件/信息组件（包括PDB文件）。</font><font style="vertical-align: inherit;">这些文件位于一个单独的ZIP存档中，该存档命名
             </font><font style="vertical-align: inherit;">
            为64位和
             </font><font style="vertical-align: inherit;">
            32位。
</font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64-debug-test.zip</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32-debug-test.zip</code><font style="vertical-align: inherit;"></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序可以在所有MySQL支持的Windows版本上运行（请参阅
           </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            由于MySQL安装程序不是Microsoft Windows的本地组件，并且依赖于.NET，因此它不适用于最小的安装选项，如Windows Server 2008的“服务器核心”版本。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关使用MySQL安装程序安装MySQL的说明，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这些包包含在完整的安装包中的文件，在GUI中的例外。</font><font style="vertical-align: inherit;">此格式不包含自动安装程序，必须手动安装和配置。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.6开始，</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP存档被分成两个单独的压缩文件。</font><font style="vertical-align: inherit;">主包名称
             </font><font style="vertical-align: inherit;">
            为64位和
             </font><font style="vertical-align: inherit;">
            32位。</font><font style="vertical-align: inherit;">这包含在您的系统上使用MySQL所需的组件。</font><font style="vertical-align: inherit;">可选的MySQL测试套件，MySQL基准测试套件以及调试二进制文件/信息组件（包括PDB文件）位于一个单独的压缩文件中，该文件命名
             </font><font style="vertical-align: inherit;">
            为64位和
             </font><font style="vertical-align: inherit;">
            32位。
          </font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64.zip</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32.zip</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64-debug-test.zip</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32-debug-test.zip</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在MySQL 5.7.6之前，一个</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            ZIP存档包含主文件和调试文件。
</font></font></p>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      建议大多数用户使用MySQL安装程序。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您选择的安装包会影响您必须遵循的安装过程。</font><font style="vertical-align: inherit;">如果您选择使用MySQL安装程序，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您选择安装
       </font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP压缩文件，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-install-archive" title="2.3.5使用noinstall ZIP归档在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5节“使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ZIP压缩文件
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-install-archive" title="2.3.5使用noinstall ZIP归档在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
       </font></a><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-install-archive" title="2.3.5使用noinstall ZIP归档在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-installer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3用于Windows的MySQL安装程序</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installer-setup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.1 MySQL安装程序初始设置</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installer-workflow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.2使用MySQL安装程序安装工作流程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installer-catalog-dashboard"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.3 MySQL安装程序产品目录和仪表板</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#MySQLInstallerConsole"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.4 MySQLInstallerConsole参考</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528187568640"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL Installer是一个独立的应用程序，旨在简化安装和管理在Microsoft Windows上运行的MySQL产品的复杂性。</font><font style="vertical-align: inherit;">它支持以下MySQL产品：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL服务器
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序可以在同一主机上同时安装和管理多个独立的MySQL服务器实例。</font><font style="vertical-align: inherit;">例如，MySQL安装程序可以在同一主机上安装，配置和升级MySQL 5.6，MySQL 5.7和MySQL 8.0的单独实例。</font><font style="vertical-align: inherit;">MySQL安装程序不允许在主版本号和次版本号之间进行服务器升级，但确实允许在发行版系列中进行升级（例如5.7.18到5.7.19）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        主机</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时安装社区和商业版本的MySQL服务器。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL应用程序
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL Workbench，MySQL Shell，MySQL路由器，Visual Studio MySQL，MySQL for Excel，MySQL Notifier和MySQL Utilities。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL连接器
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL连接器/网络，MySQL连接器/ Python，MySQL连接器/ Node.js MySQL连接器/ ODBC，MySQL连接器/ J，MySQL连接器/ C和MySQL连接器/ C ++。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文档和样本
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL参考手册（按版本）以PDF格式和MySQL数据库样本（按版本）。
</font></font></p></li></ul>
</div>
<h4><a name="mysql-installer-requiremetns"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装要求</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL安装程序需要Microsoft .NET Framework 4.5.2或更高版本。</font><font style="vertical-align: inherit;">如果此版本未安装在主机上，可以通过访问</font></font><a class="ulink" href="https://www.microsoft.com/en-us/download/details.aspx?id=42643" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载
     </font><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="mysql-installer-community-edition"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序社区版</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/installer/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载此版本
     </font><font style="vertical-align: inherit;">以安装适用于Windows的所有MySQL产品的社区版本。</font><font style="vertical-align: inherit;">选择以下MySQL安装程序包选项之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web：仅</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含MySQL安装程序和配置文件。</font><font style="vertical-align: inherit;">该Web软件包仅下载您选择要安装的MySQL产品，但它需要每次下载的互联网连接。</font><font style="vertical-align: inherit;">该文件的大小约为2 MB; </font><font style="vertical-align: inherit;">该文件的名称的形式为
        </font><font style="vertical-align: inherit;">
        ，其中</font><font style="vertical-align: inherit;">是MySQL服务器的版本号，如5.7和
        </font><font style="vertical-align: inherit;">是包号，它从0开始。
      </font></font><code class="filename">mysql-installer-community-<code class="literal">web</code>-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code><font style="vertical-align: inherit;"></font><code class="literal">VERSION</code><font style="vertical-align: inherit;"></font><code class="literal">N</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full：</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捆绑Windows的所有MySQL产品（包括MySQL服务器）。</font><font style="vertical-align: inherit;">文件大小为300 MB，而它的名字的形式
        </font><font style="vertical-align: inherit;">
        ，其中</font><font style="vertical-align: inherit;">是MySQL服务器的版本号，如5.7和
        </font><font style="vertical-align: inherit;">是包号，从0开始。
</font></font><code class="filename">mysql-installer-community-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code><font style="vertical-align: inherit;"></font><code class="literal">VERSION</code><font style="vertical-align: inherit;"></font><code class="literal">N</code><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
<h4><a name="mysql-installer-commercial-edition"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装商业版</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    从</font></font><a class="ulink" href="https://edelivery.oracle.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://edelivery.oracle.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载此版本
     </font><font style="vertical-align: inherit;">以安装适用于Windows的所有MySQL产品的商业版。</font><font style="vertical-align: inherit;">商业版包含Community Edition中的所有产品，还包含以下产品：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        工作台SE / EE
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL企业备份
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL企业防火墙
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    此版本与您的My Oracle Support（MOS）帐户相集成。</font><font style="vertical-align: inherit;">有关基于知识的内容和修补程序，请参阅
     </font></font><a class="ulink" href="https://support.oracle.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My Oracle Support</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installer-setup"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.1 MySQL安装程序初始设置</font></font></h4>

</div>

</div>

</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#setup-license" title="MySQL安装程序许可和支持认证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序许可和支持认证</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#setup-type" title="选择安装类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择安装类型</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#setup-conflicts" title="路径冲突"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径冲突</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#setup-requirements" title="检查要求"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查要求</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#setup-layout" title="MySQL安装程序配置文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序配置文件</font></font></a></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      当您第一次下载MySQL安装程序时，安装向导将指导您完成MySQL产品的初始安装。</font><font style="vertical-align: inherit;">如下图所示，初始设置是整个流程中的一次性活动。</font><font style="vertical-align: inherit;">MySQL安装程序会在初始设置期间检测主机上安装的现有MySQL产品，并将其添加到要管理的产品列表中。
</font></font></p>
<div class="figure">
<a name="mysql-installer-overview-fig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.7 MySQL安装程序过程概述</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-process-overview.png" width="722" height="171" alt="MySQL安装程序进程。 非重复步骤：下载MySQL安装程序;  执行初始设置。 重复步骤：安装产品（下载产品，运行MSI文件，配置并安装完成）;  管理产品并更新MySQL安装程序目录。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL安装程序在初始设置期间将配置文件（稍后介绍）提取到主机的硬盘驱动器。</font><font style="vertical-align: inherit;">虽然MySQL安装程序是一个32位应用程序，但它可以同时安装32位和64位二进制文​​件。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      初始设置将链接添加到</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组</font><font style="vertical-align: inherit;">下的开始菜单
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">点击</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有程序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开MySQL安装程序。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="setup-license"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序许可和支持认证</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序要求您在安装新的MySQL软件包之前接受许可协议。</font><font style="vertical-align: inherit;">接受协议条款后，您可以添加，更新，重新配置和删除您下载的MySQL安装程序版本提供的所有产品和功能。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于商业版本，在安装捆绑的MySQL产品时输入My Oracle Support（MOS）凭证是可选的，但在选择MySQL安装程序必须下载的非捆绑MySQL产品时需要凭证。</font><font style="vertical-align: inherit;">非捆绑产品是在初始设置后使用MySQL Installer下载的任何MSI文件。</font><font style="vertical-align: inherit;">您的凭证必须与您在Oracle注册以访问支持网站的用户名和密码相匹配。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="setup-type"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择安装类型</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在初始设置期间，系统会提示您选择要安装在主机上的MySQL产品。</font><font style="vertical-align: inherit;">一种替代方法是使用符合您的设置要求的预定设置类型。</font><font style="vertical-align: inherit;">默认情况下，GA和预发布产品都包含在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发者默认设置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅限客户端</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型</font><font style="vertical-align: inherit;">的下载和安装中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅安装GA产品</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，仅在使用这些设置类型时将产品集限制为包含GA产品。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选择以下其中一种安装类型仅确定初始安装，并且不会限制以后安装或更新Windows版MySQL产品的能力：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发者默认值</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装以下产品来补充使用MySQL的应用程序开发：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（安装您在下载MySQL安装程序时选择的版本。）
              </font></font></p></li><li class="listitem"><p>
                <a class="link" href="/mysql-5.7-google-zh/mysql-shell.html" title="第18章MySQL Shell用户指南"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/mysql-router/2.1/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL路由器</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="link" href="/mysql-5.7-google-zh/workbench.html" title="第30章MySQL Workbench"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL工作台</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/visual-studio/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于Visual Studio的MySQL</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL for Excel</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="link" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通知程序</font></font></a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/index-connectors.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL连接器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（.NET / Python / ODBC / Java / C / C ++）
              </font></font></p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/mysql-utilities/1.5/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL实用程序</font></font></a>
              </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                MySQL文档
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                MySQL示例和示例
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅限服务器</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：仅安装MySQL服务器。</font><font style="vertical-align: inherit;">此安装类型安装您在下载MySQL安装程序时选择的通用可用性（GA）或开发版服务器。</font><font style="vertical-align: inherit;">它使用默认的安装和数据路径。
          </font></font></p></li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅客户端</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：仅安装最新的MySQL应用程序和MySQL连接器。</font><font style="vertical-align: inherit;">这种安装类型与类型类似</font></font><code class="literal">Developer
            Default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不同之处在于它不包含MySQL服务器或通常与服务器捆绑在一起的客户端程序，例如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
            </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装所有可用的MySQL产品。
          </font></font></p></li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义自</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义安装类型使您能够从</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#windows-product-catalog" title="产品目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL安装程序目录中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">筛选和选择单个MySQL产品
            </font><font style="vertical-align: inherit;">。

            
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><code class="literal">Custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型来安装：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                无法从常用下载位置获得的产品或产品版本。</font><font style="vertical-align: inherit;">该目录包含所有产品版本，包括预发布（或开发）与GA之间的其他版本。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用替代安装路径或数据路径的MySQL服务器实例。</font><font style="vertical-align: inherit;">有关如何调整路径的说明，请参见
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-change-path-proc" title="2.3.3.2.2使用MySQL安装程序设置备用服务器路径"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3.2.2节“使用MySQL安装程序设置备用服务器路径”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                同一主机上的两个或更多MySQL服务器版本（例如5.6,5.7和8.0）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                产品和功能的特定组合不作为预定义的安装类型提供。</font><font style="vertical-align: inherit;">例如，您可以安装单个产品（如MySQL Workbench），而不是安装Windows的所有客户端应用程序。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="setup-conflicts"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径冲突</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当主机上已存在要安装的产品的默认安装或数据文件夹（MySQL服务器需要）时，向导将显示</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径冲突</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        步骤以标识每个冲突，并使您能够采取措施避免在现有文件夹中存在文件被新安装覆盖。</font><font style="vertical-align: inherit;">只有当MySQL安装程序检测到冲突时，才会在初始设置中看到此步骤。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要解决路径冲突，请执行以下操作之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从列表中选择一个产品以显示冲突选项。</font><font style="vertical-align: inherit;">警告符号指示哪条路径发生冲突。</font><font style="vertical-align: inherit;">使用浏览按钮选择一个新路径，然后单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以选择不同的安装类型或产品版本（如果适用）。</font><font style="vertical-align: inherit;">该
             </font></font><code class="literal">Custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型，您可以选择单独的产品版本。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略冲突并覆盖现有文件夹中的文件。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            删除现有产品。</font><font style="vertical-align: inherit;">点击
             </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取消</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止初始设置并关闭MySQL安装程序。</font><font style="vertical-align: inherit;">从开始菜单再次打开MySQL安装程序，并使用仪表板中的删除操作从主机中删除已安装的产品。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="setup-requirements"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查要求</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序使用</font></font><code class="filename">package-rules.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文件中的</font><font style="vertical-align: inherit;">条目</font><font style="vertical-align: inherit;">来确定主机上是否安装了每个产品的必备软件。</font><font style="vertical-align: inherit;">当需求检查失败时，MySQL安装程序将显示</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查需求</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        步骤以帮助您更新主机。</font><font style="vertical-align: inherit;">下图标识并描述了此步骤的关键区域。
</font></font></p>
<div class="figure">
<a name="mysql-installer-requirements-fig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.8检查要求</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-requirements-annotated.png" width="594" height="387" alt="在下载和安装任何需求之前，MySQL安装程序检查需求屏幕。">
</div>

</div>

</div>
<br class="figure-break"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查要求元素的描述
        </font></font></strong></span>
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            显示初始设置中的当前步骤。</font><font style="vertical-align: inherit;">根据主机上已安装的产品，必备软件的可用性以及要安装在主机上的产品，此列表中的步骤可能会稍有变化。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            按产品列出所有未决安装要求，并指出状态如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">中的空白区域</font><font style="vertical-align: inherit;">表示MySQL安装程序可以尝试为您下载和安装所需的软件。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单词</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">栏意味着你必须手动满足要求。</font><font style="vertical-align: inherit;">选择列表中的每个产品以查看其需求详细信息。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            详细描述该要求以帮助您解决每个手动解决方案。</font><font style="vertical-align: inherit;">在可能的情况下，提供下载URL。</font><font style="vertical-align: inherit;">下载并安装所需软件后，单击“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以验证是否符合要求。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            提供以下设置操作以继续：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 返回上一步。</font><font style="vertical-align: inherit;">此操作使您可以选择不同的安装类型。
              </font></font></p></li><li class="listitem"><p>
                <span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 让MySQL安装程序尝试下载并安装所有没有手动状态的项目所需的软件。</font><font style="vertical-align: inherit;">手动要求由您解决并通过单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行验证
                 </font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 请勿执行请求以自动应用要求，并继续进行安装，而不包括未通过检查要求步骤的产品。
              </font></font></p></li><li class="listitem"><p>
                <span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取消</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 停止安装MySQL产品。</font><font style="vertical-align: inherit;">由于MySQL安装程序已安装，当您从“开始”菜单打开MySQL安装程序并</font><font style="vertical-align: inherit;">从仪表板中</font><font style="vertical-align: inherit;">单击“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，初始设置将再次开始
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关可用管理操作的说明，请参阅
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-product-catalog" title="产品目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="setup-layout"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序配置文件</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有MySQL安装程序文件都位于</font></font><code class="filename">C:\Program Files
        (x86)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="filename">C:\ProgramData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文件夹中。</font><font style="vertical-align: inherit;">下表描述了将MySQL安装程序定义为独立应用程序的文件和文件夹。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当您更新或卸载MySQL安装程序时，安装的MySQL产品不会被更改或删除。
</font></font></p>
</div>

<div class="table">
<a name="idm140528187426848"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.5 MySQL安装程序配置文件</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="30%"><col width="40%"><col width="30%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件或文件夹</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹层次结构</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><code class="filename">MySQL Installer for Windows</code></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该文件夹包含运行MySQL Installer和</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#MySQLInstallerConsole" title="2.3.3.4 MySQLInstallerConsole参考"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLInstallerConsole.exe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需的所有文件
               </font><font style="vertical-align: inherit;">，这是一个具有类似功能的命令行程序。</font></font></td>
            <td><code class="filename">C:\Program Files (x86)</code></td>
          </tr><tr>
            <td scope="row"><code class="filename">Templates</code></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code class="filename">Templates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹为每个版本的MySQL服务器都有一个文件。</font><font style="vertical-align: inherit;">模板文件包含键和公式来动态计算一些值。</font></font></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for
              Windows\Manifest</code></td>
          </tr><tr>
            <td scope="row"><code class="filename">package-rules.xml</code></td>
            <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                该文件包含要安装的每个产品的先决条件。
              </font></font></p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for
              Windows\Manifest</code></td>
          </tr><tr>
            <td scope="row"><code class="filename">produts.xml</code></td>
            <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                该</font></font><code class="filename">products</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件（或产品目录）中包含的所有可以下载的产品列表。
              </font></font></p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for
              Windows\Manifest</code></td>
          </tr><tr>
            <td scope="row"><code class="filename">Product Cache</code></td>
            <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                该</font></font><code class="filename">Product Cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹包含与完整软件包捆绑或以后下载的所有独立MSI文件。
              </font></font></p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for Windows</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installer-workflow"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.2使用MySQL安装程序安装工作流程</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL安装程序提供了一个类似于向导的工具来安装和配置适用于Windows的新MySQL产品。</font><font style="vertical-align: inherit;">与仅运行一次的初始设置不同，每次下载或安装新产品时，MySQL安装程序都会调用该向导。</font><font style="vertical-align: inherit;">对于首次安装，初始安装的步骤直接进入安装步骤。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        将执行MySQL安装程序的用户授予所有生成的文件的完全权限，例如</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这并不适用于文件和目录的特定产品，如MySQL服务器数据目录
         </font></font><code class="literal">%ProgramData%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是所拥有
         </font></font><code class="literal">SYSTEM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在主机上安装和配置的产品遵循可能需要您在各个步骤中输入的一般模式。</font><font style="vertical-align: inherit;">MySQL安装程序使用以下工作流程加载所有选定的产品：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          产品下载。</font><font style="vertical-align: inherit;">如果您安装了完整的（而非网络版）MySQL安装程序包，则所有MSI文件都将</font></font><code class="filename">Product
          Cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在初始设置期间</font><font style="vertical-align: inherit;">加载到该</font><font style="vertical-align: inherit;">文件夹中，而不会再次下载。</font><font style="vertical-align: inherit;">否则，每个产品的状态将从更改</font></font><code class="literal">Downloading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
           </font></font><code class="literal">Downloaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          产品安装。</font><font style="vertical-align: inherit;">列表中的每个产品的状态，从变化</font></font><code class="literal">Ready to Install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
           </font></font><code class="literal">Installing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对</font></font><code class="literal">Complete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在此过程中，单击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示详细信息</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以查看安装操作。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果此时取消安装，则会安装产品，但服务器（如果已安装）尚未配置。</font><font style="vertical-align: inherit;">要重新启动服务器配置，请从“开始”菜单中打开MySQL安装程序，然后单击</font><font style="vertical-align: inherit;">仪表板中相应服务器旁边</font><font style="vertical-align: inherit;">的
           </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新配置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          产品配置。</font><font style="vertical-align: inherit;">此步骤适用于大多数情况下的MySQL服务器和样本。</font><font style="vertical-align: inherit;">列表中每个项目的状态应指示，</font></font><code class="literal">Ready to Configure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">点击
           </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始列表中所有项目的逐步配置。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在此步骤中提供的配置选项取决于您选择安装哪个数据库版本。</font><font style="vertical-align: inherit;">安装完成后，您可以从MySQL安装程序仪表板重新配置MySQL服务器。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          安装竞争。</font><font style="vertical-align: inherit;">此步骤完成安装并使您能够在安装完成时启动某些应用程序。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-workflow-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.2.1使用MySQL安装程序进行服务器配置</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序处理MySQL服务器的初始配置。</font><font style="vertical-align: inherit;">例如：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            它创建</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于配置MySQL服务器</font><font style="vertical-align: inherit;">的配置文件（</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">写入此文件的值受安装过程中所做选择的影响。</font><font style="vertical-align: inherit;">一些定义依赖于主机。</font><font style="vertical-align: inherit;">例如，如果主机少于三个核心，则启用query_cache。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              查询缓存在MySQL 5.7中已弃用，并在MySQL 8.0（及更高版本）中删除。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            默认情况下，添加用于MySQL服务器的Windows服务。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为MySQL服务器提供默认安装和数据路径。</font><font style="vertical-align: inherit;">有关如何更改默认的路径说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-change-path-proc" title="2.3.3.2.2使用MySQL安装程序设置备用服务器路径"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3.2.2“设置使用MySQL安装备用服务器路径”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            它可以选择创建基于一般的角色，如DB管理员，数据库设计和备份管理员配置的权限MySQL服务器的用户帐户。</font><font style="vertical-align: inherit;">它可以选择创建一个名为Windows的用户</font></font><code class="literal">MysqlSys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            以有限权限</font><font style="vertical-align: inherit;">，然后运行MySQL服务器。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            用户帐户也可以在MySQL Workbench中添加和配置。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            选中</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示高级选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以设置其他</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志记录选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这包括为错误日志，通用日志，慢速查询日志（包括执行查询所需的秒数配置）和二进制日志定义自定义文件路径。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在配置过程中，单击“
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续下一步或“
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回上一步。</font><font style="vertical-align: inherit;">点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在最后一步</font><font style="vertical-align: inherit;">以应用服务器配置。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分描述了适用于Windows上的MySQL服务器的服务器配置选项。</font><font style="vertical-align: inherit;">您安装的服务器版本将确定您可以配置哪些步骤和选项。</font><font style="vertical-align: inherit;">配置MySQL服务器可能包含以下部分或全部步骤：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-type-network" title="类型和网络"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型和网络</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-workflow-innodb-cluster" title="组复制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组复制</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-authentication-method" title="身份验证方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份验证方法</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-accounts-roles" title="帐户和角色"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户和角色</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-windows-service" title="Windows服务"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows服务</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-plugins-and-extensions" title="插件和扩展"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件和扩展</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-advanced-options" title="高级选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级选项</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#server-apply-config" title="应用服务器配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用服务器配置</font></font></a></p></li></ul>
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h6 class="title"><a name="server-type-network"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型和网络</font></font></h6>
</div>

</div>

</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              服务器配置类型
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选择描述您的设置的MySQL服务器配置类型。</font><font style="vertical-align: inherit;">该设置定义了将分配给MySQL服务器实例的系统资源（内存）的数量。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：将承载许多其他应用程序的机器，通常这是您的个人工作站。</font><font style="vertical-align: inherit;">该选项配置MySQL使用最少的内存。
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：此计算机上将运行其他几个应用程序，例如Web服务器。</font><font style="vertical-align: inherit;">该选项将MySQL配置为使用中等数量的内存。
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专用</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：专用于运行MySQL服务器的机器。</font><font style="vertical-align: inherit;">由于没有其他主要应用程序可以在此服务器上运行，例如Web服务器，因此此选项将MySQL配置为使用大部分可用内存。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接选项控制与MySQL的连接。</font><font style="vertical-align: inherit;">选项包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP / IP</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：您可以在此启用TCP / IP网络，否则仅允许本地主机连接。</font><font style="vertical-align: inherit;">还要定义
                   </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口号</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及是否打开防火墙端口以进行网络访问。</font><font style="vertical-align: inherit;">如果端口号已被使用，您将看到</font></font><span class="inlinemediaobject"><img src="./images/mi-info-symbol.png" align="middle" width="22" height="20"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值旁边</font><font style="vertical-align: inherit;">的信息图标（</font><font style="vertical-align: inherit;">），并且
                   </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next会</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被禁用，直到您提供新的端口号。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名管道</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启用并定义管道名称，与使用该</font></font><code class="literal">--enable-named-pipe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">类似
                   </font><font style="vertical-align: inherit;">。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共享内存</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启用并定义内存名称，与使用该</font></font><code class="literal">--shared-memory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">类似
                   </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              高级配置
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选中</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示高级选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以在稍后的步骤中设置其他日志记录选项。</font><font style="vertical-align: inherit;">这包括为错误日志，通用日志，慢速查询日志（包括执行查询所需的秒数配置）和二进制日志定义自定义文件路径。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL企业防火墙（仅限商业版）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用企业防火墙”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框默认</font><span class="guilabel"><font style="vertical-align: inherit;">处于</font></span><font style="vertical-align: inherit;">选中状态。</font><font style="vertical-align: inherit;">有关安装后的说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#firewall" title="6.5.6 MySQL企业防火墙"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.6节“MySQL企业防火墙”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="mysql-installer-workflow-innodb-cluster"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组复制</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当您使用MySQL Installer安装MySQL 5.7.17或更高版本（64位）时，您有两种选择来实施高可用性解决方案：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              独立MySQL服务器/经典MySQL复制（默认）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选择此选项可开始独立MySQL服务器的初始配置。</font><font style="vertical-align: inherit;">您可以手动配置多台经典的MySQL复制服务器，或使用MySQL Shell 1.0.9或更高版本配置生产InnoDB集群。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您稍后运行沙箱InnoDB集群测试设置，则由MySQL安装程序将删除为使用MySQL Shell手动创建的沙箱InnoDB集群设置的现有实例端口（3310至3390）。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关适用于Windows上的独立MySQL服务器的服务器配置选项的说明，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-workflow-server" title="2.3.3.2.1使用MySQL安装程序进行服务器配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3.2.1节“使用MySQL安装程序的服务器配置”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Sandbox InnoDB集群测试设置（仅用于测试）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选择此选项可在本地创建和配置沙箱InnoDB集群实例以进行测试。</font><font style="vertical-align: inherit;">您可以将沙箱InnoDB集群配置为拥有三个，五个，七个或九个MySQL服务器实例。</font><font style="vertical-align: inherit;">使用
               </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新配置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用MySQL Installer工具栏中</font><font style="vertical-align: inherit;">快速操作来调整InnoDB集群中的实例数。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如下图所示，此步骤要求您输入MySQL根帐户的密码。</font><font style="vertical-align: inherit;">密码强度在您重新输入时进行评估。
</font></font></p>
<div class="figure">
<a name="mysql-installer-innodb-cluster-instances"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.9 Sandbox InnoDB集群测试设置</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-sandbox-idc.png" width="722" height="542" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li></ul>
</div>
<p><font style="vertical-align: inherit;"></font><code class="literal">sandboxCluster</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认</font><font style="vertical-align: inherit;">
          命名的沙箱InnoDB集群
           </font><font style="vertical-align: inherit;">在选定的端口上可用。</font><font style="vertical-align: inherit;">执行配置后，单击
           </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摘要</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡查看适用于您的群集的特定端口。</font><font style="vertical-align: inherit;">Sandbox InnoDB集群配置条目存储在
           </font></font><code class="filename">installer_config.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果未安装，可以使用MySQL安装程序安装MySQL Shell 1.0.9。</font><font style="vertical-align: inherit;">MySQL Shell使您可以管理沙箱实例。</font><font style="vertical-align: inherit;">要在端口3310上连接MySQL Shell，请执行以下命令：
        </font></font></p><pre class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysqlsh root@localhost:3310</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序还提供了一个向导，用于配置MySQL路由器以连接到在此步骤中创建的测试InnoDB集群。</font><font style="vertical-align: inherit;">有关配置详情，请参阅
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-applications-router" title="MySQL路由器配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL路由器配置</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要了解有关MySQL路由器操作的更多信息，请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-router/2.1/en/mysql-router-innodb-cluster.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL InnoDB群集的路由</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-authentication-method"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份验证方法</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份验证方法</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，仅在MySQL 8.0.4或更高版本的安装或升级过程中的步骤是可见的。</font><font style="vertical-align: inherit;">它引入了两个服务器端身份验证选项之间的选择。</font><font style="vertical-align: inherit;">您在下一步创建的MySQL用户帐户将使用您在此步骤中选择的身份验证方法。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><code class="literal">libmysqlclient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.0的</font><font style="vertical-align: inherit;">MySQL 8.0连接器和社区驱动程序
           </font><font style="vertical-align: inherit;">现在支持
           </font></font><code class="literal">mysql_native_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认身份验证插件。</font><font style="vertical-align: inherit;">但是，如果您无法更新客户端和应用程序以支持这种新的身份验证方法，则可以将MySQL服务器配置</font></font><code class="literal">mysql_native_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为用于传统身份验证。</font><font style="vertical-align: inherit;">有关此更改的含义的更多信息，请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caching_sha2_password作为首选身份验证插件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您正在安装或升级到MySQL 8.0.4或更高版本，请选择以下身份验证方法之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用强密码加密进行身份验证（推荐）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL 8.0支持基于改进的，更强大的基于SHA256的密码方法的新认证。</font><font style="vertical-align: inherit;">建议所有新的MySQL服务器安装使用这种方法。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><code class="literal">caching_sha2_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                服务器上进行验证插件需要连接器和客户端，当中添加对新的MySQL 8.0的默认身份验证支持的新版本。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用传统身份验证方法（保留MySQL 5.x兼容性）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              只有在以下情况下才应考虑使用旧的MySQL 5.x传统身份验证方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  应用程序无法更新为使用MySQL 8.0连接器和驱动程序。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  重新编译现有的应用程序是不可行的。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  更新后的语言专用连接器或驱动程序尚不可用。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-accounts-roles"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户和角色</font></font></h6>
</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              根帐户密码
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              指定root密码是必需的，在执行其他MySQL安装程序操作时会询问您。</font><font style="vertical-align: inherit;">当您在提供的框中重复密码时，会评估密码强度。</font><font style="vertical-align: inherit;">有关密码要求或状态的描述性信息，请</font></font><span class="inlinemediaobject"><img src="./images/mi-info-symbol.png" align="middle" width="22" height="20"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在出现时</font><font style="vertical-align: inherit;">将鼠标指针移动到信息图标（</font><font style="vertical-align: inherit;">）上。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL用户帐户
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              或者，您可以使用预定义的用户角色创建其他MySQL用户帐户。</font><font style="vertical-align: inherit;">每个预定义角色（例如数据库管理员）均使用自己的一组权限进行配置。</font><font style="vertical-align: inherit;">例如，数据库管理员角色拥有比数据库设计员角色更多的权限。</font><font style="vertical-align: inherit;">点击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              下拉列表以查看每个角色的描述。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果安装了MySQL服务器，则还必须输入当前的root密码。
</font></font></p>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-windows-service"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows服务</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Windows平台上，MySQL服务器可以作为由操作系统管理的命名服务运行，并配置为在Windows启动时自动启动。</font><font style="vertical-align: inherit;">或者，您可以将MySQL服务器配置为需要手动配置的可执行程序运行。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将MySQL服务器配置为Windows服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认选择）。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当选择默认配置选项时，您还可以选择以下选项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在系统启动时启动MySQL服务器</font></font></span>
                </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  选择时（默认），服务启动类型设置为自动; </font><font style="vertical-align: inherit;">否则，启动类型设置为手动。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行Windows服务为</font></font></span>
                </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  当</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准系统帐户</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（缺省值），该服务登录的网络服务。
                </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  “ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义用户”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项必须具有作为服务登录到Microsoft Windows的权限。</font><font style="vertical-align: inherit;">在</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，直到该用户被配置为与所需权限按钮将被禁用。
                </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  在Windows中，通过在“开始”菜单中搜索“本地安全策略”来配置自定义用户。</font><font style="vertical-align: inherit;">在本地安全策略窗口中，选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地策略</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户权限分配</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为服务登录</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以打开属性对话框。</font><font style="vertical-align: inherit;">单击
                   </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加用户或组</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以添加自定义用户，然后</font><font style="vertical-align: inherit;">
                  在每个对话框中</font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以保存更改。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              取消选择Windows服务选项
            </font></font></p><p>
              
</p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-plugins-and-extensions"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件和扩展</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件和扩展</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的MySQL 5.7.12只（或更高版本）的一个新的安装过程中的步骤是可见的。</font><font style="vertical-align: inherit;">如果您从以前的MySQL版本升级，则需要再次打开MySQL安装程序并选择
           </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新配置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL服务器选项。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用X协议/ MySQL作为文档存储</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认选择）。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当选择X协议选项时，MySQL安装程序将加载并启动X插件。</font><font style="vertical-align: inherit;">如果没有运行X插件，X协议客户端无法连接到服务器。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口号码：</font></font></span>
                  <em class="replaceable"><code>33060</code></em>
                </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  需要一个未使用的端口。</font><font style="vertical-align: inherit;">默认端口号是33060。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开防火墙端口进行网络访问</font></font></span>
                </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  在选择X协议时默认打开。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关使用MySQL作为文档存储和X插件的更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/document-store.html#document-store-concepts" title="19.2重要概念"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第19.2节“重要概念”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
               </font></font><a class="xref" href="/mysql-5.7-google-zh/document-store.html#x-plugin" title="19.7 X插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第19.7节“X插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-advanced-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级选项</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果</font><font style="vertical-align: inherit;">在“ </font><span class="guilabel"><font style="vertical-align: inherit;">类型和网络”</font></span><font style="vertical-align: inherit;">步骤</font><font style="vertical-align: inherit;">中选择</font><font style="vertical-align: inherit;">了“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示高级配置”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框，
           </font><font style="vertical-align: inherit;">则此步骤可用</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要立即启用此步骤，请单击上</font><span class="guibutton"><font style="vertical-align: inherit;">一步</font></span><font style="vertical-align: inherit;">以返回到“
           </font><span class="guilabel"><font style="vertical-align: inherit;">类型和网络”</font></span><font style="vertical-align: inherit;">步骤并选中复选框。
        </font></font><span class="guilabel"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="guibutton"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="guilabel"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          高级配置选项与以下MySQL日志文件相关：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误日志</font></font></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/server-administration.html#query-log" title="5.4.3一般查询日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般日志</font></font></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/server-administration.html#slow-query-log" title="5.4.5慢查询日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">慢查询日志</font></font></a>
            </p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/server-administration.html#binary-log" title="5.4.4二进制日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bin日志</font></font></a>
</p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="server-apply-config"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用服务器配置</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          单击“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，所有配置设置将应用于MySQL服务器</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用“
           </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置步骤”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡来跟踪每个操作的进度; </font><font style="vertical-align: inherit;">每个图标在成功时从白色切换到绿色。</font><font style="vertical-align: inherit;">否则，如果个别操作超时，则该过程停止并显示错误消息。</font><font style="vertical-align: inherit;">单击
           </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡查看日志。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          安装完成并单击
           </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成后</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL安装程序和已安装的MySQL产品将添加到该</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组</font><font style="vertical-align: inherit;">下的Microsoft Windows开始菜单</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">打开MySQL安装程序会加载显示</font><font style="vertical-align: inherit;">
          已安装MySQL产品</font><font style="vertical-align: inherit;">的
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#windows-product-dashboard" title="MySQL安装程序仪表板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪表板</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并提供其他MySQL安装程序操作。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-change-path-proc"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.2.2使用MySQL安装程序设置备用服务器路径</font></font></h5>

</div>

</div>

</div>
<div class="procedure">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以在安装MySQL服务器时更改默认安装路径，数据路径或两者。</font><font style="vertical-align: inherit;">安装服务器后，如果不删除并重新安装服务器实例，则无法更改路径。
        </font></font></p><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改变MySQL服务器的路径</font></font></strong></span>
        </p><ol class="procedure" type="1"><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            识别MySQL服务器以更改并显示“
             </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级选项”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。
          </font></font></p><ol type="a" class="substeps"><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行以下操作之一</font><font style="vertical-align: inherit;">
                导航到“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择产品和功能”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤：
              </font></font></p><ol type="i" class="substeps"><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    如果这是
                     </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer-setup" title="2.3.3.1 MySQL安装程序初始设置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始设置</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请选择</font></font><code class="literal">Custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    设置类型并单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                  </font></font></p></li><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    如果已经安装MySQL安装程序，请从开始菜单启动它，然后</font><font style="vertical-align: inherit;">
                    从仪表板中</font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                  </font></font></p></li></ol></li><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以过滤产品列表，找到要安装在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用产品</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中</font><font style="vertical-align: inherit;">的服务器实例</font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                选择服务器实例后，使用箭头将选定的服务器移至</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要安装</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><span class="guilabel"><font style="vertical-align: inherit;">产品/功能</font></span><font style="vertical-align: inherit;">列表。
              </font></font></p></li><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                点击服务器选择它。</font><font style="vertical-align: inherit;">当您选择服务器时，</font><font style="vertical-align: inherit;">出现</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font><font style="vertical-align: inherit;">有关详细信息，请参阅下图。
              </font></font></p></li></ol></li><li class="step"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            点击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以打开一个包含路径设置选项的对话窗口。</font><font style="vertical-align: inherit;">设置路径后，单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续配置步骤。
</font></font></p>
<div class="figure">
<a name="mysql-installer-custom-path-fig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.10更改MySQL服务器路径</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-path-advanced-options.png" width="541" height="381" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li></ol>
</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-workflow-nonserver-products"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.2.3 MySQL应用程序，连接器和文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序为您提供了一套用于在Windows上开发和管理关键业务应用程序的工具。</font><font style="vertical-align: inherit;">该套件由应用程序，连接器，文档和示例组成。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer-setup" title="2.3.3.1 MySQL安装程序初始设置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始设置</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期间</font><font style="vertical-align: inherit;">，选择任何预定的安装类型，除了
         </font></font><code class="literal">Server only</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装最新的GA版本的工具。</font><font style="vertical-align: inherit;">使用</font></font><code class="literal">Custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型安装单个工具或特定版本。</font><font style="vertical-align: inherit;">如果MySQL安装程序已安装在主机上，请使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        操作从MySQL安装程序仪表板中选择并安装工具。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h6 class="title"><a name="windows-applications-router"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL路由器配置</font></font></h6>
</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL安装程序提供了一个配置向导，可以引导已安装的MySQL Router 2.1.3或更高版本的实例，以在MySQL应用程序和InnoDB群集之间路由流量。</font><font style="vertical-align: inherit;">配置时，MySQL路由器作为本地Windows服务运行。</font><font style="vertical-align: inherit;">有关在InnoDB集群中使用MySQL路由器的详细信息，请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-router/2.1/en/mysql-router-innodb-cluster.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL InnoDB集群的路由</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要配置MySQL路由器，请执行以下操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              设置InnoDB集群。</font><font style="vertical-align: inherit;">有关如何使用MySQL安装程序在本地主机上配置沙盒InnoDB集群的说明，请参阅
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-workflow-innodb-cluster" title="组复制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组复制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">InnoDB集群需要MySQL Server 5.7.17或更高版本。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关InnoDB集群的一般信息，请参阅
               </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-innodb-cluster-userguide.html" title="第20章InnoDB集群"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB集群</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用MySQL安装程序，下载并安装MySQL路由器应用程序。</font><font style="vertical-align: inherit;">安装完成后，配置向导会提示您输入信息。</font><font style="vertical-align: inherit;">选中
               </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB集群配置MySQL路由器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框开始配置并提供以下配置值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机名：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localhost默认。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> InnoDB集群中主服务器的端口号。</font><font style="vertical-align: inherit;">默认值是3310。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理用户：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有根级权限的管理用户。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理用户的密码。
                </font></font></p></li><li class="listitem"><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经典的MySQL协议连接到InnoDB集群</font></font></span>
                </p><p>
                  <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取/写入：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将第一个基本端口号设置为未使用的端口号（介于80和65532之间），然后向导将为您选择其余端口。
                </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  下图显示了MySQL路由器配置屏幕的一个示例，第一个基本端口号指定为6446，其余端口由向导设置为6447,6448和6449。
</font></font></p></li></ul>
</div>

<div class="figure">
<a name="mysql-installer-router-config"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.11 MySQL路由器配置</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-router-config.png" width="541" height="381" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后
               </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以应用配置。</font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭MySQL安装程序或返回到MySQL安装程序仪表板。
</font></font></p></li></ol>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installer-catalog-dashboard"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.3 MySQL安装程序产品目录和仪表板</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-product-catalog" title="产品目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品目录</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-product-dashboard" title="MySQL安装程序仪表板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序仪表板</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#locate-products" title="找到要安装的产品"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到要安装的产品</font></font></a></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍MySQL安装程序产品目录和仪表板。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="windows-product-catalog"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品目录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        产品目录存储发布的MySQL产品为Microsoft Windows可用来从下载的完整列表，</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的下载</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认情况下，当Internet连接存在时，MySQL安装程序每天更新目录。</font><font style="vertical-align: inherit;">您也可以从仪表板手动更新目录（稍后介绍）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最新的目录执行以下操作：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            填充“ </font><font style="vertical-align: inherit;">选择产品和功能”步骤</font><font style="vertical-align: inherit;">的“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用产品”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗格。</font><font style="vertical-align: inherit;">此步骤出现在您选择以下内容时
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><code class="literal">Custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程中的安装类型
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer-setup" title="2.3.3.1 MySQL安装程序初始设置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始设置</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪表板中</font><font style="vertical-align: inherit;">
                的</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            识别产品更新何时可用于仪表板中列出的已安装产品。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该目录包括所有开发版本（预发行版），常规发行版（当前GA）和次要发行版（其他发行版）。</font><font style="vertical-align: inherit;">目录中的产品会有所不同，具体取决于您下载的MySQL Installer版本。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="windows-product-dashboard"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序仪表板</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL安装程序仪表板是</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer-setup" title="2.3.3.1 MySQL安装程序初始设置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始安装</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        完成</font><font style="vertical-align: inherit;">后启动MySQL安装程序时看到的默认屏幕
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您在安装完成之前关闭了MySQL安装程序，则MySQL安装程序会在显示仪表板之前恢复初始设置。
</font></font></p>
<div class="figure">
<a name="mysql-installer-dashboard-fig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.12 MySQL安装程序仪表板元素</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-dashboard-annotated.png" width="571" height="396" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序仪表板元素的描述</font></font></strong></span>
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL安装程序 - 关于icon（</font></font><span class="inlinemediaobject"><img src="./images/mi-question-mark-button.png" align="middle" width="16" height="16"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）显示MySQL安装程序的当前版本和有关MySQL的一般信息。</font><font style="vertical-align: inherit;">版本号位于</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后退</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮</font><font style="vertical-align: inherit;">上方</font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在报告MySQL安装程序问题时始终包含此版本号。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL安装程序选项图标（</font></font><span class="inlinemediaobject"><img src="./images/mi-tool-button.png" align="middle" width="16" height="16"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）使您能够安排每日自动目录更新。</font><font style="vertical-align: inherit;">默认情况下，目录更新计划在首次安装MySQL安装程序时。</font><font style="vertical-align: inherit;">当新产品或产品版本可用时，MySQL安装程序会将它们添加到目录中，然后</font></font><span class="inlinemediaobject"><img src="./images/wb-icon-upgrade-arrow.png" align="middle" width="16" height="16"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在仪表板中列出的已安装产品的版本号旁边</font><font style="vertical-align: inherit;">显示箭头图标（</font><font style="vertical-align: inherit;">）。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用此选项启用或禁用自动目录更新，并重置MySQL安装程序自动更新目录的时间。</font><font style="vertical-align: inherit;">有关具体设置，请参阅</font></font><code class="literal">ManifestUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows任务计划程序中</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">的任务。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL安装程序仪表板操作提供了适用于目录中列出的已安装产品或产品的各种操作。</font><font style="vertical-align: inherit;">要启动以下操作，请先点击操作链接，然后选择要管理的产品或产品：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="mysql-installer-alter-add"></a>
                <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：此操作将打开“选择产品和功能”屏幕。</font><font style="vertical-align: inherit;">从那里，您可以过滤产品目录中的产品，选择一个或多个要下载的产品（根据需要），然后开始安装。</font><font style="vertical-align: inherit;">有关使用过滤器的提示，请参阅
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#locate-products" title="找到要安装的产品"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找要安装的产品</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><a name="mysql-installer-alter-modify"></a>
                <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用此操作可添加或删除与已安装产品关联的功能。</font><font style="vertical-align: inherit;">可以修改的功能因产品而异。</font><font style="vertical-align: inherit;">当选中“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序快捷方式”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框时，产品将显示在</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组</font><font style="vertical-align: inherit;">下的“开始”菜单中
                 </font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><a name="mysql-installer-alter-upgrade"></a>
                <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：此操作将选择产品加载到升级屏幕并将其填入所有升级候选者。</font><font style="vertical-align: inherit;">已安装的产品可以有多个升级版本并需要当前的产品目录。
              </font></font></p><p>
                <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 重要的服务器升级条件</font></font></strong></span>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    MySQL安装程序不允许在主要发行版本或次要发行版本之间进行服务器升级，但确实允许在发行版系列中进行升级，例如从5.7.18升级到5.7.19。
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    不支持里程碑版本之间的升级（或从里程碑版本到GA版本）之间的升级。</font><font style="vertical-align: inherit;">里程碑版本发生重大变化，您可能会遇到启动服务器的兼容性问题或问题。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                要选择新的产品版本：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    点击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">确认“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可升级产品”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗格中</font><font style="vertical-align: inherit;">产品名称旁边的复选框
                     </font><font style="vertical-align: inherit;">有复选标记。</font><font style="vertical-align: inherit;">取消选择目前不打算升级的产品。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                      对于同一版本系列中的服务器里程碑版本，MySQL安装程序将取消选择服务器升级并显示警告，指出不支持升级，确定继续存在的风险，并提供手动执行逻辑升级的步骤摘要。</font><font style="vertical-align: inherit;">您可以自行承担重新选择服务器升级的风险。</font><font style="vertical-align: inherit;">有关如何使用里程碑版本执行逻辑升级的说明，请参阅
                       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    点击列表中的产品以突出显示它。</font><font style="vertical-align: inherit;">此操作将填充“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可升级版本”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗格，其中包含所选产品的每个可用版本的详细信息：版本号，发布日期以及</font></font><code class="literal">Changes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开该版本发行说明</font><font style="vertical-align: inherit;">的
                     </font><font style="vertical-align: inherit;">链接。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                MySQL安装程序通过一个操作升级所有选定的产品。</font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示详细信息</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以查看MySQL安装程序执行的操作。
              </font></font></p></li><li class="listitem"><p><a name="mysql-installer-remove"></a>
                <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此操作将打开删除产品屏幕并使用主机上安装的MySQL产品进行填充。</font><font style="vertical-align: inherit;">选择要删除的MySQL产品（卸载），然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以开始删除过程。
              </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                要选择要移除的产品，请执行以下操作之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    选中一个或多个产品的复选框。
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    选中</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框以选择所有产品。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
</li><li class="listitem"><p><a name="mysql-installer-alter-reconfigure"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个已安装服务器旁的“快速操作”列中的</font><font style="vertical-align: inherit;">
            “ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新配置”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接会加载服务器的当前配置值，然后循环执行所有配置步骤，以便更改选项和值。</font><font style="vertical-align: inherit;">完成后，MySQL安装程序会停止服务器，应用配置更改并为您重新启动服务器。</font><font style="vertical-align: inherit;">有关每个配置选项的说明，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer-workflow-server" title="2.3.3.2.1使用MySQL安装程序进行服务器配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3.2.1节“使用MySQL安装程序进行服务器配置”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">Samples and Examples</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与特定MySQL服务器版本关联的</font><font style="vertical-align: inherit;">
            安装</font><font style="vertical-align: inherit;">也可以重新配置，以应用功能配置更改（如果有的话）。</font><font style="vertical-align: inherit;">您必须提供具有root权限的凭据才能重新配置这些项目。
          </font></font></p><p>
            
          </p></li><li class="listitem"><p><a name="mysql-installer-catalog"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的链接，您可以手动下载MySQL的产品，最新的目录，然后进行整合与MySQL安装这些产品的变化。</font><font style="vertical-align: inherit;">目录下载操作不执行已安装在主机上的产品的升级。</font><font style="vertical-align: inherit;">相反，它将返回到仪表板，并在版本列中为每个已安装的产品显示一个新版本的箭头图标。</font><font style="vertical-align: inherit;">使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作安装较新的产品版本。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您也可以使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接显示每个产品的当前更改历史记录，而无需下载新目录。</font><font style="vertical-align: inherit;">选择此时</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不更新</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复选框仅查看更改历史记录。
</font></font></p></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="locate-products"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到要安装的产品</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        目录中的MySQL产品按类别列出：MySQL服务器，应用程序，MySQL连接器和文档。</font><font style="vertical-align: inherit;">默认情况下，</font><font style="vertical-align: inherit;">只有最新的GA版本出现在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用产品”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗格中。</font><font style="vertical-align: inherit;">如果您正在查找产品的预发行版或较早版本，则可能无法在默认列表中看到该产品。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要更改默认产品列表，请单击
         </font><font style="vertical-align: inherit;">仪表板上的</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以打开“选择产品和功能”屏幕，然后单击
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">修改产品值，然后单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="figure">
<a name="mysql-installer-product-filter-fig"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.13筛选可用产品</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mi-product-filter.png" width="456" height="249" alt="按文本，类别，年龄，已下载和体系结构进行过滤。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        重置以下一个或多个值以过滤可用产品列表：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            文字：按文字过滤。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            类别：所有软件（默认），MySQL服务器，应用程序，MySQL连接器或文档（用于示例和文档）。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            年龄：预发行版，当前GA（默认）或其他发行版。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已下载（默认情况下取消选中该复选框）。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            体系结构：任何（默认），32位或64位。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="MySQLInstallerConsole"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.3.4 MySQLInstallerConsole参考</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528187061424"></a><a class="indexterm" name="idm140528187060384"></a><a class="indexterm" name="idm140528187059312"></a><a class="indexterm" name="idm140528187057824"></a><p>
      <a class="link" href="/mysql-5.7-google-zh/installing.html#MySQLInstallerConsole" title="2.3.3.4 MySQLInstallerConsole参考"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLInstallerConsole.exe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供与MySQL安装程序类似的命令行功能。</font><font style="vertical-align: inherit;">它在MySQL安装程序初始执行时安装，然后在</font></font><code class="filename">MySQL Installer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">可用
      </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常，这就是</font></font><code class="filename">C:\Program Files (x86)\MySQL\MySQL
      Installer\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且控制台必须以管理权限执行。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用，请选择“ </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，“ </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附件”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后右键单击“
       </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令提示符”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并选择</font><font style="vertical-align: inherit;">，
       </font><font style="vertical-align: inherit;">以管理权限调用命令提示符</font></font><code class="literal">Run as
      administrator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后从命令行选择将目录更改为
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#MySQLInstallerConsole" title="2.3.3.4 MySQLInstallerConsole参考"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLInstallerConsole.exe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所在的位置：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>cd Program Files (x86)\MySQL\MySQL Installer for Windows</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\ Program Files（x86）\ MySQL \ MySQL Installer for Windows&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole.exe help</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
===================开始初始化===================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL安装程序在社区模式下运行</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
试图更新清单。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初始化产品需求</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
加载产品目录</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检查产品目录片段</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检查包中的产品包</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分类产品目录</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查找所有已安装的软件包。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您的产品目录最后更新于11/1/2016 4:10:38 PM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
===================结束初始化===================</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下命令可用：</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
配置 - 配置一个或多个已安装的程序。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
帮助 - 提供可用命令的列表。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装 - 安装并配置一个或多个可用的MySQL程序。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
列表 - 提供一种交互方式来列出所有可用的产品。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
修改 - 修改已安装产品的功能。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
删除 - 删除系统中的一个或多个产品。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状态 - 显示所有已安装产品的状态。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更新 - 更新当前的产品目录。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
升级 - 升级一个或多个已安装的程序。</font></font><font></font>
</pre><p>
      <a class="link" href="/mysql-5.7-google-zh/installing.html#MySQLInstallerConsole" title="2.3.3.4 MySQLInstallerConsole参考"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLInstallerConsole.exe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持以下命令：
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        包含冒号（“：”）的配置块值必须用双引号括起来。</font><font style="vertical-align: inherit;">例如，installdir =“C：\ MySQL \ MySQL Server 8.0”。
</font></font></p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="MySQLInstallerConsole-configure"></a>
          <a class="indexterm" name="idm140528187041200"></a>

          <a class="indexterm" name="idm140528187039712"></a>

          <code class="literal">configure <em class="replaceable"><code>[product1]:[setting]=[value];
          [product2]:[setting]=[value]; [...]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在您的系统上配置一个或多个MySQL产品。</font><font style="vertical-align: inherit;">可以为每个产品配置多个设置=值对。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          开关包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-showsettings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：通过在后面传入产品名称，显示所选产品的可用选项</font></font><code class="literal">-showsettings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-silent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：禁用确认提示。
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole configure -showsettings server</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole configure server:port=3307</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-help"></a>
          <a class="indexterm" name="idm140528187028272"></a>

          <a class="indexterm" name="idm140528187026784"></a>

          <code class="literal">help <em class="replaceable"><code>[command]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示带有使用示例的帮助消息，然后退出。</font><font style="vertical-align: inherit;">传入额外的命令以接收特定于该命令的帮助。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole help</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole help install</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-install"></a>
          <a class="indexterm" name="idm140528187020176"></a>

          <a class="indexterm" name="idm140528187018720"></a>

          <code class="literal">install <em class="replaceable"><code>[product]:[features]:[config
          block]:[config block]:[config block];
          [...]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在您的系统上安装一个或多个MySQL产品。</font><font style="vertical-align: inherit;">如果预发布产品可供选择，GA和预发布产品的同时安装时的值
           </font></font><code class="literal">-type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关
           </font></font><code class="literal">Developer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">Client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="literal">Full</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code class="literal">-only_ga_products</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有使用这些设置类型时，才能</font><font style="vertical-align: inherit;">使用
           </font><font style="vertical-align: inherit;">开关将产品设置为GA产品。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          开关和语法选项包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-only_ga_products</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：限制产品集只包括GA产品。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-type=[SetupType]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装一组预定义的软件。</font><font style="vertical-align: inherit;">“SetupType”可以是下列之一：
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                只有在没有安装其他MySQL产品的情况下才能选择非自定义安装类型。
</font></font></p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装完整的开发环境。
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装一台MySQL服务器
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装客户端程序和库
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全部</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装一切
                </font></font></p></li><li class="listitem"><p>
                  <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：安装用户选择的产品。</font><font style="vertical-align: inherit;">这是默认选项。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">-showsettings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：通过在后面传入产品名称，显示所选产品的可用选项</font></font><code class="literal">-showsettings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-silent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：禁用确认提示。
            </font></font></p></li><li class="listitem"><p>
              <em class="replaceable"><code>[config block]</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：可以指定一个或多个配置块。</font><font style="vertical-align: inherit;">每个配置块都是以分号分隔的键值对列表。</font><font style="vertical-align: inherit;">块可以包含“config”或“user”类型的键，其中“config”是默认类型，如果没有定义。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含冒号字符（</font></font><code class="literal">:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">配置块值</font><font style="vertical-align: inherit;">必须用双引号括起来。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">installdir="C:\MySQL\MySQL Server
              8.0"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每个产品只能定义一个“配置”类型块。</font><font style="vertical-align: inherit;">应该为产品安装过程中应创建的每个用户定义一个“用户”块。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                正在重新配置产品时，不支持添加用户。
</font></font></p>
</div>
</li><li class="listitem"><p>
              <em class="replaceable"><code>[feature]</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要素块是以分号分隔的要素列表，或者是星号字符（</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）以选择所有</font><font style="vertical-align: inherit;">要素</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25:*:port=3307;serverid=2:type=user;username=foo;password=bar;role=DBManager</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25;x64 -silent</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          一个传入额外配置块的示例，分解</font></font><code class="literal">^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为适合此屏幕：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25;x64:*:type=config;openfirewall=true; ^<font></font>
          generallog=true;binlog=true;serverid=3306;enable_tcpip=true;port=3306;rootpasswd=pass; ^<font></font>
          installdir="C:\MySQL\MySQL Server 5.6":type=user;datadir="C:\MySQL\data";username=foo;password=bar;role=DBManager</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-list"></a>
          <a class="indexterm" name="idm140528186981040"></a>

          <a class="indexterm" name="idm140528186979552"></a>

          <code class="literal">list</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          列出可以搜索所有可用MySQL产品的交互式控制台。</font><font style="vertical-align: inherit;">执行
           </font></font><code class="literal">MySQLInstallerConsole list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以启动控制台，并输入一个子字符串进行搜索。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole list</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-modify"></a>
          <a class="indexterm" name="idm140528186973216"></a>

          <a class="indexterm" name="idm140528186971728"></a>

          <code class="literal">modify <em class="replaceable"><code>[product1:-removelist|+addlist]
          [product2:-removelist|+addlist] [...]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          修改或显示以前安装的MySQL产品的功能。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-silent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：禁用确认提示。
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole modify server</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole modify server:+documentation</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole modify server:-debug</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-remove"></a>
          <a class="indexterm" name="idm140528186962416"></a>

          <a class="indexterm" name="idm140528186960928"></a>

          <code class="literal">remove <em class="replaceable"><code>[product1] [product2]
          [...]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从系统中移除一个或多个产品。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：通过</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除所有MySQL产品。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-continue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：即使发生错误，仍继续操作。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-silent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：禁用确认提示。
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole remove *</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole remove server</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-status"></a>
          <a class="indexterm" name="idm140528186948656"></a>

          <a class="indexterm" name="idm140528186947168"></a>

          <code class="literal">status</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          简要介绍系统上安装的MySQL产品。</font><font style="vertical-align: inherit;">信息包括产品名称和版本，体系结构，安装日期和安装位置。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole status</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-update"></a>
          <a class="indexterm" name="idm140528186941488"></a>

          <a class="indexterm" name="idm140528186940000"></a>

          <code class="literal">update</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将最新的MySQL产品目录下载到您的系统。</font><font style="vertical-align: inherit;">成功时，下次执行MySQLInstaller或MySQLInstallerConsole时将应用下载目录。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>update</code></em></code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动目录更新</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GUI选项执行从Windows任务调度命令。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="MySQLInstallerConsole-upgrade"></a>
          <a class="indexterm" name="idm140528186932368"></a>

          <a class="indexterm" name="idm140528186930880"></a>

          <code class="literal">upgrade <em class="replaceable"><code>[product1:version]
          [product2:version] [...]</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          升级系统中的一个或多个产品。</font><font style="vertical-align: inherit;">语法选项包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：通过</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将所有产品升级到最新版本，或通过特定产品。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code class="literal">!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为版本号传入，将MySQL产品升级到最新版本。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">-silent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：禁用确认提示。
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole upgrade *</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:6.3.5</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt; </font></font><strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:!</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:6.3.5 excel:1.3.2</code></strong>
</pre></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-notifier"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4 MySQL通知程序</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-notifier-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4.1 MySQL通知程序的用法</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-notifier-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4.2在MySQL通知程序中设置远程监控</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528186915616"></a><a class="indexterm" name="idm140528186914576"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL Notifier是一个工具，通过驻留在Microsoft Windows任务栏中的指示器，您可以监视和调整本地和远程MySQL服务器实例的状态。</font><font style="vertical-align: inherit;">MySQL通知程序还通过其上下文菜单快速访问MySQL Workbench。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL通知程序通过使用MySQL安装程序进行安装。</font><font style="vertical-align: inherit;">它可以在Microsoft Windows启动时自动加载。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要安装，下载并执行
     </font></font><a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用从应用程序中选择的MySQL通知程序，继续安装。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有关详细说明每个版本的MySQL通告程序中的更改的说明，请参阅</font></font><a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-notifier/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通告程序版本说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    访问</font></font><a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Notifier论坛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取更多MySQL Notifier帮助和支持。
</font></font></p>
<h4><a name="idm140528186907696"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能包括：</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        启动，停止并重新启动MySQL服务器的实例。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        自动检测（并添加）新的MySQL服务器服务。</font><font style="vertical-align: inherit;">这些在“ </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理监控项目”下列出</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，也可以进行配置。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        托盘图标会根据状态发生变化。</font><font style="vertical-align: inherit;">如果所有受监视的MySQL服务器实例都在运行，则为绿色，如果至少有一个服务停止，则为红色。</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于服务状态</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的</font><span class="guilabel"><font style="vertical-align: inherit;">更新MySQL通告程序托盘图标</font></span><font style="vertical-align: inherit;">（用于指示此行为）对于每项服务默认启用。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        链接到其他应用程序，如MySQL Workbench，MySQL安装程序和MySQL实用程序。</font><font style="vertical-align: inherit;">例如，选择</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将为该特定实例加载MySQL Workbench服务器管理窗口。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果还安装了MySQL Workbench，则</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项可用于本地（但不是远程）MySQL实例。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        监控本地和远程MySQL实例。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-notifier-usage"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4.1 MySQL通知程序的用法</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL通告程序为在本地或远程计算机上监视的MySQL服务器提供可视状态信息。</font><font style="vertical-align: inherit;">任务栏中的MySQL通知程序图标会更改颜色以指示当前状态：正在运行或已停止。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL通知程序会在本地计算机上自动添加发现的MySQL服务。</font><font style="vertical-align: inherit;">默认情况下，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动添加名称包含</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><span class="guilabel"><font style="vertical-align: inherit;">新服务</font></span><font style="vertical-align: inherit;">已启用并设置为</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">相关通知选项包括在发现新服务或体验状态更改时收到通知，并且默认情况下也会启用。</font><font style="vertical-align: inherit;">卸载服务会从MySQL通告程序中删除服务。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      单击Windows任务栏中的MySQL Notifier图标可以看到MySQL Notifier主菜单，它将单独列出每个MySQL服务器并显示其当前状态。</font><font style="vertical-align: inherit;">您可以从菜单中启动，停止或重新启动每个MySQL服务器，如下图所示。</font><font style="vertical-align: inherit;">当本地安装MySQL Workbench时，</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      菜单项将启动应用程序。
</font></font></p>
<div class="figure">
<a name="windows-notifier-server-instance"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.14 MySQL通知程序服务实例菜单</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-server-instance.png" width="341" height="213" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菜单包括以下项目：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理监视的项目</font></font></span>
        </p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL安装程序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅在安装产品时）。
        </font></font></p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查更新</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅在安装MySQL安装程序时）。
        </font></font></p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Utilities Shell</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅在安装产品时）。
        </font></font></p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">刷新状态</font></font></span>
        </p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font></span>
        </p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于</font></font></span>
        </p></li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭MySQL通知程序</font></font></span>
</p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当MySQL Notifier未监视任何服务时</font><font style="vertical-align: inherit;">
      ，主菜单不显示“ </font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菜单。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="windows-notifier-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通知程序选项</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菜单提供了一组配置MySQL通知操作的选项。</font><font style="vertical-align: inherit;">选项分为以下几类：
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器连接选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用选择的选项或</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击取消</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略所有更改。</font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重置为默认值</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后
         </font><font style="vertical-align: inherit;">单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以应用默认选项值。
      </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规选项。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个小组包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用彩色状态图标</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：为MySQL通知程序的托盘启用丰富多彩的图标风格。</font><font style="vertical-align: inherit;">默认选择。
          </font></font></p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows启动时运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：允许应用程序在Microsoft Windows启动时加载。</font><font style="vertical-align: inherit;">默认取消选择。
          </font></font></p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃
             </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">周</font></font></span><font style="vertical-align: inherit;"><span class="guilabel"><font style="vertical-align: inherit;">自动检查更新</font></span><font style="vertical-align: inherit;">：检查新版本的MySQL通知程序，并每＃周运行一次此检查。</font><font style="vertical-align: inherit;">默认情况下每四周选择一次更新。
          </font></font></p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动添加名称中包含以下内容</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><span class="guilabel"><font style="vertical-align: inherit;">新服务：</font></span><font style="vertical-align: inherit;">用于过滤服务的文本，并将其自动添加到运行MySQL Notifier的本地计算机的监视列表中，以及已在监视Windows服务的远程计算机上。</font><font style="vertical-align: inherit;">默认情况下为包含的名称选择</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ping每隔</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒</font></font></span><font style="vertical-align: inherit;"><span class="guilabel"><font style="vertical-align: inherit;">监控一次MySQL服务器实例</font></span><font style="vertical-align: inherit;">：对受监控MySQL服务器实例进行状态更改的时间间隔（以秒为单位）。</font><font style="vertical-align: inherit;">如果受监视的远程实例列表很大，则可能需要更长的时间间隔。</font><font style="vertical-align: inherit;">默认30秒。
</font></font></p></li></ul>
</div>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知选项。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个小组包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动添加服务时通知我</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：将新发现的服务添加到受监控服务列表时，从任务栏显示气球通知。</font><font style="vertical-align: inherit;">默认选择。
          </font></font></p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务更改状态时通知我</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：受监控服务更改其状态时，显示任务栏中的气球通知。</font><font style="vertical-align: inherit;">默认选择。
</font></font></p></li></ul>
</div>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器连接选项。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个小组包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动连接迁移延迟到：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当有连接迁移到MySQL Workbench（如果已安装）时，此选项将迁移推迟一小时，一天，一周，一个月或无限期。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="windows-notifier-monitor-items"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理监视的项目</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理监控的项目</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菜单，您可以添加，配置和删除您打算监视的服务和MySQL实例。</font><font style="vertical-align: inherit;">该
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理项目</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口有两个标签：
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务选项卡。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当MySQL被配置为本地服务时，MySQL通告程序会</font><font style="vertical-align: inherit;">自动</font><font style="vertical-align: inherit;">将</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加到</font><span class="guilabel"><font style="vertical-align: inherit;">服务</font></span><font style="vertical-align: inherit;">选项卡。</font><font style="vertical-align: inherit;">打开</font><font style="vertical-align: inherit;">“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡后，可以选择适用于所有受监视服务的以下选项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态改变时通知我</font></font></span>
          </p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据服务状态更新MySQL Notifier托盘图标</font></font></span>
</p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下图显示</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡打开并选择了两个选项。</font><font style="vertical-align: inherit;">此选项卡显示服务名称，托管服务的计算机以及服务的当前状态。
</font></font></p>
<div class="figure">
<a name="windows-notifier-manage-services"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.15 MySQL通告程序：管理服务</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-manage-services.png" width="602" height="529" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要停止监视服务，请从受监视服务列表中选择它并单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后</font><font style="vertical-align: inherit;">单击</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以打开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加服务</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口。</font><font style="vertical-align: inherit;">要添加新服务，请从下拉列表中选择一台计算机，从列表中选择一项服务，然后单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以接受。</font><font style="vertical-align: inherit;">使用“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段来减少列表中的服务组，或选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅显示匹配自动添加过滤器的服务？</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菜单中</font><font style="vertical-align: inherit;">重新使用通用选项过滤器</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如下图所示，可以选择各种Windows服务（包括MySQL）。</font><font style="vertical-align: inherit;">除了服务名称之外，该列表还显示所选计算机的每种Windows服务的当前状态。
</font></font></p>
<div class="figure">
<a name="windows-notifier-add-services"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.16 MySQL通知程序：添加新服务</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-manage-services-add.png" width="504" height="578" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例选项卡。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当MySQL被配置为MySQL实例时，MySQL通告程序</font><font style="vertical-align: inherit;">自动</font><font style="vertical-align: inherit;">将</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加到</font><span class="guilabel"><font style="vertical-align: inherit;">Instances</font></span><font style="vertical-align: inherit;">选项卡。</font><font style="vertical-align: inherit;">在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡打开后，您可以选择适用于每个受监视实例的以下选项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态改变时通知我</font></font></span>
          </p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据服务状态更新MySQL Notifier托盘图标</font></font></span>
          </p></li><li class="listitem"><p>
            <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每隔</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [＃] [秒|分钟</font><span class="guilabel"><font style="vertical-align: inherit;">监视MySQL实例状态 </font></span><font style="vertical-align: inherit;">分钟| </font><font style="vertical-align: inherit;">小时| </font><font style="vertical-align: inherit;">天 ]
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下图显示了</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instances</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡打开并选择了两个选项。</font><font style="vertical-align: inherit;">在本例中，监视实例状态设置为每两分钟一次。</font><font style="vertical-align: inherit;">此选项卡显示实例名称，数据库驱动程序和实例的当前状态。
</font></font></p>
<div class="figure">
<a name="windows-notifier-manage-instances"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.17 MySQL通知程序：管理MySQL实例</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-manage-instances.png" width="602" height="529" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要停止监视实例，请从受监视的MySQL实例列表中选择它并单击
         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后</font><font style="vertical-align: inherit;">点击</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">监控MySQL服务器实例</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口。</font><font style="vertical-align: inherit;">使用
         </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filter</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段来减少列表中的实例集合，或者选择</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Show MySQL instances are already being monitored？</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅显示受监视的项目。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，您可以从MySQL Workbench中选择一个连接进行监控。</font><font style="vertical-align: inherit;">单击</font><font style="vertical-align: inherit;">下图中显示的</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加新连接</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以创建新连接。
</font></font></p>
<div class="figure">
<a name="windows-notifier-add-instances"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.18 MySQL通知程序：添加新实例</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-manage-instances-add.png" width="610" height="600" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break">
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="windows-notifier-troubleshooting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">故障排除</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于这里没有记录的问题，请访问
         </font></font><a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通告程序支持论坛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取MySQL通知程序的帮助和支持。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：尝试启动/停止/重新启动MySQL服务可能会产生类似于“服务
            </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            失败的最新状态更改请求，并显示消息”</font><font style="vertical-align: inherit;">
            在Windows服务中未找到</font><font style="vertical-align: inherit;">服务
            </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “的错误。
          </font></font></p><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这是区分大小写的问题，在该服务名
            </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的MySQL</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            相比于具有
            </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql的</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            的配置文件中
          </font></font></p><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决方案</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：或者使用正确的信息更新MySQL通告程序配置文件，或停止MySQL通告程序并删除此配置文件。</font><font style="vertical-align: inherit;">MySQL通知程序配置文件位于
            </font><font style="vertical-align: inherit;">变量的</font></font><code class="filename">%APPDATA%\Oracle\MySQL
            Notifier\settings.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪里
            </font></font><code class="literal">%APPDATA%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，取决于您的系统。</font><font style="vertical-align: inherit;">一个典型的位置是“C：\ Users \</font></font><em class="replaceable"><code>YourUsername</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">\ AppData \ Running \ Oracle \ MySQL Notifier \ settings.config”，</font></font><em class="replaceable"><code>YourUsername</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您系统的用户名</font><font style="vertical-align: inherit;">在哪里
            </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在此文件中以及ServerList部分中，将ServerName值从小写更改为实际服务名称。</font><font style="vertical-align: inherit;">例如，将</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改
            </font><font style="vertical-align: inherit;">
            为
            </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL</font></font><em class="replaceable"><code>VERSION</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，保存，然后重新启动MySQL通知程序。</font><font style="vertical-align: inherit;">或者，停止MySQL通知程序，删除此文件，然后重新启动MySQL通知程序。
          </font></font></p></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：连接到远程计算机以监视远程Windows服务时，“</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加服务”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框并不总是显示Windows服务控制台中显示的所有服务。
          </font></font></p><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：此行为受操作系统控制，并且在处理非域用户帐户时预期会产生结果。</font><font style="vertical-align: inherit;">有关该行为的完整说明，请参阅</font><font style="vertical-align: inherit;">Microsoft</font><font style="vertical-align: inherit;">的
            </font></font><a class="ulink" href="https://msdn.microsoft.com/en-us/library/aa826699(VS.85).aspx" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户控制和WMI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文章。
          </font></font></p><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决方案</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：当远程计算机位于兼容域中时，建议使用域用户帐户通过WMI连接到远程计算机。</font><font style="vertical-align: inherit;">有关使用WMI的详细设置说明，请参见
            </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-notifier-installation" title="2.3.4.2在MySQL通知程序中设置远程监控"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.4.2节“在MySQL通知程序中设置远程监控”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或者，当域用户帐户不可用时，Microsoft提供的安全性较低的解决方法只应谨慎实施。</font><font style="vertical-align: inherit;">有关详细信息，请参阅
             </font><font style="vertical-align: inherit;">Microsoft </font></font><a class="ulink" href="https://support.microsoft.com/en-us/kb/951016" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Vista中的用户帐户控制和远程限制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知识库文章。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-notifier-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.4.2在MySQL通知程序中设置远程监控</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL通知程序使用Windows Management Instrumentation（WMI）来管理和监视远程计算机上的服务。</font><font style="vertical-align: inherit;">本节介绍它是如何工作的以及如何设置您的系统来监视远程MySQL实例。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      为了配置WMI，了解底层分布式组件对象模型（DCOM）体系结构正在执行WMI工作很重要。</font><font style="vertical-align: inherit;">具体来说，MySQL通告程序在远程Microsoft Windows主机上使用异步通知查询作为.NET事件。</font><font style="vertical-align: inherit;">这些事件向运行MySQL Notifier的计算机发送异步回调，以便知道远程计算机上的服务状态何时发生变化。</font><font style="vertical-align: inherit;">与使用定时器的半同步通知或同步通知相比，异步通知提供了最佳性能。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如下图所示，异步通知要求远程计算机向客户端计算机发送回调（从而打开反向连接），因此必须正确配置Windows防火墙和DCOM设置以使通信正常工作。</font><font style="vertical-align: inherit;">包含不安全应用程序（</font></font><code class="filename">unsecapp.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此示例中）</font><font style="vertical-align: inherit;">的客户端（计算机A）</font><font style="vertical-align: inherit;">对远程计算机（计算机B）进行异步调用，并接收包含数据的回调。
</font></font></p>
<div class="figure">
<a name="windows-notifier-installation-wmi"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.19 MySQL通告程序分布式组件对象模型（DCOM）</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/windows-notifier-wmi-diagram.png" width="661" height="194" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      由异步WMI通知引发的大多数常见错误都与Windows防火墙阻止通信或未正确设置DCOM / WMI设置有关。</font><font style="vertical-align: inherit;">有关解决方案常见错误的列表，请参阅
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-notifier-installation-errors" title="常见错误"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见错误</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      WMI功能需要以下步骤。</font><font style="vertical-align: inherit;">这些步骤分为两台机器。</font><font style="vertical-align: inherit;">运行MySQL Notifier（计算机A）的单台主机以及正在监视的多台远程计算机（计算机B）。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="windows-notifier-remote-computer-a"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行MySQL通知程序（计算机A）的计算机</font></font></h5>
</div>
</div>
</div>

<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            通过编辑</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组策略编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用远程管理
             </font><font style="vertical-align: inherit;">，或使用
             </font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组策略编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，键入
                 </font></font><code class="filename">GPEDIT.MSC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地计算机策略</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                标题下，展开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机配置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依次</font><font style="vertical-align: inherit;">
                展开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理模板</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络连接</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows防火墙</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果该计算机在域中，则双击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域配置文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">否则，请双击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准配置文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                双击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows防火墙：允许入站远程管理例外</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以打开配置窗口。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                选中</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项按钮，然后单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从Microsoft Server 2008和Vista开始不推荐使用“netsh firewall”命令，并用“netsh advfirewall firewall”代替。
</font></font></p>
</div>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用管理权限打开命令提示符窗口（您可以右键单击命令提示符图标并选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以管理员身份运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                执行以下命令：
              </font></font></p><pre class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NETSH advfirewall防火墙设置服务RemoteAdmin启用
</font></font></pre></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            打开DCOM端口TCP 135：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用管理权限打开命令提示符窗口（您可以右键单击命令提示符图标并选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以管理员身份运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                执行以下命令：
              </font></font></p><pre class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NETSH advfirewall防火墙添加规则名称= DCOM_TCP135协议= TCP本地端口= 135 dir =在行动=允许
</font></font></pre></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将包含回调（</font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的接收器的客户端应用程序添加</font><font style="vertical-align: inherit;">到Windows防火墙例外列表（使用Windows防火墙配置或</font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用Windows防火墙配置：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在控制面板中，双击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows防火墙</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在Windows防火墙窗口的左侧面板中，单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过Windows防火墙允许程序或功能</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“允许的程序”窗口中，单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改设置，</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后执行以下操作之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    如果</font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在允许的程序和功能列表中，请确保检查计算机连接的网络类型（私有，公共或两者）。
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    如果</font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不在列表中，请单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许其他程序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="i"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                        在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加程序”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                        窗口中，选择
                         </font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它是否存在于程序列表中，否则请单击
                         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并转至</font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已安装</font><font style="vertical-align: inherit;">的目录
                         </font><font style="vertical-align: inherit;">以选择它，然后单击
                         </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                        确保</font></font><code class="filename">MySqlNotifier.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                        检查计算机连接的网络类型（私有，公共或两者）。
</font></font></p></li></ol>
</div>
</li></ul>
</div>
</li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用管理权限打开命令提示符窗口（您可以右键单击命令提示符图标，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以管理员身份运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                执行以下命令，在其中更改“ </font></font><em class="replaceable"><code>[YOUR_INSTALL_DIRECTORY]</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”：
              </font></font></p><pre class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NETSH advfirewall firewall add rule name = MySqlNotifier program = [YOUR_INSTALL_DIRECTORY] \ MySqlNotifier.exe action = allow dir = in
</font></font></pre></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果计算机B是</font></font><code class="literal">WORKGROUP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机A不受信任</font><font style="vertical-align: inherit;">的成员
             </font><font style="vertical-align: inherit;">或处于不受信任的域中，则将回调连接（连接2）创建为匿名连接。</font><font style="vertical-align: inherit;">授予匿名连接DCOM远程访问权限：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，键入
                 </font></font><code class="literal">DCOMCNFG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在组件服务对话框中展开组件服务，展开计算机，然后用鼠标右键单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的电脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在我的电脑属性对话框中，单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COM安全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在访问权限下，单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑限制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在访问权限对话框中，</font><font style="vertical-align: inherit;">在组或用户名称框中</font><font style="vertical-align: inherit;">选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名登录名称</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在“用户权限”下的“允许”列中，选择“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程访问”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
</li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="windows-notifier-remote-computer-b"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受监控的远程计算机（计算机B）</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果登录到运行MySQL通知程序（计算机A）的计算机的用户帐户是远程计算机（计算机B）上的本地管理员，并且同一帐户是计算机B上的管理员，则可以跳到“允许远程管理“步骤。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        设置DCOM安全性以允许非管理员用户远程访问计算机：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为用户或组授予“DCOM远程启动”和激活权限：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，键入
                 </font></font><code class="literal">DCOMCNFG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在组件服务对话框中展开组件服务，展开计算机，然后用鼠标右键单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的电脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在我的电脑属性对话框中，单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COM安全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在启动和激活权限下，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑限制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动和激活权限</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框中，如果您的名称或您的组未显示在组或用户名列表中，请按照下列步骤操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="i"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动和激活权限</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框中，单击
                     </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在“选择用户或组”对话框中，在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入要选择的对象名称”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框中添加您的名称和组</font><font style="vertical-align: inherit;">，然后单击“
                     </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动和激活权限</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框中，在组或用户名框中选择您的用户和组。</font><font style="vertical-align: inherit;">在用户权限下的允许列中，选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程启动</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程激活</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            授予DCOM远程访问权限：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，键入
                 </font></font><code class="literal">DCOMCNFG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在组件服务对话框中展开组件服务，展开计算机，然后用鼠标右键单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的电脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在我的电脑属性对话框中，单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COM安全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在访问权限下，单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑限制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在访问权限对话框中，</font><font style="vertical-align: inherit;">在组或用户名称框中</font><font style="vertical-align: inherit;">选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名登录名称</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在“用户权限”下的“允许”列中，选择“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程访问”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            允许非管理员用户访问特定的WMI名称空间：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“控制面板”中，双击“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理工具”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“管理工具”窗口中，双击“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机管理”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“计算机管理”窗口中，展开“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务和应用程序”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                用鼠标右键单击WMI控件图标并选择
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在WMI控制属性窗口中，单击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在安全选项卡中，选择命名空间并单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">根/ CIMV2是一个常用的命名空间。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                找到相应的帐户并</font><font style="vertical-align: inherit;">在“权限”列表中</font><font style="vertical-align: inherit;">选中“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程启用</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”。
</font></font></p></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            允许通过编辑</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组策略编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或使用
             </font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下命令</font><font style="vertical-align: inherit;">进行远程管理
             </font><font style="vertical-align: inherit;">：
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组策略编辑器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，键入
                 </font></font><code class="filename">GPEDIT.MSC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“本地计算机策略”标题下，双击“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机配置”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                双击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理模板</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后依次</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络连接</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows防火墙</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果该计算机在域中，则双击
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域配置文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">否则，请双击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准配置文件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                单击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows防火墙：允许入站远程管理例外</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“操作”菜单上选择“
                 </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者双击上一步中的选择。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                选中已</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单选按钮，然后单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><code class="literal">NETSH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用管理权限打开命令提示符窗口（您可以右键单击命令提示符图标，然后单击
                 </font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以管理员身份运行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                执行以下命令：
              </font></font></p><pre class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NETSH advfirewall防火墙设置服务RemoteAdmin启用
</font></font></pre></li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            确认您登录的用户帐户使用的是该</font></font><code class="literal">Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值而不是该</font></font><code class="literal">Full
            Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制面板”中</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，双击“
                 </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理工具”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理工具”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口中，双击“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机管理”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机管理”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口中，展开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统工具，</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后
                 </font><font style="vertical-align: inherit;">展开</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地用户和组</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                点击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节点，在右侧面板找到您的用户，并确保它使用</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值进行连接，而不是</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全名</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p></li></ol>
</div>
</li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="windows-notifier-installation-errors"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见错误</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">0x80070005</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                DCOM安全配置不正确（请参阅计算机B，</font></font><code class="literal">Setting DCOM security...</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                步骤）。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                远程计算机（计算机B）是WORKGROUP的成员，或位于不受客户端计算机（计算机A）信任的域中（请参阅计算机A的
                 </font></font><code class="literal">Grant Anonymous connections DCOM Remote Access
                permissions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤）。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">0x8007000E</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                远程计算机（计算机B）是WORKGROUP的成员，或位于不受客户端计算机（计算机A）信任的域中（请参阅计算机A的
                 </font></font><code class="literal">Grant Anonymous connections DCOM Remote Access
                permissions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤）。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">0x80041003</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对远程WMI名称空间的访问未正确配置（请参阅计算机B，</font></font><code class="literal">Allowing
                non-administrator users access to a specific WMI
                namespace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤）。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">0x800706BA</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                客户端计算机（计算机A）防火墙上的DCOM端口未打开。</font><font style="vertical-align: inherit;">请参阅</font></font><code class="literal">Open the DCOM
                port TCP 135</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算机A </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">步骤。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                远程计算机（计算机B）无法访问，因为它的网络位置设置为公共。</font><font style="vertical-align: inherit;">确保您可以通过Windows资源管理器访问它。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-install-archive"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-extract-archive"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.1提取安装档案</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-create-option-file"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.2创建一个选项文件</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-select-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.3选择一个MySQL服务器类型</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-initialize-data-directory"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.4初始化数据目录</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-server-first-start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.5首次启动服务器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-start-command-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.6从Windows命令行启动MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-installation-windows-path"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.7自定义MySQL工具的PATH</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-start-service"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.8将Windows作为Windows服务启动</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#windows-testing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.9测试MySQL安装</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      从</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      软件包</font><font style="vertical-align: inherit;">安装的用户</font><font style="vertical-align: inherit;">可以使用本节中的说明手动安装MySQL。</font><font style="vertical-align: inherit;">从ZIP档案包安装MySQL的过程如下：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将主档案解压缩到所需的安装目录
        </font></font></p><p>
          <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：如果您计划执行MySQL基准测试套件，也可以提取调试测试存档
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          创建一个选项文件
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选择一个MySQL服务器类型
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          初始化MySQL
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启动MySQL服务器
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          保护默认的用户帐户
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这个过程在下面的章节中描述。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-extract-archive"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.1提取安装档案</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要手动安装MySQL，请执行以下操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您要升级以前的版本，请</font><font style="vertical-align: inherit;">在开始升级过程之前</font><font style="vertical-align: inherit;">参考
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-upgrading" title="2.3.8在Windows上升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.8节“在Windows上升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            确保您以具有管理员权限的用户身份登录。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            选择一个安装位置。</font><font style="vertical-align: inherit;">传统上，MySQL服务器安装在</font></font><code class="filename">C:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您没有安装MySQL </font></font><code class="filename">C:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则必须在启动期间或在选项文件中指定安装目录的路径。</font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-create-option-file" title="2.3.5.2创建一个选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.2节“创建选项文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL安装程序将在下安装MySQL </font></font><code class="filename">C:\Program
              Files\MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用您首选的文件压缩工具将安装归档文件解压缩到选定的安装位置。</font><font style="vertical-align: inherit;">某些工具可能会将存档提取到您选择的安装位置的文件夹中。</font><font style="vertical-align: inherit;">如果发生这种情况，您可以将子文件夹的内容移动到选定的安装位置。
</font></font></p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-create-option-file"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.2创建一个选项文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您在运行服务器时需要指定启动选项，则可以在命令行上指明它们或将它们放在选项文件中。</font><font style="vertical-align: inherit;">对于每次服务器启动时使用的选项，您可能会发现使用选项文件指定您的MySQL配置最方便。</font><font style="vertical-align: inherit;">在以下情况下尤其如此：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            安装或数据目录位置与默认位置（</font></font><code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
            5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）不同。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您需要调整服务器设置，例如内存，缓存或InnoDB配置信息。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当MySQL服务器在Windows上启动时，它会在多个位置（例如Windows目录</font></font><code class="filename">C:\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和MySQL安装目录中</font><font style="vertical-align: inherit;">查找选项文件
         </font><font style="vertical-align: inherit;">（有关完整的位置列表，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#option-files" title="4.2.6使用选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.6节“使用选项文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">Windows目录通常被命名为类似</font></font><code class="filename">C:\WINDOWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以</font></font><code class="literal">WINDIR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下命令</font><font style="vertical-align: inherit;">从</font><font style="vertical-align: inherit;">环境变量</font><font style="vertical-align: inherit;">的值确定其确切位置
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL首先在</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">查找每个位置的选项
         </font><font style="vertical-align: inherit;">，然后在
         </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中查找。</font><font style="vertical-align: inherit;">但是，为避免混淆，最好只使用一个文件。</font><font style="vertical-align: inherit;">如果您的电脑使用的引导装载程序</font></font><code class="filename">C:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是引导驱动器，则唯一的选择是使用该</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">无论使用哪种选项文件，它都必须是纯文本文件。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当使用MySQL安装程序安装MySQL服务器时，它将</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在默认位置</font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">，并且执行MySQL安装程序的用户被授予对该新</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的</font><font style="vertical-align: inherit;">完全权限</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          换句话说，请确保MySQL服务器用户有权读取</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您还可以使用MySQL发行版中包含的示例选项文件; </font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-configuration-defaults" title="5.1.2服务器配置默认值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.2节“服务器配置默认值”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以使用任何文本编辑器（如记事本）创建和修改选项文件。</font><font style="vertical-align: inherit;">例如，如果安装了MySQL
         </font></font><code class="filename">E:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且数据目录处于
         </font></font><code class="filename">E:\mydata\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则可以创建包含一个</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">的选项文件，</font><font style="vertical-align: inherit;">以指定</font></font><code class="option">basedir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="option">datadir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将basedir设置为安装路径</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BASEDIR = E：/ MySQL的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将datadir设置为数据目录的位置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = E：/ MYDATA /数据</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Microsoft Windows路径名称在选项文件中使用（向前）斜杠而不是反斜杠指定。</font><font style="vertical-align: inherit;">如果你使用反斜杠，把它们加倍：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将basedir设置为安装路径</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BASEDIR = E：\\ MySQL的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将datadir设置为数据目录的位置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = E：\\ MYDATA \\数据</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选项文件值中使用反斜杠的规则在</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#option-files" title="4.2.6使用选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.6节“使用选项文件”中给出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从MySQL 5.7.6开始，ZIP存档不再包含
         </font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录。</font><font style="vertical-align: inherit;">通过创建数据目录和填充在MySQL系统数据库中的表初始化MySQL安装，初始化MySQL的使用任一</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您想在其他位置使用数据目录，则应该将</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">的全部内容复制
         </font><font style="vertical-align: inherit;">到新位置。</font><font style="vertical-align: inherit;">例如，如果您想将其</font></font><code class="filename">E:\mydata</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作数据目录，则必须执行两项操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将整个</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录及其所有内容从默认位置（例如
             </font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
            5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）移到
             </font></font><code class="filename">E:\mydata</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次启动服务器时</font><font style="vertical-align: inherit;">
            使用一个</font><font style="vertical-align: inherit;">选项来指定新的数据目录位置。
</font></font></p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-select-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.3选择一个MySQL服务器类型</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下表显示了MySQL 5.7中可用的Windows服务器。
</font></font></p>
<div class="informaltable">
<table summary="Servers available for Windows in MySQL 5.7."><colgroup><col width="20%"><col width="80%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命名管道支持优化二进制文件</font></font></td>
          </tr><tr>
            <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的调试</font></font></strong></span></a></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">像</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样</font><font style="vertical-align: inherit;">，但编译完全调试和自动内存分配检查</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有上述二进制文件均针对现代英特尔处理器进行了优化，但应适用于任何英特尔i386或更高级别的处理器。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        发行版中的每个服务器都支持相同的一组存储引擎。</font><font style="vertical-align: inherit;">该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-engines" title="13.7.5.16 SHOW ENGINES语法"><code class="literal">SHOW ENGINES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        语句显示给定服务器支持的引擎。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有Windows MySQL 5.7服务器都支持数据库目录的符号链接。
      </font></font></p><a class="indexterm" name="idm140528186472064"></a><a class="indexterm" name="idm140528186470992"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL支持所有Windows平台上的TCP / IP。</font><font style="vertical-align: inherit;">如果使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_enable-named-pipe"><code class="option">--enable-named-pipe</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动服务器，则Windows上的MySQL服务器也支持命名管道</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有必要明确使用此选项，因为有些用户在使用命名管道时遇到了关闭MySQL服务器的问题。</font><font style="vertical-align: inherit;">默认情况下使用TCP / IP而不管平台，因为在许多Windows配置中命名管道比TCP / IP慢。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-initialize-data-directory"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.4初始化数据目录</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用该</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        软件包</font><font style="vertical-align: inherit;">安装MySQL </font><font style="vertical-align: inherit;">，则可能需要初始化数据目录：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL 5.7.7之前的Windows发行版包含一个数据目录，其中包含</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">中的一组预初始化帐户
             </font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从5.7.7开始，使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包</font><font style="vertical-align: inherit;">执行的Windows安装操作</font><font style="vertical-align: inherit;">不包含数据目录。</font><font style="vertical-align: inherit;">要初始化数据目录，请使用
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-server-first-start"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.5首次启动服务器</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节给出了启动MySQL服务器的一般概述。</font><font style="vertical-align: inherit;">以下部分提供了有关从命令行启动MySQL服务器或作为Windows服务的更多特定信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里的信息主要适用于使用该</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font><font style="vertical-align: inherit;">安装MySQL </font><font style="vertical-align: inherit;">，或者如果您希望手动配置和测试MySQL，而不是使用GUI工具。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL服务器将在使用MySQL安装程序后自动启动，并且</font><font style="vertical-align: inherit;">可以随时使用</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通知程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动/停止/重新启动。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这些部分中的示例假定MySQL安装在默认位置</font></font><code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您将MySQL安装在其他位置，请调整示例中显示的路径名称。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        客户有两种选择。</font><font style="vertical-align: inherit;">他们可以使用TCP / IP，或者如果服务器支持命名管道连接，他们可以使用命名管道。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果服务器使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_shared-memory"><code class="option">--shared-memory</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动，则MySQL for Windows也支持共享内存连接
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">客户端可以使用该</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_protocol"><code class="option">--protocol=MEMORY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">通过共享内存进行连接
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关要运行哪个服务器二进制文件的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-select-server" title="2.3.5.3选择一个MySQL服务器类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.3节“选择MySQL服务器类型”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最好通过控制台窗口（或</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOS窗口</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中</font><font style="vertical-align: inherit;">的命令提示符进行测试</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通过这种方式，您可以让服务器在易于查看的窗口中显示状态消息。</font><font style="vertical-align: inherit;">如果您的配置出现问题，这些消息可以让您更轻松地识别和修复任何问题。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据库必须在MySQL启动之前初始化。</font><font style="vertical-align: inherit;">有关初始化过程的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要启动服务器，请输入以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --console</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于包含</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font><font style="vertical-align: inherit;">的服务器</font><font style="vertical-align: inherit;">，您应该在启动时看到类似于以下消息的消息（路径名称和大小可能不同）：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB：第一个指定的数据文件c：\ ibdata \ ibdata1不存在：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：一个新创建的数据库！</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：将文件c：\ ibdata \ ibdata1大小设置为209715200</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：数据库物理写入完整文件：等待...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：日志文件c：\ iblogs \ ib_logfile0不存在：要创建的新文件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：将日志文件c：\ iblogs \ ib_logfile0的大小设置为31457280</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：日志文件c：\ iblogs \ ib_logfile1不存在：要创建的新文件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：将日志文件c：\ iblogs \ ib_logfile1的大小设置为31457280</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：日志文件c：\ iblogs \ ib_logfile2不存在：要创建的新文件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：将日志文件c：\ iblogs \ ib_logfile2大小设置为31457280</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：找不到Doublewrite缓冲区：创建新的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：创建Doublewrite缓冲区</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：创建外键约束系统表</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InnoDB：创建外键约束系统表</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
011024 10:58:25 InnoDB：开始</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当服务器完成其启动序列时，您应该看到类似这样的内容，这表明服务器已准备好为客户端连接提供服务：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld：准备好连接</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
版本：'5.7.23'套接字：''端口：3306</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        服务器继续向控制台写入它产生的任何进一步的诊断输出。</font><font style="vertical-align: inherit;">您可以打开一个新的控制台窗口来运行客户端程序。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果省略该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_console"><code class="option">--console</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，则服务器将诊断输出写入数据目录中的错误日志（</font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
        5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下）。</font><font style="vertical-align: inherit;">错误日志是具有</font></font><code class="filename">.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名</font><font style="vertical-align: inherit;">的文件</font><font style="vertical-align: inherit;">，可以使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选项</font><font style="vertical-align: inherit;">进行设置</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL授权表中</font><font style="vertical-align: inherit;">
          的初始</font><font style="vertical-align: inherit;">帐户没有密码。</font><font style="vertical-align: inherit;">启动服务器后，您应使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“确保初始MySQL帐户的安全”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明为其设置密码
           </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-command-line"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.6从Windows命令行启动MySQL</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL服务器可以从命令行手动启动。</font><font style="vertical-align: inherit;">这可以在任何版本的Windows上完成。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Notifier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以用来启动/停止/重启MySQL服务器。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要</font><font style="vertical-align: inherit;">从命令行</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，您应该启动一个控制台窗口（或</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOS窗口</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）并输入以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld"</code></strong>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        的路径</font><font style="vertical-align: inherit;">可能会有所不同，具体取决于系统上MySQL的安装位置。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以通过执行以下命令来停止MySQL服务器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户有密码，则需要</font><font style="vertical-align: inherit;">
          使用该</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并在出现提示时提供密码。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该命令调用MySQL管理实用程序
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到服务器并告诉它关闭。</font><font style="vertical-align: inherit;">该命令以MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户</font><font style="vertical-align: inherit;">身份连接，该
         </font><font style="vertical-align: inherit;">用户是MySQL授权系统中的默认管理帐户。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL授权系统中的用户完全独立于Microsoft Windows下的任何登录用户。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有启动，请检查错误日志以查看服务器是否在那里写入任何消息来指示问题的原因。</font><font style="vertical-align: inherit;">默认情况下，错误日志位于</font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
        5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中。</font><font style="vertical-align: inherit;">它是具有后缀的文件</font></font><code class="filename">.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者可以通过传递</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选项</font><font style="vertical-align: inherit;">来指定</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">或者，您可以尝试使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_console"><code class="option">--console</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动服务器
         </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">在这种情况下，服务器可能会在屏幕上显示一些有助于解决问题的有用信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最后一个选项是</font><font style="vertical-align: inherit;">使用
         </font><font style="vertical-align: inherit;">和
         </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，
         </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">写入一个日志文件</font><font style="vertical-align: inherit;">，该</font><font style="vertical-align: inherit;">文件
         </font><font style="vertical-align: inherit;">应该包含</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">不启动</font><font style="vertical-align: inherit;">的原因</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;">第28.5.3节“DBUG包”</font></a><font style="vertical-align: inherit;">。
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_standalone"><code class="option">--standalone</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="filename">C:\mysqld.trace</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --verbose --help</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的</font><font style="vertical-align: inherit;">所有选项</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installation-windows-path"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.7自定义MySQL工具的PATH</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528186397584"></a><a class="indexterm" name="idm140528186396496"></a>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动</font><font style="vertical-align: inherit;">
          编辑系统时必须非常小心
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">意外删除或修改现有</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">的任何部分都
           </font><font style="vertical-align: inherit;">可能导致系统出现故障或甚至无法使用。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了更容易调用MySQL程序，可以将MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">的路径名添加</font><font style="vertical-align: inherit;">到Windows系统</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在Windows桌面上，右键单击</font></font><span class="guiicon"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的电脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图标，然后选择
             </font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            接下来</font><font style="vertical-align: inherit;">从出现的</font><span class="guimenu"><font style="vertical-align: inherit;">系统属性</font></span><font style="vertical-align: inherit;">菜单中</font><font style="vertical-align: inherit;">选择</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡</font><font style="vertical-align: inherit;">，然后单击</font><span class="guibutton"><font style="vertical-align: inherit;">环境变量</font></span><font style="vertical-align: inherit;"> 
            按钮。
          </font></font><span class="guimenu"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="guibutton"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量下</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，选择
             </font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
             </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮。</font><font style="vertical-align: inherit;">在</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑系统变量</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框应该会出现。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将光标放在出现在标记为“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量值”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的空白处的文本的末尾</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（使用
             </font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">End</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键确保你的光标位于这个空间文本的最后。）然后输入你的MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">的完整路径名
             </font><font style="vertical-align: inherit;">（例如
             </font></font><code class="literal">C:\Program Files\MySQL\MySQL Server
            5.7\bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              必须有一个分号将此路径与此字段中存在的任何值分隔开来。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            通过点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定，</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直到所有打开的对话都被解除</font><font style="vertical-align: inherit;">，然后依次解除对话和每个对话</font><font style="vertical-align: inherit;">。</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，您可以打开任何新的命令行程序，</font><font style="vertical-align: inherit;">使用新的
             </font><font style="vertical-align: inherit;">值，从而允许您在DOS提示符下从系统上的任何目录输入其名称，而无需提供路径，从而调用任何MySQL可执行程序。</font><font style="vertical-align: inherit;">这包括服务器，
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端以及所有MySQL命令行实用程序，如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在同一台计算机上运行多个MySQL服务器，</font><font style="vertical-align: inherit;">
        则不应将MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到Windows </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-service"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.8将Windows作为Windows服务启动</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows上，建议运行MySQL的方法是将其安装为Windows服务，以便在Windows启动和停止时MySQL自动启动和停止。</font><font style="vertical-align: inherit;">作为服务安装的MySQL服务器也可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令或图形化
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">从命令行进行控制
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常，要将MySQL安装为Windows服务，您应该使用具有管理员权限的帐户登录。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通告程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以用来监视MySQL服务的状态。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序（Windows的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务控制管理器</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）可以在Windows控制面板中（下找到</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理工具</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows Vista中，和Server 2003）。</font><font style="vertical-align: inherit;">为避免冲突，建议</font><font style="vertical-align: inherit;">在从命令行执行服务器安装或删除操作时</font><font style="vertical-align: inherit;">关闭“
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务”</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序。
</font></font></p>
<h5><a name="idm140528186359648"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装服务</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在将MySQL作为Windows服务安装之前，应先使用以下命令停止当前服务器（如果它正在运行）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户有密码，则需要</font><font style="vertical-align: inherit;">
          使用该</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并在出现提示时提供密码。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该命令调用MySQL管理实用程序
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接到服务器并告诉它关闭。</font><font style="vertical-align: inherit;">该命令以MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户</font><font style="vertical-align: inherit;">身份连接，该
         </font><font style="vertical-align: inherit;">用户是MySQL授权系统中的默认管理帐户。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL授权系统中的用户完全独立于Windows下的任何登录用户。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用此命令将服务器安装为服务：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --install</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        service-installation命令不会启动服务器。</font><font style="vertical-align: inherit;">有关说明将在本节稍后介绍。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了更容易调用MySQL程序，可以将MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">的路径名添加</font><font style="vertical-align: inherit;">到Windows系统</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在Windows桌面上，右键单击</font></font><span class="guiicon"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的电脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图标，然后选择
             </font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            接下来</font><font style="vertical-align: inherit;">从出现的</font><span class="guimenu"><font style="vertical-align: inherit;">系统属性</font></span><font style="vertical-align: inherit;">菜单中</font><font style="vertical-align: inherit;">选择</font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡</font><font style="vertical-align: inherit;">，然后单击</font><span class="guibutton"><font style="vertical-align: inherit;">环境变量</font></span><font style="vertical-align: inherit;"> 
            按钮。
          </font></font><span class="guimenu"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="guibutton"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量下</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，选择
             </font></font><span class="guimenuitem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后单击
             </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮。</font><font style="vertical-align: inherit;">在</font></font><span class="guimenu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑系统变量</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对话框应该会出现。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将光标放在出现在标记为“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量值”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的空白处的文本的末尾</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（使用
             </font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">End</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键确保你的光标位于这个空间文本的最后。）然后输入你的MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">的完整路径名
             </font><font style="vertical-align: inherit;">（例如，
             </font></font><code class="literal">C:\Program Files\MySQL\MySQL Server
            5.7\bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并且应该有一个分号将这条路径与该字段中存在的任何值。</font><font style="vertical-align: inherit;">通过单击</font><span class="guibutton"><font style="vertical-align: inherit;">确定</font></span><font style="vertical-align: inherit;">来消除此对话，然后依次点击每个对话</font></font><span class="guibutton"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直到所有开放的对话都被驳回。</font><font style="vertical-align: inherit;">您现在应该可以通过在DOS提示符处从系统上的任何目录输入其名称来调用任何MySQL可执行程序，而无需提供路径。</font><font style="vertical-align: inherit;">这包括服务器，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端以及所有MySQL命令行实用程序，如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            和</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在同一台计算机上运行多个MySQL服务器，</font><font style="vertical-align: inherit;">
            则不应将MySQL </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            目录</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到Windows </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动</font><font style="vertical-align: inherit;">
          编辑系统时必须非常小心
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">意外删除或修改现有</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">的任何部分都
           </font><font style="vertical-align: inherit;">可能导致系统出现故障或甚至无法使用。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装服务时可以使用以下附加参数：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您可以在</font></font><code class="option">--install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">后面立即指定一个服务名称
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认的服务名称是</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果给出了服务名称，则可以跟随一个选项。</font><font style="vertical-align: inherit;">按照惯例，这应该是
             </font><font style="vertical-align: inherit;">
            指定服务器在启动时应从中读取选项的选项文件的名称。
          </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            除了</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能的但不鼓励</font><font style="vertical-align: inherit;">使用单一选项
             </font><font style="vertical-align: inherit;">。
            </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更灵活，因为它使您可以通过将它们放入指定的选项文件来为服务器指定多个启动选项。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您也可以</font></font><code class="option">--local-service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在服务名称后面</font><font style="vertical-align: inherit;">指定一个</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">这会导致服务器使用</font></font><code class="literal">LocalService</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有有限系统特权</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">Windows帐户</font><font style="vertical-align: inherit;">运行</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果两个
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="option">--local-service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出以下服务名称，他们可以在任何顺序。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于作为Windows服务安装的MySQL服务器，以下规则确定服务器使用的服务名称和选项文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果service-installation命令</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="option">--install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">后面</font><font style="vertical-align: inherit;">没有指定服务名称或缺省服务名称（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">，则服务器使用服务名称</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并从</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准选项文件中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">组中</font><font style="vertical-align: inherit;">读取选项</font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果service-installation命令指定服务名称而不是</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循该
             </font></font><code class="option">--install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，则服务器将使用该服务名称。</font><font style="vertical-align: inherit;">它读取
             </font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组中的选项以及与标准选项文件中的服务具有相同名称的组。</font><font style="vertical-align: inherit;">这使您可以使用该</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组来选择所有MySQL服务应该使用的选项，以及一个具有服务名称的选项组，供安装了该服务名称的服务器使用。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果service-installation命令</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务名称后面</font><font style="vertical-align: inherit;">指定了一个
             </font><font style="vertical-align: inherit;">选项，服务器将按照前一项中所述的相同方式读取选项，只不过它仅从指定文件中读取选项并忽略标准选项文件。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        作为一个更复杂的例子，请考虑以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里，默认服务名称（</font></font><code class="literal">MySQL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）在</font></font><code class="option">--install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">后面给出</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果没有
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出选项，则该命令会导致服务器</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从标准选项文件</font><font style="vertical-align: inherit;">读取</font><font style="vertical-align: inherit;">组。</font><font style="vertical-align: inherit;">但是，由于该
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项存在，服务器将从</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项组中</font><font style="vertical-align: inherit;">读取选项</font><font style="vertical-align: inherit;">，并仅从指定的文件中</font><font style="vertical-align: inherit;">读取选项
         </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Windows上，如果服务器使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_install"><code class="option">--install</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
           </font><font style="vertical-align: inherit;">启动，则
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_install"><code class="option">--install</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须先启动。</font><font style="vertical-align: inherit;">否则，</font></font><code class="literal">mysqld.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将尝试启动MySQL服务器。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在启动MySQL服务之前，您</font><font style="vertical-align: inherit;">
        还可以在Windows </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">中将选项指定为启动参数
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最后，在尝试启动MySQL服务之前，请确保</font><font style="vertical-align: inherit;">要运行该服务的系统用户</font><font style="vertical-align: inherit;">的用户变量</font></font><code class="literal">%TEMP%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">%TMP%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以及</font></font><code class="literal">%TMPDIR%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果曾经设置过）指向用户具有写入权限的文件夹。</font><font style="vertical-align: inherit;">运行MySQL服务的默认用户
         </font></font><code class="literal">LocalSystem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并为它的默认值
         </font></font><code class="literal">%TEMP%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">%TMP%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
         </font></font><code class="filename">C:\Windows\Temp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，一个目录
         </font></font><code class="literal">LocalSystem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有写入默认访问。</font><font style="vertical-align: inherit;">但是，如果该默认设置有任何更改（例如，对运行服务的用户或所提到的用户变量的更改，或者
        </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_tmpdir"><code class="option">--tmpdir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选项已被用于将临时目录放在其他地方），MySQL服务可能无法运行，因为对临时目录的写入权限尚未授予适当的用户。
</font></font></p>
<h5><a name="idm140528186277728"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始服务</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在将MySQL服务器实例安装为服务后，Windows会在Windows启动时自动启动该服务。</font><font style="vertical-align: inherit;">该服务也可以立即从</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Services</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">启动
         </font><font style="vertical-align: inherit;">，或者使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET START MySQL</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><span class="command"><strong><font style="vertical-align: inherit;">启动</font></strong></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        命令是不区分大小写。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        作为服务运行时，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法访问控制台窗口，因此在那里没有消息可见。</font><font style="vertical-align: inherit;">如果
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有启动，请检查错误日志以查看服务器是否在此处写入任何消息以指示问题的原因。</font><font style="vertical-align: inherit;">错误日志位于MySQL数据目录中（例如，</font></font><code class="filename">C:\Program Files\MySQL\MySQL
        Server 5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">它是带有后缀的文件</font></font><code class="filename">.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当MySQL服务器作为服务安装并且服务正在运行时，Windows在Windows关闭时自动停止该服务。</font><font style="vertical-align: inherit;">也可以使用</font></font><code class="literal">Services</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET STOP MySQL</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin shutdown</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">手动停止服务器</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您不希望在启动过程中自动启动该服务，则还可以选择将服务器安装为手动服务。</font><font style="vertical-align: inherit;">要做到这一点，请使用
         </font></font><code class="option">--install-manual</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项而不是
         </font></font><code class="option">--install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --install-manual</code></strong>
</pre>
<h5><a name="idm140528186263024"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除服务</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要删除作为服务安装的服务器，请先通过执行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET STOP MySQL</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font><span class="command"><strong><font style="vertical-align: inherit;">停止服务器</font></strong></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_remove"><code class="option">--remove</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项将其删除：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --remove</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未作为服务运行，则可以从命令行启动它。</font><font style="vertical-align: inherit;">有关说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-command-line" title="2.3.5.6从Windows命令行启动MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.6节“从Windows命令行启动MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果在安装过程中遇到困难，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-troubleshooting" title="2.3.6对Microsoft Windows MySQL服务器安装进行故障排除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.6节“Microsoft Windows MySQL服务器安装疑难解答”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关停止或删除MySQL Windows服务的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#multiple-windows-services" title="5.6.2.2以Windows服务启动多个MySQL实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.6.2.2节“以Windows服务启动多个MySQL实例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-testing"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.5.9测试MySQL安装</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528186251856"></a><a class="indexterm" name="idm140528186250816"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以通过执行以下任何命令来测试MySQL服务器是否正在工作：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqlshow"</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqlshow" -u root mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin" version status proc</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysql" test</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应来自客户端程序的TCP / IP连接速度很慢，那么您的DNS可能存在问题。</font><font style="vertical-align: inherit;">在这种情况下，</font><font style="vertical-align: inherit;">
        使用该</font><font style="vertical-align: inherit;">
        选项</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并仅使用</font><font style="vertical-align: inherit;">MySQL授权表</font></font><code class="literal">localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><code class="literal">Host</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中的</font><font style="vertical-align: inherit;">IP地址</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（请确保存在指定IP地址的帐户，否则您可能无法连接。）
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通过指定</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_pipe"><code class="option">--pipe</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_protocol"><code class="option">--protocol=PIPE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项或指定</font></font><code class="literal">.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（句点）作为主机名</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">可以强制MySQL客户端使用命名管道连接而不是TCP / IP
         </font><font style="vertical-align: inherit;">。</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_socket"><code class="option">--socket</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不想使用默认管道名称，</font><font style="vertical-align: inherit;">请使用该</font><font style="vertical-align: inherit;">选项指定管道的名称。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您为</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        帐户</font><font style="vertical-align: inherit;">设置了密码</font><font style="vertical-align: inherit;">，删除了匿名帐户或创建了新的用户帐户，那么要连接到MySQL服务器，您必须使用</font><font style="vertical-align: inherit;">前面所示命令</font><font style="vertical-align: inherit;">的相应</font><font style="vertical-align: inherit;">选项</font></font><code class="option">-u</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#connecting" title="4.2.2连接到MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.2节“连接到MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.8节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 显示数据库，表和列信息”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-troubleshooting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.6对Microsoft Windows MySQL服务器安装进行故障排除</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      首次安装和运行MySQL时，您可能会遇到某些错误，导致MySQL服务器无法启动。</font><font style="vertical-align: inherit;">本部分可帮助您诊断和纠正其中的一些错误。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      解决服务器问题时，您的第一个资源是
       </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_error_log" title="错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误日志</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">MySQL服务器使用错误日志记录与防止服务器启动的错误相关的信息。</font><font style="vertical-align: inherit;">错误日志位于</font><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">
      指定</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_data_directory" title="数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认的数据目录位置是</font></font><code class="filename">C:\Program Files\MySQL\MySQL
      Server 5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者
       </font></font><code class="filename">C:\ProgramData\Mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows 7和Windows Server 2008上。</font></font><code class="filename">C:\ProgramData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">目录是隐藏的。</font><font style="vertical-align: inherit;">您需要更改文件夹选项以查看目录和内容。</font><font style="vertical-align: inherit;">有关错误日志和理解内容的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.4.2节“错误日志”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关可能的错误的信息，请参阅MySQL服务启动时显示的控制台消息。</font><font style="vertical-align: inherit;">将</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">作为服务</font><font style="vertical-align: inherit;">安装后，使用命令行中</font><font style="vertical-align: inherit;">的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET START MySQL</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">查看有关启动MySQL服务器作为服务的任何错误消息。</font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;">第2.3.5.8节“将MySQL作为Windows服务启动”</font></a><font style="vertical-align: inherit;">。
    </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下示例显示了在安装MySQL并首次启动服务器时可能遇到的其他常见错误消息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果MySQL服务器找不到</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          权限数据库或其他重要文件，则会显示以下消息：
        </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生系统错误1067。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
致命错误：无法打开和锁定权限表：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表'mysql.user'不存在</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当MySQL基本目录或数据目录安装在不同于默认位置（</font></font><code class="filename">C:\Program Files\MySQL\MySQL
          Server 5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="filename">C:\Program
          Files\MySQL\MySQL Server 5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别）的</font><font style="vertical-align: inherit;">位置时，通常会出现这些消息</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当MySQL升级并安装到新位置时，会出现这种情况，但配置文件未更新以反映新位置。</font><font style="vertical-align: inherit;">另外，新旧配置文件可能会发生冲突。</font><font style="vertical-align: inherit;">确保在升级MySQL时删除或重命名任何旧的配置文件。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您已将MySQL安装到除以外的目录
           </font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
          5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请确保MySQL服务器通过使用配置（</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件</font><font style="vertical-align: inherit;">来了解这一点</font><font style="vertical-align: inherit;">。</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">放入
           </font><font style="vertical-align: inherit;">Windows目录中</font></font><code class="filename">C:\WINDOWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要根据</font></font><code class="literal">WINDIR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          环境变量</font><font style="vertical-align: inherit;">的值确定其确切位置，请</font><font style="vertical-align: inherit;">从命令提示符处发出以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用任何文本编辑器（如记事本）创建或修改选项文件。</font><font style="vertical-align: inherit;">例如，如果MySQL安装在
           </font></font><code class="filename">E:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录中
           </font></font><code class="filename">D:\MySQLdata</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则可以创建选项文件并设置一个</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分来指定</font></font><code class="option">basedir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="option">datadir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将basedir设置为安装路径</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BASEDIR = E：/ MySQL的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将datadir设置为数据目录的位置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = d：/ MySQLdata</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Microsoft Windows路径名称在选项文件中使用（向前）斜杠而不是反斜杠指定。</font><font style="vertical-align: inherit;">如果你使用反斜杠，把它们加倍：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将basedir设置为安装路径</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
basedir = C：\\ Program Files \\ MySQL \\ MySQL Server 5.7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃将datadir设置为数据目录的位置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = d：\\ MySQLdata</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选项文件值中使用反斜杠的规则在</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#option-files" title="4.2.6使用选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.6节“使用选项文件”中给出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果更改</font></font><code class="option">datadir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL配置文件中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">值，则必须在重新启动MySQL服务器之前移动现有MySQL数据目录的内容。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-create-option-file" title="2.3.5.2创建一个选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.2节“创建选项文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您在没有首先停止并删除现有MySQL服务并使用MySQL安装程序安装MySQL的情况下重新安装或升级MySQL，则可能会看到以下错误：
        </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误：无法为MySql创建Windows服务。</font><font style="vertical-align: inherit;">错误：0
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当配置向导尝试安装服务并找到具有相同名称的现有服务时，会发生这种情况。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          解决此问题的一个办法是选择服务名称，而不是</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用配置向导。</font><font style="vertical-align: inherit;">这使得新服务能够正确安装，但是保留了过时的服务。</font><font style="vertical-align: inherit;">虽然这是无害的，但最好删除不再使用的旧服务。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要永久删除旧</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务，请在命令行上以具有管理权限的用户身份执行以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>sc delete mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[SC] DeleteService SUCCESS</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果该</font></font><code class="literal">sc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序不适用于您的Windows版本，请</font></font><code class="literal">delsrv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从</font></font><a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载该</font><font style="vertical-align: inherit;">实用程序
           </font><font style="vertical-align: inherit;">
          并使用该</font></font><code class="literal">delsrv mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-postinstallation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.7 Windows安装后程序</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      存在执行本节所述的大部分任务的GUI工具，其中包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于安装和升级MySQL产品。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/workbench.html" title="第30章MySQL Workbench"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Workbench</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：管理MySQL服务器并编辑SQL语句。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#windows-notifier" title="2.3.4 MySQL通知程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL通知程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启动，停止或重新启动MySQL服务器，并监视其状态。
        </font></font></p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL for Excel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用Microsoft Excel编辑MySQL数据。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如有必要，初始化数据目录并创建MySQL授权表。</font><font style="vertical-align: inherit;">MySQL 5.7.7之前的Windows发行版包含一个数据目录，其中包含</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">中的一组预初始化帐户
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">从5.7.7开始，由MySQL安装程序执行的Windows安装操作将自动初始化数据目录。</font><font style="vertical-align: inherit;">对于从ZIP Archive软件包进行安装，您可以按照
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”中所述初始化数据目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      关于密码，如果您使用MySQL安装程序安装MySQL，则可能已经为初始</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">分配了密码
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）否则，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“确保初始MySQL帐户的安全”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出的密码分配过程
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在分配密码之前，您可能需要尝试运行一些客户端程序，以确保您可以连接到服务器并确保其正常运行。</font><font style="vertical-align: inherit;">确保服务器正在运行（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-server-first-start" title="2.3.5.5首次启动服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.5节“首次启动服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">您还可以设置在Windows启动时自动运行的MySQL服务（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.8节“将MySQL作为Windows服务启动”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这些说明假设您的当前位置是MySQL安装目录，并且它有一个</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      包含此处使用的MySQL程序</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">子目录。</font><font style="vertical-align: inherit;">如果不是这样，请相应地调整命令路径名称。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您使用MySQL安装程序安装MySQL（请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），则默认安装目录为</font></font><code class="filename">C:\Program Files\MySQL\MySQL Server
      5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>cd "C:\Program Files\MySQL\MySQL Server 5.7"</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      从ZIP归档安装的常见安装位置是</font></font><code class="filename">C:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>cd C:\mysql</code></strong>
</pre><a class="indexterm" name="idm140528186161056"></a><a class="indexterm" name="idm140528186159968"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，将该</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到您的
       </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量设置。</font><font style="vertical-align: inherit;">这使您的命令解释程序能够正确地查找MySQL程序，以便您可以通过仅输入其名称而不是其路径名来运行程序。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installation-windows-path" title="2.3.5.7自定义MySQL工具的PATH"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.7节“自定义MySQL工具的PATH”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在服务器运行时，发出以下命令来验证您是否可以从服务器检索信息。</font><font style="vertical-align: inherit;">输出应该与此处显示的类似。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看存在哪些数据库：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin\mysqlshow</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据库|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysql |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      安装数据库列表可能会有所不同，但总会有最基本的</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">information_schema</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在MySQL 5.7.7之前，
       </font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库也可以自动创建。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果正确的MySQL帐户不存在</font><font style="vertical-align: inherit;">
      ，则上述命令（以及其他MySQL程序（如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">）可能无法正常工作。</font><font style="vertical-align: inherit;">例如，程序可能会因错误而失败，或者您可能无法查看所有数据库。</font><font style="vertical-align: inherit;">如果您使用MySQL安装程序安装MySQL，则</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户将使用您提供的密码自动创建。</font><font style="vertical-align: inherit;">在这种情况下，你应该使用</font></font><code class="option">-u root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">（如果您已经保护了初始MySQL帐户</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则</font><font style="vertical-align: inherit;">必须使用这些选项。）使用时
       </font><font style="vertical-align: inherit;">，客户端程序会提示输入
       </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin\mysqlshow -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据库|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysql |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果指定数据库名称，则</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow将</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      显示</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">中的表的列表：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin\mysqlshow mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库：mysql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">表格|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">columns_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">db |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">engine_cost |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">func |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">general_log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gtid_executed |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_category |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_keyword |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_relation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_topic |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">innodb_index_stats |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">innodb_table_stats |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ndb_binlog_index |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">插件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">proc |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">procs_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">proxies_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">server_cost |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">服务器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_master_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_relay_log_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_worker_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slow_log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">tables_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_leap_second |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_name |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_transition |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_transition_type |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">用户|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序从</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的表中选择信息</font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin\mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">用户| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">插件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">mysql_native_password |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.1节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL命令行工具”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.8节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 显示数据库，表和列信息”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-upgrading"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.8在Windows上升级MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528186126256"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上升级MySQL有两种方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用MySQL安装程序
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用Windows ZIP归档分发
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您选择的方法取决于现有安装的执行方式。</font><font style="vertical-align: inherit;">在继续之前，请查看
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading" title="2.11.1升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1节“升级MySQL”，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取有关升级不特定于Windows的MySQL的更多信息。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      不支持里程碑版本之间的升级（或从里程碑版本到GA版本）之间的升级。</font><font style="vertical-align: inherit;">里程碑版本发生重大变化，您可能会遇到启动服务器的兼容性问题或问题。</font><font style="vertical-align: inherit;">有关如何使用里程碑版本执行逻辑升级的说明，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="windows-upgrading-installer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL安装程序升级MySQL</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用MySQL安装程序执行升级是使用它执行当前服务器安装并且升级在当前版本系列中的最佳方法。</font><font style="vertical-align: inherit;">MySQL安装程序不支持发行系列之间的升级，例如从5.6到5.7，并且不提供升级指示符来提示您升级。</font><font style="vertical-align: inherit;">有关在发行系列之间进行升级的说明，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-upgrading-zip-distribution" title="使用Windows ZIP分发升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Windows ZIP分发</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版
         </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-upgrading-zip-distribution" title="使用Windows ZIP分发升级MySQL"><font style="vertical-align: inherit;">升级MySQL</font></a><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用MySQL安装程序执行升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启动MySQL安装程序。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在仪表板中，单击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下载对</font><span class="guilabel"><font style="vertical-align: inherit;">目录</font></span><font style="vertical-align: inherit;">的最新更改。</font><font style="vertical-align: inherit;">只有当仪表板在服务器的版本号旁边显示箭头时，才能升级安装的服务器。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            点击</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">所有具有较新版本的产品都将显示在列表中。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于同一版本系列中的服务器里程碑版本，MySQL安装程序会取消选择服务器升级并显示警告，指出不支持升级，识别继续存在的风险，并提供手动执行逻辑升级步骤的摘要。</font><font style="vertical-align: inherit;">您可以重新选择服务器升级并自行承担风险。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            除非您打算此时升级其他产品，否则取消选择除MySQL服务器以外的所有产品，然后单击
             </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始下载。</font><font style="vertical-align: inherit;">下载完成后，单击
             </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以应用更新。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            配置服务器。
</font></font></p></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="windows-upgrading-zip-distribution"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Windows ZIP分发升级MySQL</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用Windows ZIP归档分发执行升级，请执行以下操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在执行升级之前，始终备份当前的MySQL安装。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/backup-and-recovery.html#backup-methods" title="7.2数据库备份方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第7.2节“数据库备份方法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载最新的Windows ZIP Archive of MySQL发行版</font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在升级MySQL之前，停止服务器。</font><font style="vertical-align: inherit;">如果服务器作为服务安装，请使用命令提示符中的以下命令停止该服务：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>NET STOP MySQL</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您没有将MySQL服务器作为服务运行，请使用
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来停止它。</font><font style="vertical-align: inherit;">例如，在从MySQL 5.6升级到5.7之前，使用</font><font style="vertical-align: inherit;">MySQL 5.6中的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下所示：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果MySQL </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户帐户有密码，请</font><font style="vertical-align: inherit;">使用该
               </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并在出现提示时输入密码。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            解压ZIP文件。</font><font style="vertical-align: inherit;">您可以覆盖现有的MySQL安装（通常位于
             </font></font><code class="filename">C:\mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），或者将其安装到不同的目录中，例如</font></font><code class="literal">C:\mysql5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">建议覆盖现有的安装。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您将MySQL作为Windows服务运行，并且必须在此过程中提前删除该服务，请重新安装该服务。</font><font style="vertical-align: inherit;">（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.8节“将MySQL作为Windows服务启动”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            重新启动服务器。</font><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">如果将MySQL作为服务运行</font><font style="vertical-align: inherit;">，则使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET START MySQL</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">否则直接</font><font style="vertical-align: inherit;">调用
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以管理员</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;">mysql_upgrade</font></strong></span></a><font style="vertical-align: inherit;">检查您的表，如果需要尝试修复它们，并在修改授权表时更新授权表，以便您可以利用任何新功能。</font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.4.7节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 检查并升级MySQL表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果遇到错误，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-troubleshooting" title="2.3.6对Microsoft Windows MySQL服务器安装进行故障排除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.6节“Microsoft Windows MySQL服务器安装疑难解答”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>

</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="deploy-mysql-nonlinux-docker"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3.9在Windows和其他非Linux平台上部署MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528186075536"></a>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Oracle提供的MySQL Docker镜像专门为Linux平台而构建。</font><font style="vertical-align: inherit;">其他平台不受支持，并且运行Oracle上的MySQL Docker镜像的用户自行承担风险。</font><font style="vertical-align: inherit;">本节讨论在非Linux平台上使用的图像的一些已知问题。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上使用来自Oracle的MySQL服务器Docker镜像的已知问题包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您绑定在容器的MySQL数据目录中（请参阅
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解详细信息），您必须将服务器套接字文件的位置设置</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_socket"><code class="option">--socket</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为MySQL数据目录之外的某个</font><font style="vertical-align: inherit;">位置</font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">否则，服务器将无法启动。</font><font style="vertical-align: inherit;">这是因为Docker for Windows处理文件挂载的方式不允许将主机文件绑定到套接字文件上。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="osx-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4在macOS上安装MySQL</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-notes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.1在macOS上安装MySQL的一般注意事项</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-pkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2使用本地包在macOS上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3安装MySQL启动守护进程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.4安装和使用MySQL首选面板</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528186067472"></a><a class="indexterm" name="idm140528186066016"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有关MySQL服务器支持的macOS版本列表，请参阅
     </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL for macOS有多种不同的形式：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本地包安装程序，它使用本机macOS安装程序（DMG）来引导您完成MySQL的安装。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-pkg" title="2.4.2使用本地包在macOS上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.2节“使用本地程序包在macOS上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以在macOS中使用软件包安装程序。</font><font style="vertical-align: inherit;">您用来执行安装的用户必须具有管理员权限。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        压缩的TAR归档文件，它使用使用Unix </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gzip</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        命令</font><font style="vertical-align: inherit;">打包的文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要使用此方法，您需要打开一个
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终端</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口。</font><font style="vertical-align: inherit;">您不需要使用此方法的管理员权限，因为您可以使用此方法在任何地方安装MySQL服务器。</font><font style="vertical-align: inherit;">有关使用此方法的更多信息，可以使用通用说明来使用tarball，
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        除了核心安装之外，软件包安装程序还包括</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd" title="2.4.3安装MySQL启动守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.3节“安装MySQL启动守护程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane" title="2.4.4安装和使用MySQL首选面板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.4节“安装和使用MySQL首选项窗格”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们都简化了安装的管理。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有关在macOS上使用MySQL的更多信息，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-notes" title="2.4.1在macOS上安装MySQL的一般注意事项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.1节“关于在macOS上安装MySQL的常规注意事项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-notes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.1在macOS上安装MySQL的一般注意事项</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      记住以下问题和注意事项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          launchd守护程序已安装，它包含MySQL配置选项。</font><font style="vertical-align: inherit;">如果需要，请考虑编辑它，请参阅下面的文档以获取更多信息。</font><font style="vertical-align: inherit;">此外，macOS 10.10删除了启动项支持，以支持launchd守护进程。</font><font style="vertical-align: inherit;">macOS </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统偏好设置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下的可选MySQL偏好设置窗格
           </font><font style="vertical-align: inherit;">使用launchd守护进程。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可能需要（或想要）创建一个特定的
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户来拥有MySQL目录和数据。</font><font style="vertical-align: inherit;">您可以通过</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录实用程序</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成此操作</font><font style="vertical-align: inherit;">，并且该</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户应该已经存在。</font><font style="vertical-align: inherit;">为了在单用户模式下使用，</font></font><code class="literal">_mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统</font></font><code class="filename">/etc/passwd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">应该已经存在</font><font style="vertical-align: inherit;">一个条目</font><font style="vertical-align: inherit;">（注意下划线前缀）
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          由于MySQL软件包安装程序将MySQL内容安装到版本和特定于平台的目录中，因此可以使用它在各个版本之间升级和迁移数据库。</font><font style="vertical-align: inherit;">您需要将</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录从旧版本</font><font style="vertical-align: inherit;">复制
           </font><font style="vertical-align: inherit;">到新版本，或者指定备用
           </font></font><code class="option">datadir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值来设置数据目录的位置。</font><font style="vertical-align: inherit;">默认情况下，MySQL目录安装在</font></font><code class="filename">/usr/local/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可能希望将别名添加到shell的资源文件中，以便</font><font style="vertical-align: inherit;">
          从命令行</font><font style="vertical-align: inherit;">访问常用程序（如
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin）</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语法</font><font style="vertical-align: inherit;">
          是：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名mysql = / usr / local / mysql / bin / mysql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
别名mysqladmin = / usr / local / mysql / bin / mysqladmin</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcsh</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别名mysql / usr / local / mysql / bin / mysql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
别名为mysqladmin / usr / local / mysql / bin / mysqladmin</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          更好的是，添加</font></font><code class="literal">/usr/local/mysql/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到你的</font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量。</font><font style="vertical-align: inherit;">您可以通过修改适用于您的shell的适当启动文件来完成此操作。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#invoking-programs" title="4.2.1调用MySQL程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.1节“调用MySQL程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在复制上一次安装的MySQL数据库文件并成功启动新服务器之后，应考虑删除旧的安装文件以节省磁盘空间。</font><font style="vertical-align: inherit;">另外，您还应该删除旧版本的Package Receipt目录
           </font><font style="vertical-align: inherit;">。
        </font></font><code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在OS X 10.7之前，MySQL服务器与OS X Server捆绑在一起。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-pkg"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.2使用本地包在macOS上安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该软件包位于磁盘映像（</font></font><code class="literal">.dmg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件内，您首先需要通过双击Finder中的图标进行挂载。</font><font style="vertical-align: inherit;">然后它应该安装图像并显示其内容。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在继续安装之前，请确保通过</font><font style="vertical-align: inherit;">在命令行上</font><font style="vertical-align: inherit;">使用MySQL管理器应用程序（在macOS服务器上），首选项窗格或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin shutdown</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止所有正在运行的MySQL服务器实例
         </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用软件包安装程序安装MySQL：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下载</font><font style="vertical-align: inherit;">包含MySQL软件包安装程序</font><font style="vertical-align: inherit;">的磁盘映像（</font></font><code class="filename">.dmg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件（社区版本可
           </font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">双击该文件以安装磁盘映像并查看其内容。
</font></font></p>
<div class="figure">
<a name="mac-installer-dmg-contents"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.20 MySQL包安装程序：DMG内容</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-dmg-contents.png" width="428" height="382" alt="已安装的macOS磁盘映像内容包含MySQL服务器软件包文件。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从磁盘中双击MySQL安装程序包。</font><font style="vertical-align: inherit;">它是根据您下载的MySQL版本命名的。</font><font style="vertical-align: inherit;">例如，对于MySQL服务器5.7.23，它可能被命名
           </font><font style="vertical-align: inherit;">。
        </font></font><code class="filename">mysql-5.7.23-osx-<em class="replaceable"><code>10.13-x86_64</code></em>.pkg</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          初始向导介绍屏幕引用要安装的MySQL服务器版本。</font><font style="vertical-align: inherit;">点击
           </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始安装。
</font></font></p>
<div class="figure">
<a name="mac-installer-dmg-introduction"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.21 MySQL包安装向导：简介</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-dmg-introduction.png" width="732" height="550" alt="显示安装已准备就绪，正在安装MySQL服务器版本，并且包含指向MySQL手册，mysql.com和oracle.com的链接。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL社区版本显示相关GNU通用公共许可证的副本。</font><font style="vertical-align: inherit;">点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          ，然后</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同意</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继续。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装类型</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面，您可以单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以使用所有默认值执行安装向导，单击
           </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以更改要安装的组件（MySQL服务器，首选项窗格，启动支持 - 全部默认启用）。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            虽然“ </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改安装位置”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            选项是可见的，但安装位置无法更改。
</font></font></p>
</div>

<div class="figure">
<a name="mac-installer-installation-type-main"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.22 MySQL包安装向导：安装类型</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-installation-type.png" width="732" height="550" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-installation-customize-main"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.23 MySQL包安装程序向导：自定义</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-installation-customize.png" width="732" height="550" alt="Customize显示三个包名称选项：MySQL服务器，首选面板和启动支持。 所有三个选项都被检查。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始安装过程。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          安装成功后，安装程序将显示一个包含临时根密码的窗口。</font><font style="vertical-align: inherit;">这不能恢复，所以你必须保存这个密码，以便初次登录到MySQL。</font><font style="vertical-align: inherit;">例如：
</font></font></p>
<div class="figure">
<a name="mac-installer-installation-root-password"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.24 MySQL包安装程序向导：临时根密码</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-root-password.png" width="600" height="316" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL在初始登录后会过期这个临时根密码，并要求您创建一个新密码。
</font></font></p>
</div>
</li><li class="listitem"><p>
          <span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是最后一步，并引用一个成功和完整的MySQL服务器安装。
          </font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向导。
</font></font></p>
<div class="figure">
<a name="mac-installer-installation-summary"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.25 MySQL包安装程序向导：摘要</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-summary.png" width="732" height="550" alt="显示安装成功，并包含指向MySQL手册，mysql.com和oracle.com的链接。">
</div>

</div>

</div>
<br class="figure-break"></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL服务器现在已安装，但默认情况下它不会被加载（或启动）。</font><font style="vertical-align: inherit;">从命令行使用launchctl，或者使用MySQL首选项窗格单击“开始”来启动MySQL。</font><font style="vertical-align: inherit;">有关更多信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd" title="2.4.3安装MySQL启动守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.3节“安装MySQL启动守护程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane" title="2.4.4安装和使用MySQL首选面板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.4节“安装和使用MySQL首选项窗格”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用MySQL首选面板或launchd来配置MySQL以在启动时自动启动。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用软件包安装程序进行安装时，文件将安装到</font></font><code class="filename">/usr/local</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      与安装版本和平台的名称匹配的</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，安装程序文件
       </font><font style="vertical-align: inherit;">
      安装MySQL
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">下表显示了安装目录的布局。
</font></font><code class="filename">mysql-5.7.23-<em class="replaceable"><code>osx10.13-x86_64.dmg</code></em></code><font style="vertical-align: inherit;"></font><code class="filename">/usr/local/mysql-5.7.23-osx10.13-x86_64/
      </code><font style="vertical-align: inherit;"></font></p>
<div class="table">
<a name="mysql-installation-layout-osx"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.6 macOS上的MySQL安装布局</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="45%"><col width="55%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录的内容</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="filename">bin</code></td>
          <td><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，客户端和实用程序</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">data</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志文件，数据库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">docs</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">助手文档，如发行说明和构建信息</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">include</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含（标题）文件</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">lib</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图书馆</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">man</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix手册页</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">mysql-test</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL测试套件</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">share</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他支持文件，包括错误消息，示例配置文件，用于数据库安装的SQL</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">support-files</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本和示例配置文件</font></font></td>
        </tr><tr>
          <td scope="row"><code class="filename">/tmp/mysql.sock</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Unix套接字的位置</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在程序包安装程序过程中，</font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将自动创建从安装期间创建的版本/平台特定目录</font><font style="vertical-align: inherit;">的符号链接
       </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-launchd"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.3安装MySQL启动守护进程</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      macOS使用启动守护程序自动启动，停止和管理流程和应用程序，例如MySQL。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，macOS上的安装包（DMG）将安装一个名为的launchd文件
       </font></font><code class="filename">/Library/LaunchDaemons/com.oracle.oss.mysql.mysqld.plist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      ，其中包含一个类似于以下内容的plist定义：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;？xml version =“1.0”encoding =“utf-8”？&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;！DOCTYPE plist PUBLIC“ -  // Apple Computer // DTD PLIST 1.0 // EN”“http://www.apple.com/DTDs/PropertyList-1.0.dtd”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;plist version =“1.0”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;字典&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;标签&lt;/ key&gt; &lt;string&gt; com.oracle.oss.mysql.mysqld &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; ProcessType &lt;/ key&gt; &lt;string&gt;交互式&lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;已禁用&lt;/ key&gt; &lt;false /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; RunAtLoad &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; KeepAlive &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; SessionCreate &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; LaunchOnlyOnce &lt;/ key&gt; &lt;false /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; UserName &lt;/ key&gt; &lt;string&gt; _mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; GroupName &lt;/ key&gt; &lt;string&gt; _mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; ExitTimeOut &lt;/ key&gt; &lt;integer&gt; 600 &lt;/ integer&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;程序&lt;/ key&gt; &lt;string&gt; / usr / local / mysql / bin / mysqld &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;键&gt; ProgramArguments &lt;/键&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        &lt;阵列&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;的/ usr /本地/ MySQL的/斌/ mysqld的&lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  - 用户= _mysql &lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  -  BASEDIR =的/ usr /本地/ MySQL的&lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  -  DATADIR =的/ usr /本地/ MySQL的/数据&lt;/串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  - 插件-DIR =的/ usr /本地/ MySQL的/ LIB /插件&lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  - 对数误差=的/ usr /本地/ MySQL的/数据/ mysqld.local.err &lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  -  PID文件=的/ usr /本地/ MySQL的/数据/ mysqld.local.pid &lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        &lt;/阵列&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; WorkingDirectory &lt;/ key&gt; &lt;string&gt; / usr / local / mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/字典&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/ plist中&gt;</font></font><font></font>
<font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有些用户报告说，添加plist DOCTYPE声明会导致启动操作失败，尽管它通过了lint检查。</font><font style="vertical-align: inherit;">我们怀疑这是一个复制粘贴错误。</font><font style="vertical-align: inherit;">包含上述代码段的文件的md5校验和是
         </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24710a27dc7a28fb7ee6d825129cd3cf</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要启用启动服务，您可以：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从MySQL首选项窗格中</font><font style="vertical-align: inherit;">
          单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL服务器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="figure">
<a name="mac-installer-preference-pane-location-start"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.26 MySQL首选面板：位置</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-preference-pane-location.png" width="800" height="746" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-preference-pane-usage"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.27 MySQL首选项窗格：用法</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-preference-pane-usage.png" width="780" height="426" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          或者，手动加载launchd文件。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; cd / Library / LaunchDaemons</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; sudo launchctl load -F com.oracle.oss.mysql.mysqld.plist</font></font><font></font>
        </pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要将MySQL配置为在启动时自动启动，您可以：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; sudo launchctl加载-w com.oracle.oss.mysql.mysqld.plist
</font></font></pre></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        升级MySQL服务器时，启动安装过程将删除使用5.7.7及更高版本MySQL服务器安装的旧启动项目。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此外，升级将替换您现有的相同名称的launchd文件。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      其他推出的相关信息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          plist条目会覆盖</font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          条目，因为它们是作为命令行参数传入的。</font><font style="vertical-align: inherit;">有关传入程序选项的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#program-options" title="4.2.3指定程序选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.3节“指定程序选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所述</font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProgramArguments</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分定义了被传递到程序，这是命令行选项</font></font><code class="filename">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此情况下的二进制。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认的plist定义是用不太复杂的用例来编写的。</font><font style="vertical-align: inherit;">对于更复杂的设置，您可能希望删除一些参数，而是依赖于MySQL配置文件，例如
           </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您编辑plist文件，请在重新安装或升级MySQL时取消选中安装程序选项。</font><font style="vertical-align: inherit;">否则，您编辑的plist文件将被覆盖，所有编辑将会丢失。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      因为默认的plist定义定义了几个
       </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProgramArguments</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所以你可以删除大部分这些参数，而是依靠你的
       </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL配置文件来定义它们。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;？xml version =“1.0”encoding =“utf-8”？&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;！DOCTYPE plist PUBLIC“ -  // Apple Computer // DTD PLIST 1.0 // EN”“http://www.apple.com/DTDs/PropertyList-1.0.dtd”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;plist version =“1.0”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;字典&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;标签&lt;/ key&gt; &lt;string&gt; com.oracle.oss.mysql.mysqld &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; ProcessType &lt;/ key&gt; &lt;string&gt;交互式&lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;已禁用&lt;/ key&gt; &lt;false /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; RunAtLoad &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; KeepAlive &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; SessionCreate &lt;/ key&gt; &lt;true /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; LaunchOnlyOnce &lt;/ key&gt; &lt;false /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; UserName &lt;/ key&gt; &lt;string&gt; _mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; GroupName &lt;/ key&gt; &lt;string&gt; _mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; ExitTimeOut &lt;/ key&gt; &lt;integer&gt; 600 &lt;/ integer&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt;程序&lt;/ key&gt; &lt;string&gt; / usr / local / mysql / bin / mysqld &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;key&gt; WorkingDirectory &lt;/ key&gt; &lt;string&gt; / usr / local / mysql &lt;/ string&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;键&gt; ProgramArguments &lt;/键&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        &lt;阵列&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;的/ usr /本地/ MySQL的/斌/ mysqld的&lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            &lt;字符串&gt;  - 用户= _mysql &lt;/字符串&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        &lt;/阵列&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/字典&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/ plist中&gt;</font></font><font></font>
<font></font>
   </pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在这种情况下，</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_log_error"><code class="literal">log_error</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_pid_file"><code class="literal">pid_file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择从plist中定义中删除，然后你可能会在定义它们
       </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-prefpane"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4.4安装和使用MySQL首选面板</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL安装包包括一个MySQL首选项窗格，使您可以在MySQL安装过程中启动，停止和控制自动启动过程。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      此首选项窗格默认安装，并在系统的“ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统首选项”</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口中</font><font style="vertical-align: inherit;">列出</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="figure">
<a name="mac-installer-preference-pane-location-start-2"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.28 MySQL首选项窗格：位置</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-preference-pane-location.png" width="800" height="746" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要安装MySQL首选项窗格：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下载</font><font style="vertical-align: inherit;">包含MySQL软件包安装程序</font><font style="vertical-align: inherit;">的磁盘映像（</font></font><code class="filename">.dmg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件（社区版本可
           </font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">双击该文件以安装磁盘映像并查看其内容。
</font></font></p>
<div class="figure">
<a name="mac-installer-dmg-contents-prefpane"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.29 MySQL包安装程序：DMG内容</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-dmg-contents.png" width="428" height="382" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          按照</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-pkg" title="2.4.2使用本地包在macOS上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.2节“使用本地软件包在macOS上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的说明，完成安装MySQL服务器的过程
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
           </font><span class="guilabel"><font style="vertical-align: inherit;">安装类型</font></span><font style="vertical-align: inherit;">步骤</font><font style="vertical-align: inherit;">
          单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">“首选项窗格”选项在此处列出并默认启用; </font><font style="vertical-align: inherit;">确保它不被取消选择。
</font></font><span class="guilabel"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></p>
<div class="figure">
<a name="mac-startup-installer-customize-prefpane"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.30 macOS上的MySQL安装程序：自定义</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-installation-customize.png" width="732" height="550" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          完成MySQL服务器安装过程。
</font></font></p></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL首选项窗格仅启动和停止从安装在默认位置的MySQL软件包安装中安装的MySQL安装。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一旦安装了MySQL首选项窗格，就可以使用首选项窗格控制MySQL服务器实例。</font><font style="vertical-align: inherit;">要使用偏好窗格，请</font><font style="vertical-align: inherit;">从Apple菜单</font><font style="vertical-align: inherit;">打开“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统偏好设置...</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”。</font><font style="vertical-align: inherit;">通过单击首选项窗格</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">底部</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">内的MySQL徽标来选择MySQL首
       </font><font style="vertical-align: inherit;">选项窗格。
</font></font></p>
<div class="figure">
<a name="mac-installer-preference-pane-location"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.31 MySQL首选面板：位置</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-preference-pane-location.png" width="800" height="746" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-preference-pane-usage-3"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2.32 MySQL首选项窗格：用法</font></font></b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="./images/mac-installer-preference-pane-usage.png" width="780" height="426" alt="内容在周围文本中描述。">
</div>

</div>

</div>
<br class="figure-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL首选项窗格显示MySQL服务器的当前状态，</font><font style="vertical-align: inherit;">如果服务器没有运行并且</font><span class="guilabel"><font style="vertical-align: inherit;">正在运行</font></span><font style="vertical-align: inherit;">（绿色），则显示服务器已经启动时</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（红色）</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">首选项窗格还显示了MySQL服务器是否已被设置为自动启动的当前设置。
</font></font><span class="guilabel"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用偏好窗格启动MySQL服务器： </font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL服务器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">系统可能会提示您输入具有管理员权限的用户的用户名和密码以启动MySQL服务器。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用偏好窗格停止MySQL服务器： </font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          点击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止MySQL服务器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">系统可能会提示您输入具有管理员权限的用户的用户名和密码以停止MySQL服务器。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在系统启动时自动启动MySQL服务器：</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选中</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时自动启动MySQL服务器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旁边的复选框</font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在系统启动时禁用自动MySQL服务器启动：</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          取消选中</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时自动启动MySQL服务器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旁边的复选框</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成设置后，</font><font style="vertical-align: inherit;">
      您可以关闭</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统偏好...</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">窗口。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="linux-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5在Linux上安装MySQL</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1使用MySQL Yum存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#replace-third-party-yum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.2使用MySQL Yum Repository替换MySQL的第三方分发</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.3使用MySQL APT存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.4使用MySQL SLES存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.5在Linux上安装MySQL使用Oracle的RPM软件包</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-debian"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.6使用Oracle的Debian软件包在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-docker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7使用Docker在Linux上部署MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-native"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.8从本地软件存储库在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#linux-installation-juju"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.9使用Juju在Linux上安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#using-systemd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.10使用systemd管理MySQL服务器</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Linux支持许多用于安装MySQL的不同解决方案。</font><font style="vertical-align: inherit;">我们建议您使用Oracle的其中一个发行版，为此可以使用以下几种安装方法：
</font></font></p>
<div class="table">
<a name="linux-installation-methods"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.7 Linux安装方法和信息</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="30%"><col width="30%"><col width="40%"></colgroup><thead><tr>
        <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></th>
        <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置方法</font></font></th>
        <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加信息</font></font></th>
      </tr></thead><tbody><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apt</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Apt存储库</font></font></a></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yum</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Yum存储库</font></font></a></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL SLES存储库</font></font></a></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo" title="2.5.4使用MySQL SLES存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPM</font></font></td>
        <td><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定的软件包</font></font></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm" title="2.5.5在Linux上安装MySQL使用Oracle的RPM软件包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEB</font></font></td>
        <td><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定的软件包</font></font></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-debian" title="2.5.6使用Oracle的Debian软件包在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generic</font></font></td>
        <td><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个通用包</font></font></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;">源代码</font></a><font style="vertical-align: inherit;">编译</font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"></font></a></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Docker Hub</font></font></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-docker" title="2.5.7使用Docker在Linux上部署MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
      </tr><tr>
        <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle Unbreakable Linux Network</font></font></td>
        <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用ULN频道</font></font></td>
        <td><a class="link" href="/mysql-5.7-google-zh/installing.html#uln-installation" title="2.6使用Unbreakable Linux网络安装MySQL（ULN）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    作为替代方案，您可以使用系统上的软件包管理器来自动下载和安装MySQL，并使用来自Linux发行版本地软件存储库的软件包进行安装。</font><font style="vertical-align: inherit;">这些本地软件包通常位于当前可用版本之后的几个版本。</font><font style="vertical-align: inherit;">您通常也无法安装开发里程碑版本（DMR），因为这些通常不会在本地存储库中提供。</font><font style="vertical-align: inherit;">有关使用本地软件包安装程序的更多信息，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-native" title="2.5.8从本地软件存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.8节“从本地软件安装源在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于许多Linux安装，您将需要设置MySQL以在机器启动时自动启动。</font><font style="vertical-align: inherit;">许多本地软件包安装会为您执行此操作，但对于源代码，二进制文件和RPM解决方案，您可能需要单独进行设置。</font><font style="vertical-align: inherit;">必需的脚本</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font><code class="filename">support-files</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL安装目录下的目录或MySQL源代码树中找到。</font><font style="vertical-align: inherit;">您可以将其安装</font></font><code class="filename">/etc/init.d/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为自动启动和关闭MySQL。</font><font style="vertical-align: inherit;">请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.3.3节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL服务器启动脚本”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-yum-repo"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1使用MySQL Yum存储库在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528185750672"></a><a class="indexterm" name="idm140528185749600"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于Oracle Linux，Red Hat Enterprise Linux，CentOS和Fedora </font><font style="vertical-align: inherit;">
      的</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Yum存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了用于安装MySQL服务器，客户端，MySQL Workbench，MySQL实用程序，MySQL路由器，MySQL Shell，连接器/ ODBC，连接器/ Python等的RPM软件包。 （并非所有发行版都可以使用所有软件包;请参阅
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-install-components" title="用Yum安装额外的MySQL产品和组件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Yum安装其他MySQL产品和组件以</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解详细信息）。
</font></font></p>
<h4><a name="idm140528185746288"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你开始之前</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      作为一种流行的开源软件，MySQL以其原始或重新打包的形式广泛安装在来自各种来源的许多系统上，包括不同的软件下载站点，软件存储库等等。</font><font style="vertical-align: inherit;">以下说明假定MySQL尚未使用第三方分发的RPM软件包安装在您的系统上; </font><font style="vertical-align: inherit;">如果情况并非如此，请按照
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.3节“使用MySQL Yum存储库升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#replace-third-party-yum" title="2.5.2使用MySQL Yum Repository替换MySQL的第三方分发"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.2节“使用MySQL Yum存储库替换MySQL的第三方分发”中给出的说明进行操作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="idm140528185743280"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全新安装MySQL的步骤</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      请按照以下步骤使用MySQL Yum存储库安装最新的GA版本的MySQL：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="yum-repo-setup"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加MySQL Yum存储库</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          首先，将MySQL Yum存储库添加到系统的存储库列表中。</font><font style="vertical-align: inherit;">这是一次性操作，可以通过安装MySQL提供的RPM来执行。</font><font style="vertical-align: inherit;">按着这些次序：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              转至</font><font style="vertical-align: inherit;">MySQL开发人员专区中的</font><font style="vertical-align: inherit;">“下载MySQL Yum存储库”页面（</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/repo/yum/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选择并下载适用于您的平台的发行包。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用以下命令安装下载的发行包，替换
               </font></font><em class="replaceable"><code>platform-and-version-specific-package-name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为下载的RPM包的名称：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum localinstall <em class="replaceable"><code>platform-and-version-specific-package-name</code></em>.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于基于EL6的系统，该命令的形式为：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum localinstall mysql57-community-release-el6-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于基于EL7的系统：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum localinstall mysql57-community-release-el7-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于Fedora 26：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo dnf install mysql57-community-release-fc26-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于Fedora 27：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo dnf install mysql57-community-release-fc27-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              安装命令将MySQL Yum存储库添加到系统的存储库列表中，并下载GnuPG密钥以检查软件包的完整性。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">GnuPG密钥检查的详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
               </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;">第2.1.3.2节“使用GnuPG</font></a><font style="vertical-align: inherit;">进行</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#checking-gpg-signature" title="2.1.3.2使用GnuPG进行签名检查"><font style="vertical-align: inherit;">签名检查”</font></a><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              您可以通过以下命令检查MySQL Yum存储库是否已成功添加（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">命令中的
               </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
            </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum repolist enabled | grep "mysql.*-community.*"</code></strong>
</pre></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一旦您的系统上启用了MySQL Yum存储库，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum update</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            命令（或者</font><font style="vertical-align: inherit;">Fedora的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf升级）</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行的</font><font style="vertical-align: inherit;">任何系统范围的更新</font><font style="vertical-align: inherit;">都将升级系统上的MySQL软件包，并且还会替换任何本机第三方软件包（如果Yum找到他们在MySQL Yum存储库中; </font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.3节“使用MySQL Yum资源库升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及有关可能对您的系统产生的影响的讨论，请参阅
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo-client-lib" title="升级共享客户端库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级共享客户端库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem">
<h4><a name="yum-repo-select-series"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择一个发布系列</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用MySQL Yum存储库时，默认选择最新的GA系列（当前为MySQL 5.7）进行安装。</font><font style="vertical-align: inherit;">如果这是你想要的，你可以跳到下一步，
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-installing-mysql" title="安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在MySQL Yum存储库中，不同版本的MySQL社区服务器系列托管在不同的子库中。</font><font style="vertical-align: inherit;">最新GA系列的子库（目前MySQL 5.7）默认启用，其他系列的子库（例如MySQL 5.6系列）默认为禁用。</font><font style="vertical-align: inherit;">使用此命令查看MySQL Yum存储库中的所有子存储库，并查看其中哪些被启用或禁用（对于Fedora，</font><font style="vertical-align: inherit;">用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换
           </font><font style="vertical-align: inherit;">命令中的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum repolist all | grep mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要安装最新GA系列的最新版本，不需要配置。</font><font style="vertical-align: inherit;">要从最新GA系列以外的特定系列安装最新版本，请在运行安装命令之前禁用最新GA系列的子库，并为特定系列启用子库。</font><font style="vertical-align: inherit;">如果你的平台支持
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum-config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，你可以通过发布这些命令来实现这一点，这些命令禁用了5.7系列的子库，并启用5.6系列的子库：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>sudo yum-config-manager --disable mysql57-community</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>sudo yum-config-manager --enable mysql56-community</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于Fedora平台：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>sudo dnf config-manager --disable mysql57-community</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>sudo dnf config-manager --enable mysql56-community</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除了使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum-config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令之外，您还可以通过手动编辑</font></font><code class="filename">/etc/yum.repos.d/mysql-community.repo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          文件</font><font style="vertical-align: inherit;">来选择发行版系列
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是该文件中版本系列的子版本库的典型条目：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[mysql57社区]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
name = MySQL 5.7社区服务器</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
baseURL时= HTTP：//repo.mysql.com/yum/mysql-5.7-community/el/6/$basearch/</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
启用= 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpgcheck = 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpgkey =文件：///等/ PKI / RPM-GPG / RPM-GPG-KEY-MySQL的</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          找到要配置的子存储库的条目，然后编辑该</font></font><code class="option">enabled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">指定
           </font></font><code class="option">enabled=0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用子库，或
           </font></font><code class="option">enabled=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用子库。</font><font style="vertical-align: inherit;">例如，要安装MySQL 5.6，请确保您拥有
           </font></font><code class="option">enabled=0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL 5.7的上述子版本库条目，并且具有</font></font><code class="option">enabled=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.6系列的条目：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃启用MySQL 5.6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[mysql56社区]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
name = MySQL 5.6社区服务器</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
baseURL时= HTTP：//repo.mysql.com/yum/mysql-5.6-community/el/6/$basearch/</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
启用= 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpgcheck = 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpgkey =文件：///等/ PKI / RPM-GPG / RPM-GPG-KEY-MySQL的</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您应该只能在任何时候为一个发行版系列启用子库。</font><font style="vertical-align: inherit;">当启用多个版本系列的子库时，Yum会使用最新系列。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过运行以下命令并检查其输出来验证正确的子库是否已启用和禁用（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">命令中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum repolist enabled | grep mysql</code></strong>
</pre></li><li class="listitem">
<h4><a name="yum-repo-installing-mysql"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过以下命令安装MySQL（对于Fedora，</font><font style="vertical-align: inherit;">用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">将命令
           </font><font style="vertical-align: inherit;">替换为
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install mysql-community-server</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这将安装MySQL服务器（</font></font><code class="filename">mysql-community-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的软件包以及运行服务器所需组件的软件包，包括客户端软件包（</font></font><code class="filename">mysql-community-client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），客户端和服务器（</font></font><code class="filename">mysql-community-common</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的常见错误消息和字符集</font><font style="vertical-align: inherit;">以及共享客户端库（</font></font><code class="filename">mysql-community-libs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">） 。
</font></font></p></li><li class="listitem">
<h4><a name="yum-repo-starting-and-stopping-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL服务器</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用以下命令启动MySQL服务器：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo service mysqld start</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
启动mysqld：[确定]</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用以下命令检查MySQL服务器的状态：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo service mysqld status</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld（pid 3066）正在运行。</font></font><font></font>
</pre></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在服务器初始启动时，如果服务器的数据目录为空，则会发生以下情况：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器已初始化。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据目录中会生成SSL证书和密钥文件。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#validate-password" title="6.5.3密码验证插件"><code class="literal">validate_password</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          已安装并启用。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          超级用户帐户</font></font><code class="literal">'root'@'localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已创建。</font><font style="vertical-align: inherit;">超级用户的密码被设置并存储在错误日志文件中。</font><font style="vertical-align: inherit;">要显示它，请使用以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过使用生成的临时密码登录并尽快更改root密码并为超级用户帐户设置自定义密码：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/security.html#validate-password" title="6.5.3密码验证插件"><code class="literal">validate_password</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            是默认安装的。</font><font style="vertical-align: inherit;">实施的默认密码策略</font></font><code class="literal">validate_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求密码至少包含一个大写字母，一个小写字母，一个数字和一个特殊字符，并且总密码长度至少为8个字符。
</font></font></p>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关安装后过程的更多信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后安装和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><a name="yum-install-compatibility-el7"></a>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于EL7平台的兼容性信息：平台</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的本地软件存储库中的以下RPM软件包与安装MySQL服务器的MySQL Yum存储库中的软件包不兼容。</font><font style="vertical-align: inherit;">一旦你使用MySQL Yum版本库安装了MySQL，你将无法安装这些软件包（反之亦然）。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            Akonadi的MySQL的
</font></font></p></li></ul>
</div>

</div>
<h4><a name="yum-install-components"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Yum安装额外的MySQL产品和组件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用Yum来安装和管理MySQL的各个组件。</font><font style="vertical-align: inherit;">其中一些组件位于MySQL Yum存储库的子存储库中：例如，可以在MySQL连接器社区子库中找到MySQL连接器，在MySQL Tools Community中找到MySQL连接器。</font><font style="vertical-align: inherit;">您可以使用以下命令从MySQL Yum存储库中列出适用于您的平台的所有MySQL组件的软件包（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">命令中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
    </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum --disablerepo=\* --enablerepo='mysql*-community*' list available</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      用下面的命令安装你选择的软件包，替换</font></font><em class="replaceable"><code>package-name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为软件包名称（对于Fedora，</font><font style="vertical-align: inherit;">用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">命令中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
    </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install <em class="replaceable"><code>package-name</code></em></code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      例如，要在Fedora上安装MySQL Workbench：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo dnf install mysql-workbench-community</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要安装共享客户端库（对于Fedora，请将</font><font style="vertical-align: inherit;">命令中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换
       </font><font style="vertical-align: inherit;">为
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install mysql-community-libs</code></strong>
</pre>
<h4><a name="idm140528185635776"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Yum更新MySQL</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      除了安装之外，您还可以使用MySQL Yum存储库为MySQL产品和组件执行更新。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;">第2.11.1.3节“使用MySQL Yum资源库升级MySQL”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="replace-third-party-yum"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.2使用MySQL Yum Repository替换MySQL的第三方分发</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528185632544"></a><a class="indexterm" name="idm140528185631504"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于支持的基于Yum的平台（请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum资源库安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），您可以用最新的GA版本（来自MySQL 5.7）替换MySQL的第三方分发版当前系列）来自MySQL Yum存储库。</font><font style="vertical-align: inherit;">根据你的MySQL第三方发行版的安装方式，可以采取以下不同的步骤：
</font></font></p>
<h4><a name="replace-third-party-yum-native"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换MySQL的本机第三方分布</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您已经从本地软件存储库（也就是您自己的Linux发行版提供的软件存储库）安装了MySQL的第三方分发版，请按照以下步骤操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="idm140528185625472"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份您的数据库</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为避免数据丢失，请在尝试使用MySQL Yum存储库替换MySQL安装之前，始终备份数据库。</font><font style="vertical-align: inherit;">请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/backup-and-recovery.html" title="第7章备份和恢复"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第7章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份和恢复</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解如何备份数据库。
</font></font></p></li><li class="listitem">
<h4><a name="idm140528185622976"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加MySQL Yum存储库</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          按照添加MySQL Yum存储库中的说明，</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-setup" title="添加MySQL Yum存储库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将MySQL Yum存储库添加</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到系统的存储库列表中
           </font><font style="vertical-align: inherit;">。
</font></font></p></li><li class="listitem">
<h4><a name="idm140528185620576"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以Yum更新或DNF升级替换原生第三方分布</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过设计，MySQL Yum存储库将会在您执行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum update</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令（或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf upgrade</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for Fedora）</font><font style="vertical-align: inherit;">时，从MySQL Yum存储库中取代您的本地第三方MySQL和最新的GA版本（来自MySQL 5.7系列）</font><font style="vertical-align: inherit;">系统或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum更新mysql-server</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或者</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf升级</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于Fedora的</font><span class="command"><strong><font style="vertical-align: inherit;">mysql-server</font></strong></span><font style="vertical-align: inherit;">）。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在使用Yum存储库更新MySQL之后，使用旧版本的共享客户端库编译的应用程序应继续工作。</font><font style="vertical-align: inherit;">但是，</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果要重新编译应用程序并将其与更新的库进行动态链接</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请参阅
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo-client-lib" title="升级共享客户端库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级共享客户端库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以了解一些特殊的注意事项。
</font></font></p>
<h4><a name="replace-third-party-yum-nonnative"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换MySQL的非本地第三方分布</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您已经从非本地软件存储库（也就是未由您自己的Linux发行版提供的软件存储库）安装了MySQL的第三方分发版，请按照以下步骤操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="idm140528185611088"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份您的数据库</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为避免数据丢失，请在尝试使用MySQL Yum存储库替换MySQL安装之前，始终备份数据库。</font><font style="vertical-align: inherit;">请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/backup-and-recovery.html" title="第7章备份和恢复"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第7章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份和恢复</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解如何备份数据库。
</font></font></p></li><li class="listitem">
<h4><a name="stop-third-party"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阻止Yum从第三方非本地存储库接收MySQL包</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在使用MySQL Yum存储库安装MySQL之前，您必须停止系统从任何第三方非本地Yum存储库接收MySQL包。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，如果您使用自己的软件存储库安装了MariaDB，请使用以下命令获取已安装的MariaDB软件包的列表（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换
           </font><font style="vertical-align: inherit;">命令中的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum list installed mariadb\*</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MariaDB-common.i686 10.0.4-1 @mariadb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MariaDB-compat.i686 10.0.4-1 @mariadb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MariaDB-server.i686 10.0.4-1 @mariadb</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从命令的输出，我们可以找出安装的软件包（</font></font><code class="literal">MariaDB-common</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">MariaDB-compat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
           </font></font><code class="literal">MariaDB-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和它们的来源（名为非本地软件库
           </font></font><code class="literal">mariadb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          作为另一个例子，如果您已经使用他们自己的软件存储库安装了Percona，请使用以下命令获取已安装的Percona软件包列表（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换
           </font><font style="vertical-align: inherit;">命令中的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum list installed Percona\*</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Percona-Server-client-55.i686 5.5.39-rel36.0.el6 @ percona-release-i386</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Percona-Server-server-55.i686 5.5.39-rel36.0.el6 @ percona-release-i386</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Percona-Server-shared-55.i686 5.5.39-rel36.0.el6 @ percona-release-i386</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
percona-release.noarch 0.1-3 @ / percona-release-0.1-3.noarch</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从命令的输出，我们可以找出安装的软件包（</font></font><code class="literal">Percona-Server-client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">Percona-Server-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">Percona-Server-shared</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">percona-release.noarch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和它们的来源（名为非本地软件库
           </font></font><code class="literal">percona-release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您不确定您安装了哪个第三方MySQL分支，则此命令应该显示它并列出为其安装的RPM软件包，以及提供软件包的第三方存储库（对于Fedora，请</font><font style="vertical-align: inherit;">在命令中</font><font style="vertical-align: inherit;">替换
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNF</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>yum --disablerepo=\* provides mysql\*</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下一步是阻止Yum从非本地存储库接收包。</font><font style="vertical-align: inherit;">如果
           </font><font style="vertical-align: inherit;">您的平台支持</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum-config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公用程序，例如，您可以使用此命令停止MariaDB的交付（在Fedora上，使用
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令而不是
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum-config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum-config-manager --disable mariadb</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用此命令停止从Percona发送（在Fedora上，使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令而不是</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum-config-manager</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum-config-manager --disable percona-release</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以通过删除</font></font><code class="filename">/etc/yum.repos.d/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">下某个存储库文件中存在的软件存储库条目来执行相同的任务</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是条目通常查找MariaDB的方式：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[mariadb] name = MariaDB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 baseurl = </font></font><em class="replaceable"><code>[base URL for repository]</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 gpgkey =</font></font><em class="replaceable"><code>[URL for GPG key]</code></em><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 gpgcheck = 1</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该条目通常在</font></font><code class="filename">/etc/yum.repos.d/MariaDB.repo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MariaDB </font><font style="vertical-align: inherit;">的文件中找到
           </font><font style="vertical-align: inherit;">- 删除该文件，或从中删除条目（或从您找到条目的文件中删除条目）。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您要删除发行包（</font></font><code class="filename">percona-release.noarch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于Percona），</font><font style="vertical-align: inherit;">则此步骤对于使用Yum存储库发行包（如Percona）配置的安装不是必需的</font><font style="vertical-align: inherit;">，如下面步骤3中的Percona的卸载命令所示。
</font></font></p>
</div>
</li><li class="listitem">
<h4><a name="idm140528185572640"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卸载MySQL的非本地第三方MySQL分发</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          必须首先卸载非本地第三方MySQL分发版，然后才能使用MySQL Yum存储库安装MySQL。</font><font style="vertical-align: inherit;">对于上面步骤2中找到的MariaDB软件包，请使用以下命令卸载它们（对于Fedora，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换
           </font><font style="vertical-align: inherit;">命令中的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum remove MariaDB-common MariaDB-compat MariaDB-server</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于我们在上面第二步中找到的Percona软件包（对于Fedora，</font><font style="vertical-align: inherit;">用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">命令中的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum remove Percona-Server-client-55 Percona-Server-server-55 \<font></font>
  Percona-Server-shared-55.i686 percona-release</code></strong>
</pre></li><li class="listitem">
<h4><a name="idm140528185564064"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL Yum存储库安装MySQL</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          然后，按照中的说明与MySQL百胜库安装MySQL
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.1节，“在Linux上安装MySQL的使用MySQL百胜库”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您选择使用MySQL Yum存储库中较新版本的MySQL替换第三方MySQL发行版，请记住</font><font style="vertical-align: inherit;">在服务器启动后</font><font style="vertical-align: inherit;">运行
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以检查并可能解决旧数据与升级软件之间的任何不兼容问题。
            </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还执行其他功能; </font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;">第4.4.7节“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;">mysql_upgrade</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"> - 检查并升级MySQL表”</font></a><font style="vertical-align: inherit;">。
          </font></font></p><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于基于EL7的平台：</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参阅
            </font><span class="emphasis"><em><font style="vertical-align: inherit;">基于EL7的平台的</font></em></span></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-install-compatibility-el7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兼容性信息</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-apt-repo"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.3使用MySQL APT存储库在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528185554480"></a><a class="indexterm" name="idm140528185552992"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL APT存储库提供了</font></font><code class="filename">deb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      用于在Debian和Ubuntu平台上安装和管理MySQL服务器，客户端和其他组件的软件包。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关使用MySQL APT存储库的说明，请参见
       </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“使用MySQL APT存储库快速指南”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-sles-repo"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.4使用MySQL SLES存储库在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528185547696"></a><a class="indexterm" name="idm140528185546208"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL SLES存储库提供了RPM软件包，用于安装和管理SUSE Enterprise Linux Server上的MySQL服务器，客户端和其他组件。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关使用MySQL SLES存储库的说明，请参见
       </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“使用MySQL SLES存储库快速指南”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL SLES存储库现在处于开发版本中。</font><font style="vertical-align: inherit;">我们鼓励您尝试并向我们提供反馈。</font><font style="vertical-align: inherit;">请将您观察到的任何错误或不一致情况报告给我们的
         </font></font><a class="ulink" href="http://bugs.mysql.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误数据库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-rpm"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.5在Linux上安装MySQL使用Oracle的RPM软件包</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528185540256"></a><a class="indexterm" name="idm140528185539216"></a><a class="indexterm" name="idm140528185538144"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在基于RPM的Linux发行版上安装MySQL的推荐方式是使用Oracle提供的RPM软件包。</font><font style="vertical-align: inherit;">有两个获得它们的来源，对于MySQL的社区版：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从MySQL软件仓库：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL Yum存储库（详情请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum存储库安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL SLES存储库（详见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo" title="2.5.4使用MySQL SLES存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.4节“在Linux上使用MySQL SLES存储库安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从</font><a class="ulink" href="http://dev.mysql.com/" target="_top"><font style="vertical-align: inherit;">MySQL Developer Zone</font></a><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">“ </font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载MySQL社区服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面
           </font><font style="vertical-align: inherit;">。
</font></font><a class="ulink" href="http://dev.mysql.com/" target="_top"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL的RPM分发也由其他供应商提供。</font><font style="vertical-align: inherit;">请注意，它们可能与Oracle建立的功能，功能和惯例（包括通信设置）不同，并且本手册中的安装说明不一定适用于它们。</font><font style="vertical-align: inherit;">应该咨询供应商的说明。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您的系统上运行MySQL的第三方分发版，并且现在想要使用从MySQL开发人员专区下载的RPM软件包迁移到Oracle分发版，请参阅</font><font style="vertical-align: inherit;">以下</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installing-rpm-compat" title="与来自其他供应商的RPM软件包的兼容性"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与其他供应商的RPM软件包的兼容性</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然而，迁移的首选方法是使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Yum存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-sles-repo" title="2.5.4使用MySQL SLES存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL SLES存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      下表列出了MySQL的RPM软件包：
</font></font></p>
<div class="table">
<a name="idm140528185524032"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.8 MySQL社区版的RPM包</font></font></b></p>
<div class="table-contents">
<table frame="all"><colgroup><col width="35%"><col width="25%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包裹名字</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">mysql-community-server</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库服务器和相关工具</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-client</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL客户端应用程序和工具</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-common</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和客户端库的公共文件</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-server-minimal</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库服务器和相关工具的最小安装</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-devel </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发MySQL数据库客户端应用程序的头文件和库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-libs </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL数据库客户端应用程序的共享库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-libs-compat</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于以前的MySQL安装的共享兼容性库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-embedded</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL嵌入式库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-embedded-devel</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发MySQL的头文件和库作为可嵌入的库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-community-test </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器的测试套件</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="idm140528185489488"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.9 MySQL企业版的RPM软件包</font></font></b></p>
<div class="table-contents">
<table frame="all"><colgroup><col width="35%"><col width="25%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包裹名字</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">mysql-commercial-server</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库服务器和相关工具</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-client</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL客户端应用程序和工具</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-common</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和客户端库的公共文件</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-server-minimal</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库服务器和相关工具的最小安装</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-devel </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发MySQL数据库客户端应用程序的头文件和库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-libs </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL数据库客户端应用程序的共享库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-libs-compat</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于以前的MySQL安装的共享兼容性库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-embedded</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL嵌入式库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-embedded-devel</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发MySQL的头文件和库作为可嵌入的库</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mysql-commercial-test </code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器的测试套件</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      RPM的全名具有以下语法：
    </font></font></p><pre data-lang="terminal" class="programlisting"><em class="replaceable"><code>packagename</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><em class="replaceable"><code>version</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><em class="replaceable"><code>distribution</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><em class="replaceable"><code>arch</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.rpm
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      的</font></font><em class="replaceable"><code>distribution</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><em class="replaceable"><code>arch</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值表示Linux分发和的量，包建处理器类型。</font><font style="vertical-align: inherit;">有关分配标识符的列表，请参阅下表：
</font></font></p>
<div class="table">
<a name="idm140528185450384"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.10 MySQL Linux RPM软件包分发标识符</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="25%"><col width="75%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配价值</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有可能的使用</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">el6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">el7</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红帽企业Linux / Oracle Linux / CentOS 6或7</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">fc26</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">fc27</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fedora 26和27</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">sles12</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SUSE Linux Enterprise Server 12</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要查看RPM包中的所有文件（例如，
       </font></font><code class="literal">mysql-community-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），请使用以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm -qpl mysql-community-server-<em class="replaceable"><code>version</code></em>-<em class="replaceable"><code>distribution</code></em>-<em class="replaceable"><code>arch</code></em>.rpm</code></strong>
</pre><p>
      <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节其余部分的讨论仅适用于使用直接从Oracle下载的RPM包而不是通过MySQL存储库进行的安装过程。</font></font></em></span>
    </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一些软件包之间存在依赖关系。</font><font style="vertical-align: inherit;">如果您打算安装许多软件包，则可能需要下载RPM软件包</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，其中包含上面列出的所有RPM软件包，因此您无需单独下载它们。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在大多数情况下，你需要安装
       </font></font><code class="literal">mysql-community-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">mysql-community-client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">mysql-community-libs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">mysql-community-common</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
       </font></font><code class="literal">mysql-community-libs-compat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包获得的功能，标准的MySQL安装。</font><font style="vertical-align: inherit;">要执行这样一个标准的基本安装，请转到包含所有这些软件包的文件夹（并且最好不要包含具有相似名称的其他RPM软件包），并针对</font><font style="vertical-align: inherit;">Red Hat Enterprise Linux / Oracle Linux / CentOS </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以外的</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平台发出以下命令
       </font><font style="vertical-align: inherit;">5：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install mysql-community-{server,client,common,libs}-* </code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      更换</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于SLES，并与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNF</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为Fedora。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      虽然这是很最好使用像一个高层次的包管理工具</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装的软件包，谁喜欢直接用户</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可以更换
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜安装</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPM -Uvh</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令; </font><font style="vertical-align: inherit;">但是，</font><font style="vertical-align: inherit;">
      由于安装过程可能会遇到潜在的依赖性问题，因此</font><font style="vertical-align: inherit;">使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm -Uvh</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替使安装过程更容易失败。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要仅安装客户端程序，您可以跳过
       </font></font><code class="literal">mysql-community-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要安装的软件包列表; </font><font style="vertical-align: inherit;">针对</font><font style="vertical-align: inherit;">红帽企业Linux / Oracle Linux / CentOS 5 </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以外的</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平台发出以下命令
       </font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install mysql-community-{client,common,libs}-* </code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      更换</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于SLES，并与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNF</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为Fedora。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于红帽企业Linux / Oracle Linux / CentOS 5系统：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo yum install mysql-community-{client,common,libs}-* mysql-5.* </code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用RPM软件包标准安装MySQL会导致在系统目录下创建的文件和资源，如下表所示。
</font></font></p>
<div class="table">
<a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.11来自MySQL Developer Zone的Linux RPM包的MySQL安装布局</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="55%"><col width="45%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件或资源</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端程序和脚本</font></font></td>
          <td><code class="filename">/usr/bin</code></td>
        </tr><tr>
          <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></td>
          <td><code class="filename">/usr/sbin</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件</font></font></td>
          <td><code class="filename">/etc/my.cnf</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录</font></font></td>
          <td><code class="filename">/var/lib/mysql</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误日志文件</font></font></td>
          <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于RHEL，Oracle Linux，CentOS或Fedora平台：
              </font></font><code class="filename">/var/log/mysqld.log</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于SLES： </font></font><code class="filename">/var/log/mysql/mysqld.log</code>
            </p></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的价值 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a></td>
          <td><code class="filename">/var/lib/mysql-files</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统V初始化脚本</font></font></td>
          <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于RHEL，Oracle Linux，CentOS或Fedora平台：
              </font></font><code class="filename">/etc/init.d/mysqld</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于SLES： </font></font><code class="filename">/etc/init.d/mysql</code>
            </p></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统服务</font></font></td>
          <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于RHEL，Oracle Linux，CentOS或Fedora平台：
              </font></font><code class="filename">mysqld</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于SLES： </font></font><code class="filename">mysql</code>
            </p></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pid文件</font></font></td>
          <td><code class="filename"> /var/run/mysql/mysqld.pid</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插座</font></font></td>
          <td><code class="filename">/var/lib/mysql/mysql.sock</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keyring目录</font></font></td>
          <td><code class="filename">/var/lib/mysql-keyring</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix手册页</font></font></td>
          <td><code class="filename">/usr/share/man</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含（标题）文件</font></font></td>
          <td><code class="filename">/usr/include/mysql</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图书馆</font></font></td>
          <td><code class="filename">/usr/lib/mysql</code></td>
        </tr><tr>
          <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他支持文件（例如，错误消息和字符集文件）</font></font></td>
          <td><code class="filename">/usr/share/mysql</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该安装还会</font><font style="vertical-align: inherit;">在系统上</font><font style="vertical-align: inherit;">创建一个名为用户名
       </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和一个组
       </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用较早的软件包安装以前版本的MySQL可能会创建一个名为的配置文件
         </font></font><code class="filename">/usr/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">强烈建议您检查文件的内容并将所需的设置内部迁移到文件</font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文件中，然后删除</font></font><code class="filename">/usr/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL在安装过程结束时不会自动启动。</font><font style="vertical-align: inherit;">对于红帽企业Linux，Oracle Linux，CentOS和Fedora系统，请使用以下命令启动MySQL：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo service mysqld start</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于SLES系统，命令相同，但服务名称不同：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo service mysql start</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果操作系统启用了systemd，</font><font style="vertical-align: inherit;">则应使用</font><font style="vertical-align: inherit;">标准
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令（如
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新启动）</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来管理MySQL服务器服务。</font><font style="vertical-align: inherit;">该
       </font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务默认启用，并在系统重新启动时启动。</font><font style="vertical-align: inherit;">请注意，某些事情可能在systemd平台上有所不同：例如，更改数据目录的位置可能会导致问题。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></a><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在使用RPM软件包进行升级安装期间，如果在升级发生时MySQL服务器正在运行，则MySQL服务器停止运行，升级发生，MySQL服务器重新启动。</font><font style="vertical-align: inherit;">一个例外：如果版本在升级过程中也发生变化（例如从社区到商业版本，反之亦然），那么MySQL服务器不会重新启动。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在服务器初始启动时，如果服务器的数据目录为空，则会发生以下情况：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器已初始化。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在数据目录中生成SSL证书和密钥文件。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#validate-password" title="6.5.3密码验证插件"><code class="literal">validate_password</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          已安装并启用。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          超级用户帐户</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已创建。</font><font style="vertical-align: inherit;">超级用户的密码被设置并存储在错误日志文件中。</font><font style="vertical-align: inherit;">要显示它，请对RHEL，Oracle Linux，CentOS和Fedora系统使用以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对SLES系统使用以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysql/mysqld.log</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下一步是使用生成的临时密码登录并为超级用户帐户设置自定义密码：
</font></font></p></li></ul>
</div>
<pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
        <a class="link" href="/mysql-5.7-google-zh/security.html#validate-password" title="6.5.3密码验证插件"><code class="literal">validate_password</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是默认安装的。</font><font style="vertical-align: inherit;">实施的默认密码策略</font></font><code class="literal">validate_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求密码至少包含一个大写字母，一个小写字母，一个数字和一个特殊字符，并且总密码长度至少为8个字符。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果安装过程中出现问题，您可能会在错误日志文件中找到调试信息
       </font></font><code class="filename">/var/log/mysqld.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于某些Linux发行版，可能需要增加</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的文件描述符的数量限制
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/error-handling.html#not-enough-file-handles" title="B.5.2.17未找到文件和类似的错误"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第B.5.2.17节“找不到文件和类似的错误”</font></font></a>
    </p><p><a name="linux-installing-rpm-compat"></a><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与来自其他供应商的RPM软件包的兼容性。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您已从Linux发行版的本地软件存储库安装了MySQL软件包，则最好使用上述平台（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的软件包管理系统从Oracle安装新的直接下载的软件包</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该命令用旧的软件包替换旧软件包，以确保旧应用程序与新安装的兼容性; </font><font style="vertical-align: inherit;">例如，旧的
         </font></font><code class="literal">mysql-libs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包被替换为
        </font></font><code class="literal">mysql-community-libs-compat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包，它为使用旧版MySQL安装的应用程序提供了一个替换兼容的客户端库。</font><font style="vertical-align: inherit;">如果系统上有旧版本
        </font></font><code class="literal">mysql-community-libs-compat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 在系统上，它也被取代。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您已经安装了第三方软件包（不是来自您Linux发行版本地软件存储库的MySQL）（例如，从Oracle以外的供应商直接下载的软件包），则应该在安装新的直接下载的软件包之前卸载所有这些软件包来自Oracle。</font><font style="vertical-align: inherit;">这是因为这些供应商的RPM软件包与Oracle之间可能会产生冲突：例如，供应商关于哪些文件属于服务器以及哪些属于客户端库的约定可能与用于Oracle软件包的约定不同。</font><font style="vertical-align: inherit;">尝试安装Oracle RPM可能会导致出现消息，说明要安装的RPM中的文件与已安装软件包中的文件发生冲突。
    </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从多个MySQL版本安装客户端库。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以安装多个客户端库版本，例如，您希望保持与以前的库链接的旧应用程序的兼容性。</font><font style="vertical-align: inherit;">要安装较旧的客户端库，请使用</font><span class="command"><strong><font style="vertical-align: inherit;">rpm</font></strong></span></font><code class="option">--oldpackage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        选项</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，要安装
         </font><font style="vertical-align: inherit;">在具有</font><font style="vertical-align: inherit;">MySQL 5.7 </font><font style="vertical-align: inherit;">的EL6系统上</font><font style="vertical-align: inherit;">，请使用如下命令：
      </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><code class="literal">mysql-community-libs-5.5</code><font style="vertical-align: inherit;"></font><code class="literal">libmysqlclient.20</code><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpm --oldpackage -ivh mysql-community-libs-5.5.50-2.el6.x86_64.rpm</code></strong>
</pre><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试包。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><a class="link" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试包</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译的MySQL服务器的特殊变体
         </font><font style="vertical-align: inherit;">已包含在服务器RPM包中。</font><font style="vertical-align: inherit;">它执行调试和内存分配检查，并在服务器运行时生成跟踪文件。</font><font style="vertical-align: inherit;">要使用该调试版本，请启动MySQL
         </font></font><code class="filename">/usr/sbin/mysqld-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不是将其作为服务或使用</font></font><code class="filename">/usr/sbin/mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">您可以使用的调试选项</font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;">第28.5.3节“DBUG软件包”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        调试版本的默认插件目录从</font><font style="vertical-align: inherit;">5.7.21 </font><font style="vertical-align: inherit;">更改
         </font></font><code class="filename">/usr/lib64/mysql/plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
         </font></font><code class="filename">/usr/lib64/mysql/plugin/debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以前，需要手动更改</font></font><code class="option">plugin_dir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从源SRPM重新构建RPM。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        源代码用于MySQL的SRPM软件包可供下载。</font><font style="vertical-align: inherit;">它们可以按原样用标准</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpmbuild</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具链</font><font style="vertical-align: inherit;">重建MySQL RPM </font><font style="vertical-align: inherit;">。
      </font></font></p><p><b><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 预发布版本的密码。&nbsp;</font></font></b>
        <a class="indexterm" name="idm140528185289312"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

        对于MySQL 5.7.4和5.7.5，将初始随机
         </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码写入</font></font><code class="filename">.mysql_secret</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由</font></font><code class="literal">HOME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量</font><font style="vertical-align: inherit;">命名的目录中</font><font style="vertical-align: inherit;">的
         </font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当试图访问文件时，请记住，根据操作系统的不同，使用诸如</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo之</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类的</font><span class="command"><strong><font style="vertical-align: inherit;">命令</font></strong></span><font style="vertical-align: inherit;">可能会导致</font></font><code class="literal">HOME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统用户</font><font style="vertical-align: inherit;">的主目录</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">。</font></font><code class="filename">.mysql_secret</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用模式600创建，只能由创建它的系统用户访问。</font><font style="vertical-align: inherit;">在MySQL 5.7.4之前，帐户（包括
        </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）在RPM安装的MySQL授权表中创建，最初没有密码; </font><font style="vertical-align: inherit;">启动服务器后，应使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明为其分配密码</font><font style="vertical-align: inherit;">。“
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-debian"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.6使用Oracle的Debian软件包在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      Oracle提供了用于在Debian或Debian类Linux系统上安装MySQL的Debian软件包。</font><font style="vertical-align: inherit;">这些软件包可通过两种不同的渠道获得：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的APT库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是在类似Debian的系统上安装MySQL的首选方法，因为它提供了安装和更新MySQL产品的简单方便的方法。</font><font style="vertical-align: inherit;">有关详细信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.3节“使用MySQL APT存储库在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的开发人员专区的下载区</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下是关于可用的Debian软件包的一些信息以及安装它们的说明：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL Developer Zone提供了各种Debian软件包，用于在不同的Debian或Ubuntu平台上安装不同的MySQL组件。</font><font style="vertical-align: inherit;">首选的方法是使用tarball包，它包含MySQL基本设置所需的包。</font><font style="vertical-align: inherit;">压缩包中的名称格式为
               </font><font style="vertical-align: inherit;">。
              </font><font style="vertical-align: inherit;">是MySQL版本，
               </font><font style="vertical-align: inherit;">是Linux发行版本。</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">值指示包的内置处理器类型或系列，如下表所示：
</font></font><code class="filename">mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>MVER</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>DVER</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>CPU</code></em><font style="vertical-align: inherit;"></font></p>
<div class="table">
<a name="idm140528185268736"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.12 MySQL Debian和Ubuntu安装程序包CPU标识符</font></font></b></p>
<div class="table-contents">
<table><colgroup><col width="25%"><col width="75%"></colgroup><thead><tr>
                  <th scope="col"><em class="replaceable"><code>CPU</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 值</font></font></th>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预期的处理器类型或系列</font></font></th>
                </tr></thead><tbody><tr>
                  <td scope="row"><code class="literal">i386</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">奔腾处理器或更好的32位</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">amd64</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64位x86处理器</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              下载tarball之后，使用以下命令解压缩它：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>tar -xvf mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code></strong>
</pre></li><li class="listitem"><p>
              <a class="indexterm" name="idm140528185252640"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

              如果</font></font><code class="literal">libaio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              库尚不存在于系统中，则</font><font style="vertical-align: inherit;">可能需要安装该</font><font style="vertical-align: inherit;">库：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo apt-get install libaio1</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用以下命令预配置MySQL服务器软件包：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo dpkg-preconfigure mysql-community-server_*.deb</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              系统会要求您为MySQL安装提供root用户的密码。</font><font style="vertical-align: inherit;">您也可能会被问到有关安装的其他问题。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><a name="linux-installing-debian-password"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                确保你记得你设置的root密码。</font><font style="vertical-align: inherit;">稍后想要设置密码的用户可以</font><font style="vertical-align: inherit;">在对话框</font><font style="vertical-align: inherit;">中将</font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">保留为
                 </font><font style="vertical-align: inherit;">空，然后按</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">在这种情况下，使用</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#socket-pluggable-authentication" title="6.5.1.10套接字对等凭证可插拔认证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL套接字对等凭证身份验证插件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对使用Unix套接字文件进行连接</font><font style="vertical-align: inherit;">的服务器的根访问进行
                 </font><a class="link" href="/mysql-5.7-google-zh/security.html#socket-pluggable-authentication" title="6.5.1.10 Socket Peer-Credential Pluggable Authentication"><font style="vertical-align: inherit;">身份验证</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以稍后使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置root密码
                 </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于MySQL服务器的基本安装，安装数据库公共文件包，客户端软件包，客户端元数据包，服务器软件包和服务器元数据包（按此顺序）; </font><font style="vertical-align: inherit;">你可以用一个命令来做到这一点：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>sudo dpkg -i mysql-{common,community-client,client,community-server,server}_*.deb</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您正在通过</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dpkg</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告未满足的依赖项
               </font><font style="vertical-align: inherit;">，则可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-get</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修复它们
               </font><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>sudo apt-get -f install</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              以下是系统上文件的安装位置：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  所有配置文件（如
                   </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）都在
                  </font></font><code class="filename">/etc/mysql</code>
                </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  所有的二进制文件，库，头文件等都在
                   </font></font><code class="filename">/usr/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
                  </font></font><code class="filename">/usr/sbin</code>
                </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  数据目录是
                  </font></font><code class="filename">/var/lib/mysql</code>
</p></li></ul>
</div>
</li></ul>
</div>
</li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        其他供应商也提供了MySQL的Debian发行版。</font><font style="vertical-align: inherit;">请注意，它们可能与Oracle构建的功能，功能和惯例（包括通信设置）有所不同，并且本手册中的说明不一定适用于安装它们。</font><font style="vertical-align: inherit;">应该咨询供应商的说明。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-docker"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7使用Docker在Linux上部署MySQL</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#docker-mysql-getting-started"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7.1使用Docker进行MySQL服务器部署的基本步骤</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#docker-mysql-more-topics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7.2有关使用Docker部署MySQL服务器的更多主题</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      Docker部署框架支持简单的安装和配置MySQL服务器。</font><font style="vertical-align: inherit;">本节介绍如何使用MySQL服务器Docker镜像。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您需要先在系统上安装Docker，然后才能使用MySQL服务器Docker映像。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">说明，</font><font style="vertical-align: inherit;">请参阅
       </font></font><a class="ulink" href="https://docs.docker.com/engine/installation/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您需要使用或运行</font></font><code class="literal">docker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令
         </font></font><code class="literal">sudo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者创建</font></font><code class="literal">docker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        用户组，然后为其添加想要运行</font></font><code class="literal">docker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">任何用户
         </font><font style="vertical-align: inherit;">。</font></font><a class="ulink" href="https://docs.docker.com/engine/installation/linux/linux-postinstall/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看到细节
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于Docker容器始终以root权限运行，因此您应该了解
         </font></font><a class="ulink" href="https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker后台驻留程序攻击界面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并正确减轻相关风险。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用MySQL Docker容器的说明分为两部分。

      
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="docker-mysql-getting-started"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7.1使用Docker进行MySQL服务器部署的基本步骤</font></font></h4>

</div>

</div>

</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-download-image" title="下载MySQL服务器Docker镜像"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载MySQL服务器Docker镜像</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-starting-mysql-server" title="启动一个MySQL服务器实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动一个MySQL服务器实例</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-connecting-within-container" title="从容器内连接到MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从容器内连接到MySQL服务器</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-shell-access" title="容器外壳访问"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器外壳访问</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-stopping-deleting" title="停止并删除一个MySQL容器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止并删除一个MySQL容器</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-more-topics" title="有关使用Docker部署MySQL服务器的更多主题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关使用Docker部署MySQL服务器的更多主题</font></font></a></p></li></ul>
</div>

<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
          <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL企业服务器容器：</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要预订才能使用用于MySQL企业服务器的Docker映像。</font><font style="vertical-align: inherit;">订阅通过带来自己的许可证模式起作用; </font><font style="vertical-align: inherit;">有关详细信息，</font><font style="vertical-align: inherit;">请参阅
          </font></font><a class="ulink" href="https://www.mysql.com/buy-mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何购买MySQL产品和服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要获得MySQL Enterprise Server映像的授权访问权限，请转至</font><font style="vertical-align: inherit;">Docker Store中</font><font style="vertical-align: inherit;">的
          </font></font><a class="ulink" href="https://store.docker.com/images/mysql-enterprise-server" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MySQL Server Enterprise Edition</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面，单击</font></font><span class="guibutton"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Proceed to Checkout</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后提供所需的信息。</font><font style="vertical-align: inherit;">授权访问容器然后与您的Docker ID相关联。
</font></font></p>
</div>
<h5><a name="docker-download-image"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载MySQL服务器Docker镜像</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在单独的步骤中下载服务器映像不是绝对必要的; </font><font style="vertical-align: inherit;">但是，在创建Docker容器之前执行此步骤可确保您的本地映像是最新的。</font><font style="vertical-align: inherit;">要下载MySQL Community Edition映像，请运行以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker pull mysql/mysql-server:<em class="replaceable"><code>tag</code></em></code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><em class="replaceable"><code>tag</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是你想拉的图像版本的标签（例如</font></font><code class="literal">5.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">5.6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">8.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code class="literal">latest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">如果
         </font><font style="vertical-align: inherit;">省略，</font><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">标签，并下载最新GA版本MySQL社区服务器的映像。</font><font style="vertical-align: inherit;">请参阅</font><a class="ulink" href="https://hub.docker.com/r/mysql/mysql-server/tags/" target="_top"><font style="vertical-align: inherit;">Docker Hub中mysql / mysql-server页面</font></a><font style="vertical-align: inherit;">上可用版本的标签列表
         </font><font style="vertical-align: inherit;">。
      </font></font><strong class="userinput"><code>:<em class="replaceable"><code>tag</code></em></code></strong><font style="vertical-align: inherit;"></font><code class="literal">latest</code><font style="vertical-align: inherit;"></font><a class="ulink" href="https://hub.docker.com/r/mysql/mysql-server/tags/" target="_top"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要下载MySQL企业版映像，请运行以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker pull  store/oracle/mysql-enterprise-server:5.7</code></strong></pre><p>
        <code class="literal">5.7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是您想要拉的图像版本的标签。</font><font style="vertical-align: inherit;">MySQL企业版容器仅提供MySQL企业服务器的最新GA版本（5.7）。

        
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用以下命令列出下载的Docker镜像：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>docker images</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
储存标签图像ID创建的大小</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql / mysql-server最新3157d7f55f8d 4周前241MB</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （</font></font><code class="literal">REPOSITORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列读取
         </font></font><code class="literal">mysql/mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL社区服务器和
         </font></font><code class="literal">store/oracle/mysql-enterprise-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL企业服务器。）
</font></font></p>
<h5><a name="docker-starting-mysql-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动一个MySQL服务器实例</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用以下命令为MySQL社区服务器启动一个新的Docker容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 -d mysql/mysql-server:<em class="replaceable"><code>tag</code></em></code></strong> </pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用以下命令为MySQL Enterprise Server启动一个新的Docker容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 -d store/oracle/mysql-enterprise-server:<em class="replaceable"><code>tag</code></em></code></strong> </pre><p><font style="vertical-align: inherit;"></font><code class="option">--name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于为您的服务器容器（</font></font><code class="literal">mysql1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在该示例中）</font><font style="vertical-align: inherit;">提供自定义名称</font><font style="vertical-align: inherit;">
        的</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">是可选的; </font><font style="vertical-align: inherit;">如果没有提供容器名称，则会生成一个随机的名称。</font><font style="vertical-align: inherit;">如果指定的名称和标签的Docker镜像没有被较早的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker pull</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker run</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        命令下载，则现在下载该镜像。</font><font style="vertical-align: inherit;">下载完成后，容器的初始化开始，并且在运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker ps</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">时容器将出现在正在运行的容器列表中
         </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>docker ps</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
容器ID图像命令创建状态端口名称</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a24888f0d6f4 mysql / mysql-server“/entrypoint.sh my ...”14秒前上升13秒（健康：启动）3306 / tcp，33060 / tcp mysql1 </font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （</font></font><code class="literal">IMAGE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列读取
         </font></font><code class="literal">mysql/mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL社区服务器和
         </font></font><code class="literal">store/oracle/mysql-enterprise-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL企业服务器。）
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        容器初始化可能需要一些时间。</font><font style="vertical-align: inherit;">当服务器准备好使用时，</font><span class="command"><strong><font style="vertical-align: inherit;">docker ps</font></strong></span><font style="vertical-align: inherit;"> 
        命令</font></font><code class="literal">STATUS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出中的容器</font><font style="vertical-align: inherit;">将从中</font><font style="vertical-align: inherit;">变为
         </font><font style="vertical-align: inherit;">。
      </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><code class="literal">(health: starting)</code><font style="vertical-align: inherit;"></font><code class="literal">(healthy)</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面</font></font><code class="option">-d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker run</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令中</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">
        的</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">使容器在后台运行。</font><font style="vertical-align: inherit;">使用此命令来监视容器的输出：

</font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker logs mysql1</code></strong></pre><p>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        初始化完成后，命令的输出将包含为root用户生成的随机密码; </font><font style="vertical-align: inherit;">例如，使用以下命令检查密码：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>docker logs mysql1 2&gt;&amp;1 | grep GENERATED</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GENERATED ROOT PASSWORD：Axegh3kAJyDLaRuBemecis＆EShOs</font></font></pre><p>
</p>
<h5><a name="docker-connecting-within-container"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从容器内连接到MySQL服务器</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一旦服务器准备就绪，您可以</font><font style="vertical-align: inherit;">在刚启动的MySQL服务器容器中</font><font style="vertical-align: inherit;">运行
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端，并将其连接到MySQL服务器。</font><font style="vertical-align: inherit;">使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker exec -it</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在您启动</font><font style="vertical-align: inherit;">的Docker容器内</font><font style="vertical-align: inherit;">启动一个
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端，如下所示：

</font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker exec -it mysql1 mysql -uroot -p</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

        当被问及时，输入生成的根密码（参见</font><font style="vertical-align: inherit;">上面</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-starting-mysql-server" title="启动一个MySQL服务器实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL服务器实例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的最后一步，</font><font style="vertical-align: inherit;">了解如何找到密码）。</font><font style="vertical-align: inherit;">由于</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        默认情况下</font><font style="vertical-align: inherit;">该
         </font><font style="vertical-align: inherit;">选项为true，因此在将</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font><font style="vertical-align: inherit;">连接
         </font><font style="vertical-align: inherit;">到服务器后，必须通过发出以下语句重置服务器root密码：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>newpassword</code></em>';</code></strong></pre><p><font style="vertical-align: inherit;"></font><em class="replaceable"><code>newpassword</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用您选择的密码</font><font style="vertical-align: inherit;">

        替换</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">密码重置后，服务器即可使用。
</font></font></p>
<h5><a name="docker-shell-access"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器外壳访问</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用shell访问MySQL服务器容器，请使用
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker exec -it</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在容器内启动一个bash shell：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>docker exec -it mysql1 bash</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
bash-4.2＃</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后你可以在容器中运行Linux命令。</font><font style="vertical-align: inherit;">例如，要查看容器内服务器数据目录中的内容，请使用以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">庆典-4.2＃ </font></font><strong class="userinput"><code>ls /var/lib/mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
auto.cnf ca.pem client-key.pem ib_logfile0 ibdata1 mysql mysql.sock.lock private_key.pem server-cert.pem sys</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ca-key.pem client-cert.pem ib_buffer_pool ib_logfile1 ibtmp1 mysql.sock performance_schema public_key.pem server-key.pem</font></font><font></font>
</pre>
<h5><a name="docker-stopping-deleting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止并删除一个MySQL容器</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要停止我们创建的MySQL服务器容器，请使用以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker stop mysql1</code></strong></pre><p>
        <span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker stop</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程</font><font style="vertical-align: inherit;">发送一个SIGTERM信号
        </font><font style="vertical-align: inherit;">，以便服务器正常关闭。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另请注意，当容器的主进程（</font><font style="vertical-align: inherit;">在MySQL服务器容器的情况下为</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）停止时，Docker容器会自动停止。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        再次启动MySQL服务器容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker start mysql1</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        用一个命令停止并重新启动MySQL服务器容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker restart mysql1</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要删除MySQL容器，请先停止它，然后使用
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker rm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker stop mysql1</code></strong></pre><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker rm mysql1</code></strong> </pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您希望</font><font style="vertical-align: inherit;">同时删除</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器数据目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
         </font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;">Docker卷</font></a><font style="vertical-align: inherit;">，请将该</font></font><code class="literal">-v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker rm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令中。
</font></font></p>
<h5><a name="docker-more-topics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关使用Docker部署MySQL服务器的更多主题</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用Docker配置MySQL服务器（如服务器配置，持久数据和配置，服务器错误日志和容器环境变量）的</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-mysql-more-topics" title="2.5.7.2有关使用Docker部署MySQL服务器的更多主题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多主题</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-mysql-more-topics" title="2.5.7.2有关使用Docker部署MySQL服务器的更多主题"><font style="vertical-align: inherit;">第2.5.7.2节“使用Docker部署MySQL服务器的更多主题”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="docker-mysql-more-topics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.7.2有关使用Docker部署MySQL服务器的更多主题</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-optimized-installation" title="Docker的优化MySQL安装"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker的优化MySQL安装</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-configuring-server" title="配置MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置MySQL服务器</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-additional-init" title="运行其他初始化脚本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行其他初始化脚本</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-app-in-another-container" title="从另一个Docker容器中的应用程序连接到MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从另一个Docker容器中的应用程序连接到MySQL</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-server-error-log" title="服务器错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器错误日志</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-environment-variables" title="Docker环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker环境变量</font></font></a></p></li></ul>
</div>
<h5><a name="docker-optimized-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker的优化MySQL安装</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL的Docker镜像针对代码大小进行了优化，这意味着它们只包含关键组件，这些组件与大多数在Docker容器中运行MySQL实例的用户有关。</font><font style="vertical-align: inherit;">MySQL Docker安装在以下几个方面与普通的非Docker安装不同：

</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含的二进制文件仅限于：

</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/时my_print_defaults
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ MySQL的
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysql_config
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysql_install_db的
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysql_tzinfo_to_sql
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysql_upgrade
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/中mysqladmin
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysqlcheck的
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysqldump的
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    在/ usr / bin中/ mysqlpump
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    / usr / sbin目录/ mysqld的
</font></font></p></li></ul>
</div>
<p>
            </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              所有的二进制文件都被删除; </font><font style="vertical-align: inherit;">它们不包含调试信息。
</font></font></p></li></ul>
</div>
<p>
</p>
<h5><a name="docker-configuring-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置MySQL服务器</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当您启动MySQL Docker容器时，您可以通过</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker run</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">将配置选项传递给服务器</font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">例如，对于MySQL社区服务器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name mysql1 -d mysql/mysql-server --character-set-server=utf8mb4 --collation-server=utf8mb4_col</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于MySQL企业服务器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name mysql1 -d store/oracle/mysql-enterprise-server --character-set-server=utf8mb4 --collation-server=utf8mb4_col</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该命令启动MySQL服务器时使用
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认字符集和
         </font></font><code class="literal">utf8mb4_col</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库的默认排序规则。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另一种配置MySQL服务器的方法是准备一个配置文件并将其安装在容器内服务器配置文件的位置。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h5><a name="docker-persisting-data-configuration"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Docker容器原则上是短暂的，如果容器被删除或损坏，任何数据或配置都将丢失（请参阅</font></font><a class="ulink" href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论
         </font><font style="vertical-align: inherit;">）。
        </font><font style="vertical-align: inherit;">然而，</font></font><a class="ulink" href="https://docs.docker.com/engine/admin/volumes/volumes/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker卷</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一种机制来持久化在Docker容器内创建的数据。</font><font style="vertical-align: inherit;">在初始化时，MySQL服务器容器为服务器数据目录创建一个Docker卷。</font><font style="vertical-align: inherit;">用于</font><font style="vertical-align: inherit;">在容器上</font><font style="vertical-align: inherit;">运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker inspect</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">的JSON输出</font><font style="vertical-align: inherit;">具有一个
         </font></font><code class="literal">Mount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键，其值提供有关数据目录卷的信息：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>docker inspect mysql1</code></strong> <font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 “坐骑”：[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “类型”：“音量”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “名称”：“4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “Source”：“/ var / lib / docker / volumes / 4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652 / _data”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “Destination”：“/ var / lib / mysql”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “驱动程序”：“本地”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “模式”：“”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “RW”：是的，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                “传播”：“”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        输出结果显示</font></font><code class="filename">
        /var/lib/docker/volumes/4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652/_data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在主机上持久数据</font><font style="vertical-align: inherit;">的源文件夹</font><font style="vertical-align: inherit;">已安装在
         </font></font><code class="filename">/var/lib/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器内的服务器数据目录中。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        保存数据的另一种方法是
         </font><font style="vertical-align: inherit;">在创建容器时</font><font style="vertical-align: inherit;">
        使用该</font><font style="vertical-align: inherit;">选项</font></font><a class="ulink" href="https://docs.docker.com/engine/reference/commandline/service_create/#add-bind-mounts-or-volumes" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定安装</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机目录</font></font><code class="option">--mount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以使用相同的技术来保持服务器的配置。</font><font style="vertical-align: inherit;">以下命令将创建一个MySQL社区服务器容器并绑定数据目录和服务器配置文件：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/my.cnf</code></em>,dst=/etc/my.cnf \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir</code></em>,dst=/var/lib/mysql \<font></font>
-d mysql/mysql-server:<em class="replaceable"><code>tag</code></em> </code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下命令将创建一个MySQL Enterprise Server容器并绑定数据目录和服务器配置文件：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/my.cnf</code></em>,dst=/etc/my.cnf \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir</code></em>,dst=/var/lib/mysql \<font></font>
-d store/oracle/mysql-enterprise-server:<em class="replaceable"><code>tag</code></em> </code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该命令安装
         </font></font><code class="filename"><em class="replaceable"><code>path-on-host-machine/my.cnf</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="filename"><code class="filename">/etc/my.cnf</code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（容器内的服务器配置文件）和
         </font></font><code class="filename"><em class="replaceable"><code>path-on-host-machine/datadir</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        at </font></font><code class="filename"><code class="filename">/var/lib/mysql</code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（容器内的数据目录）。</font><font style="vertical-align: inherit;">绑定安装必须满足以下条件：

</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置文件
               </font></font><code class="filename"><em class="replaceable"><code>path-on-host-machine/my.cnf</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              必须已经存在，并且必须包含使用用户启动服务器的规范
               </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用户= MySQL的</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              您还可以在文件中包含其他服务器配置选项。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              数据目录
               </font></font><code class="filename"><em class="replaceable"><code>path-on-host-machine/datadir</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              必须已经存在。</font><font style="vertical-align: inherit;">要进行服务器初始化，目录必须为空。</font><font style="vertical-align: inherit;">你也可以挂载一个预填充数据的目录，并用它启动服务器; </font><font style="vertical-align: inherit;">但是，您必须确保使用与创建数据的服务器相同的配置启动Docker容器，并且在启动容器时安装所需的任何主机文件或目录。
</font></font></p></li></ul>
</div>
<p>
</p>
<h5><a name="docker-additional-init"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行其他初始化脚本</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font><font style="vertical-align: inherit;">在创建数据库后立即想要在数据库上运行</font><font style="vertical-align: inherit;">任何</font><font style="vertical-align: inherit;">脚本</font></font><code class="filename">.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="filename">.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本，可以将它们放入主机目录，然后将该目录挂载
         </font></font><code class="filename">/docker-entrypoint-initdb.d/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到容器内。</font><font style="vertical-align: inherit;">例如，对于MySQL社区服务器容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/scripts/</code></em>,dst=/docker-entrypoint-initdb.d/ \<font></font>
-d mysql/mysql-server:<em class="replaceable"><code>tag</code></em></code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于MySQL企业服务器容器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \<font></font>
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/scripts/</code></em>,dst=/docker-entrypoint-initdb.d/ \<font></font>
-d store/oracle/mysql-enterprise-server:<em class="replaceable"><code>tag</code></em></code></strong></pre>
<h5><a name="docker-app-in-another-container"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从另一个Docker容器中的应用程序连接到MySQL</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通过设置Docker网络，您可以允许多个Docker容器相互通信，以便另一个Docker容器中的客户端应用程序可以访问服务器容器中的MySQL服务器。</font><font style="vertical-align: inherit;">首先，创建一个Docker网络：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker network create <em class="replaceable"><code>my-custom-net</code></em></code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后，当您创建并启动服务器和客户端容器时，请使用该</font></font><code class="option">--network</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项将它们放到您创建的网络上。</font><font style="vertical-align: inherit;">当使用MySQL社区服务器容器时：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d mysql/mysql-server</code></strong></pre><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=myapp1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d myapp</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当使用MySQL企业服务器容器时：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d store/oracle/mysql-enterprise-server</code></strong></pre><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker run --name=myapp1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d myapp</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后，</font></font><code class="literal">myapp1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器可以</font></font><code class="literal">mysql1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code class="literal">mysql1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主机名</font><font style="vertical-align: inherit;">连接到
         </font><font style="vertical-align: inherit;">容器，
         </font><font style="vertical-align: inherit;">反之亦然，因为Docker会自动为给定的容器名称设置DNS。</font><font style="vertical-align: inherit;">在以下示例中，我们</font><font style="vertical-align: inherit;">从</font><font style="vertical-align: inherit;">容器</font><font style="vertical-align: inherit;">内</font><font style="vertical-align: inherit;">运行
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><code class="literal">mysq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font></font><code class="literal">myapp1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以连接到</font></font><code class="literal">mysql1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其自己的容器中的</font><font style="vertical-align: inherit;">主机
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>docker exec -it myapp1 mysql --host=mysql1 --user=myuser --password</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关容器的其他联网技术，请参阅</font><font style="vertical-align: inherit;">Docker文档中</font><font style="vertical-align: inherit;">的
         </font></font><a class="ulink" href="https://docs.docker.com/engine/userguide/networking/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker容器联网</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。
</font></font></p>
<h5><a name="docker-server-error-log"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器错误日志</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当第一次启动MySQL服务器时，</font><font style="vertical-align: inherit;">
        如果满足以下任一条件，则不会生成</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器错误日志</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已挂载来自主机的服务器配置文件，但该文件不包含系统变量
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_log_error"><code class="literal">log_error</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请参阅
             </font><font style="vertical-align: inherit;">在绑定挂载服务器配置文件时</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保留数据和配置更改</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            主机的服务器配置文件尚未安装，但Docker环境变量
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            是</font></font><code class="literal">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（该变量的默认状态是MySQL 5.7服务器容器
             </font></font><code class="literal">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">然后将MySQL服务器的错误日志重定向到</font></font><code class="literal">stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便错误日志进入Docker容器的日志，并使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker logs
            </font></font><em class="replaceable"><code>mysqld-container</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            命令</font><font style="vertical-align: inherit;">查看</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当两个条件中的任何一个为真时，为了使MySQL服务器生成一个错误日志，使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项来
         </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker-configuring-server" title="配置MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以在容器内的特定位置生成错误日志。</font><font style="vertical-align: inherit;">要持久保存错误日志，请按照</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改中的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明在容器内的错误日志位置安装主机文件
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，您必须确保您的容器内的MySQL服务器具有对已装入主机文件的写入权限。
</font></font></p>
<h5><a name="docker-environment-variables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker环境变量</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        创建MySQL服务器容器时，可以使用该</font></font><code class="option">--env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项（</font></font><code class="option">-e</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简称）</font><font style="vertical-align: inherit;">配置MySQL实例，</font><font style="vertical-align: inherit;">并指定一个或多个以下环境变量。

</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
笔记
</font></font></div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您装载的数据目录不为空，则下面的任何变量都不会产生任何影响，因为将不会尝试执行服务器初始化（请参阅
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久数据和配置更改</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                以了解更多详细信息）。</font><font style="vertical-align: inherit;">文件夹中的任何预先存在的内容（包括任何旧的服务器设置）在容器启动期间都不会被修改。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                布尔变量，包括
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                通过与非零长度的任何条件设置他们做出正确的。</font><font style="vertical-align: inherit;">因此，将它们设置为例如
                 </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">false</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
                 </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会使它们成为错误，但实际上使它们成为真实。</font><font style="vertical-align: inherit;">这是MySQL Server容器的已知问题。
</font></font></p></li></ul>
</div>

</div>
<p>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="docker_var_mysql_random_root_password"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：如果此变量为true（这是其默认状态，除非
             </font><font style="vertical-align: inherit;">
            设置为true </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为true），则在启动Docker容器时会生成服务器root用户的随机密码。</font><font style="vertical-align: inherit;">密码打印到</font></font><code class="literal">stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器中，可以通过查看容器的日志找到（请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-starting-mysql-server" title="启动一个MySQL服务器实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL服务器实例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
          </font></font></p></li><li class="listitem"><p><a name="docker_var_mysql_onetime_password"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：当变量为真（这是它的默认状态，除非
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置为或
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置为true），root用户的密码设置为过期，并且必须在MySQL正常使用前更改。
          </font></font></p></li><li class="listitem"><p><a name="docker_var_mysql_database"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该变量允许您指定在映像启动时要创建的数据库的名称。</font><font style="vertical-align: inherit;">如果用户名和密码均配备有
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            和
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，创建用户并授予该数据库（对应于超级用户权限</font></font><code class="literal">GRANT ALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">指定的数据库由
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-database" title="13.1.11 CREATE DATABASE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE DATABASE IF NOT EXIST</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句创建，因此如果数据库已存在，则该变量不起作用。
          </font></font></p></li><li class="listitem"><p><a name="docker_var_mysql_user_password"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这些变量结合使用来创建用户并设置该用户的密码，并且该用户被授予超级用户对该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            变量</font><font style="vertical-align: inherit;">指定的数据库的权限
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这两个
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            和
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所需要的用户可以创建，如果有两个变量没有设置，其他被忽略。</font><font style="vertical-align: inherit;">如果两个变量都设置但
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            不是，则创建用户时没有任何权限。

</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                有没有必要使用这种机制创建根超级用户，这是默认与在描述所讨论的机制的任何一个设置密码创建
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                和
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，除非
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                是真的。
</font></font></p>
</div>
<p>
          </p></li><li class="listitem"><p><a name="docker_var_mysql-root-host"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-root-host"><code class="option">MYSQL_ROOT_HOST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：默认情况下，MySQL创建
             </font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户。</font><font style="vertical-align: inherit;">该帐户只能从容器内部连接，如</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-connecting-within-container" title="从容器内连接到MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Container</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的
             </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-connecting-within-container" title="从容器内连接到MySQL服务器"><font style="vertical-align: inherit;">连接到MySQL服务器所述</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要允许来自其他主机的根连接，请设置此环境变量。</font><font style="vertical-align: inherit;">例如，作为
             </font></font><code class="literal">172.17.0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认Docker网关IP的值允许运行容器的主机连接。</font><font style="vertical-align: inherit;">该选项只接受一个条目，但允许使用通配符（例如
             </font></font><code class="option">MYSQL_ROOT_HOST=172.*.*.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="option">MYSQL_ROOT_HOST=%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
          </font></font></p></li><li class="listitem"><p><a name="docker_var_mysql-log-console"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：当变量为true（变量的MySQL 5.7服务器容器的默认状态是
             </font></font><code class="literal">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）时，MySQL服务器的错误日志被重定向到</font></font><code class="literal">stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便错误日志进入Docker容器的日志并且可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker logs
            </font></font><em class="replaceable"><code>mysqld-container</code></em></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            命令</font><font style="vertical-align: inherit;">查看</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果已安装主机的服务器配置文件，则该变量不起作用（请参阅
               </font><font style="vertical-align: inherit;">在绑定挂载配置文件时</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#docker-persisting-data-configuration" title="持久数据和配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保留数据和配置更改</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="docker_var_mysql-root-password"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该变量指定为MySQL根帐户设置的密码。

</font></font></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在命令行上设置MySQL root用户密码是不安全的。</font><font style="vertical-align: inherit;">作为显式指定密码的替代方法，您可以使用容器文件路径为密码文件设置变量，然后从容器文件路径中的主机装入包含密码的文件。</font><font style="vertical-align: inherit;">这仍然不是很安全，因为密码文件的位置仍然暴露。</font><font style="vertical-align: inherit;">最好使用默认设置，
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                并且
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                都是正确的。
</font></font></p>
</div>
<p>
          </p></li><li class="listitem"><p><a name="docker_var_mysql-allow-empty-password"></a>
            <a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">将其设置为true以允许为root用户使用空密码启动容器。

</font></font></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                将此变量设置为true是不安全的，因为它将使MySQL实例完全不受保护，从而允许任何人获得完整的超级用户访问权限。</font><font style="vertical-align: inherit;">最好使用默认设置，
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                并且
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                都是正确的。
</font></font></p>
</div>
<p>
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-native"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.8从本地软件存储库在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      许多Linux发行版在其本地软件存储库中包含MySQL服务器，客户端工具和开发组件的版本，并且可以与平台的标准软件包管理系统一起安装。</font><font style="vertical-align: inherit;">本节提供了使用这些软件包管理系统安装MySQL的基本说明。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本地软件包通常位于当前可用版本之后的几个版本。</font><font style="vertical-align: inherit;">您通常也无法安装开发里程碑版本（DMR），因为这些通常不会在本地存储库中提供。</font><font style="vertical-align: inherit;">在继续之前，我们建议您查看</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation" title="2.5在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5节“在Linux上安装MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍的其他安装选项</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      具体分配说明如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red Hat Linux，Fedora，CentOS</font></font></strong></span>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于许多Linux发行版，您可以使用MySQL Yum存储库而不是平台的本地软件存储库来安装MySQL。</font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
             </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum存储库安装MySQL”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于Red Hat和类似的发行版，MySQL发行版分为许多独立的软件包，
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端工具，
           </font></font><code class="literal">mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和相关工具以及</font></font><code class="literal">mysql-libs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">如果您想要提供来自不同语言和环境（如Perl，Python等）的连接，则这些库是必需的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要进行安装，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令指定</font><font style="vertical-align: inherit;">要安装</font><font style="vertical-align: inherit;">的软件包。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
加载的插件：presto，refresh-packagekit</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置安装过程</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
解决依赖性</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- &gt;运行交易检查</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
---&gt;包mysql.x86_64 0：5.1.48-2.fc13设置为更新</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
---&gt; package mysql-libs.x86_64 0：5.1.48-2.fc13设置为更新</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
---&gt; package mysql-server.x86_64 0：5.1.48-2.fc13设置为更新</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- &gt; Processing Dependency：perl-DBD-MySQL for package：mysql-server-5.1.48-2.fc13.x86_64</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- &gt;运行交易检查</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
---&gt; package perl-DBD-MySQL.x86_64 0：4.017-1.fc13设置为更新</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- &gt;完成依赖关系解决方案</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
解决依赖关系</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
================================================== ==============================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 软件包版本库大小</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
================================================== ==============================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 mysql x86_64 5.1.48-2.fc13更新889 k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 mysql-libs x86_64 5.1.48-2.fc13更新1.2 M</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 mysql-server x86_64 5.1.48-2.fc13更新8.1 M</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装依赖关系：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 perl-DBD-MySQL x86_64 4.017-1.fc13更新136 k</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交易摘要</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
================================================== ==============================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装4套餐</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
升级0套餐</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总下载大小：10 M</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装尺寸：30米</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这可以吗[y / N]：y</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下载软件包：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置和读取Presto delta元数据</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
处理增量元数据</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
打包数据仍需下载：10米</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（1/4）：mysql-5.1.48-2.fc13.x86_64.rpm | </font><font style="vertical-align: inherit;">889 kB 00:04</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（2/4）：mysql-libs-5.1.48-2.fc13.x86_64.rpm | </font><font style="vertical-align: inherit;">1.2 MB 00:06</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（3/4）：mysql-server-5.1.48-2.fc13.x86_64.rpm | </font><font style="vertical-align: inherit;">8.1 MB 00:40</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（4/4）：perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm | </font><font style="vertical-align: inherit;">136 kB 00:00</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- ------------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总计201 kB / s | </font><font style="vertical-align: inherit;">10 MB 00:52</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
运行rpm_check_debug</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
运行事务测试</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交易测试成功</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
运行事务</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  安装：mysql-libs-5.1.48-2.fc13.x86_64 1/4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  安装：mysql-5.1.48-2.fc13.x86_64 2/4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  安装：perl-DBD-MySQL-4.017-1.fc13.x86_64 3/4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  安装：mysql-server-5.1.48-2.fc13.x86_64 4/4</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  mysql.x86_64 0：5.1.48-2.fc13 mysql-libs.x86_64 0：5.1.48-2.fc13</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  mysql-server.x86_64 0：5.1.48-2.fc13</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装依赖项：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  perl-DBD-MySQL.x86_64 0：4.017-1.fc13</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成！</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          现在应该安装MySQL和MySQL服务器。</font><font style="vertical-align: inherit;">示例配置文件被安装到
           </font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一个用于启动和停止服务器的init脚本将被安装进去
           </font></font><code class="filename">/etc/init.d/mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要启动MySQL服务器使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root-shell&gt; service mysqld start
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要使服务器在启动过程中自动启动和停止，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chkconfig</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root-shell&gt; chkconfig --levels 235 mysqld on
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这使MySQL服务器能够在指定的运行级别自动启动（和停止）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果数据库表不存在，数据库表将自动为您创建。</font><font style="vertical-align: inherit;">但是，您应该运行
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以在您的服务器上设置root密码。
        </font></font></p></li><li class="listitem"><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debian，Ubuntu，Kubuntu</font></font></strong></span>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在Debian，Ubuntu和Kubuntu上，可以使用</font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL APT Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是平台的本地软件存储库</font><font style="vertical-align: inherit;">来安装</font><a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top"><font style="vertical-align: inherit;">MySQL</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
             </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;">第2.5.3节“使用MySQL APT存储库在Linux上安装MySQL”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Debian和相关发行，有两个包为MySQL在他们的软件库，
           </font></font><code class="literal">mysql-client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，分别为客户端和服务器组件。</font><font style="vertical-align: inherit;">例如</font></font><code class="literal">mysql-client-5.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">您应该指定一个明确的版本，</font><font style="vertical-align: inherit;">以确保您安装所需的MySQL版本。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要下载和安装（包括任何依赖项），请使用
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-get</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，指定要安装的软件包。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在安装之前，请确保您更新
             </font></font><code class="literal">apt-get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引文件以确保您正在下载最新的可用版本。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL包的示例安装可能如下所示（为了清楚起见，修剪了一些章节）：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root-shell&gt; apt-get install mysql-client-5.1 mysql-server-5.1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正在读取软件包列表...完成</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
建立依赖关系树</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
阅读状态信息...完成</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下软件包已自动安装，不再需要：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用'apt-get autoremove'来删除它们。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下额外的软件包将被安装：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  mysql-common postfix</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
建议的套餐：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下新软件包将被安装</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  mysql-client-5.1 mysql-common mysql-server-5.1 postfix</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0升级，13新安装，0删除和182未升级。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
需要获得1907kB / 25.3MB的档案。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成此操作后，将使用59.5MB的额外磁盘空间。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
你想继续[Y / N]吗？</font><font style="vertical-align: inherit;">ÿ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
获取：1 http://gb.archive.ubuntu.com jaunty-updates / main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
获取：2 http://gb.archive.ubuntu.com jaunty-updates / main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9秒内获取1907kB（205kB / s）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
预先配置软件包...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选择以前取消选择的包mysql-common。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（正在读取数据库... 121260当前安装的文件和目录。）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
处理1添加了doc-base文件（s）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用scrollkeeper注册文档...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libnet-daemon-perl（0.43-1）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libplrpc-perl（0.2020-1）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libdbi-perl（1.607-1）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libmysqlclient15off（5.1.30really5.0.75-0ubuntu10.5）...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libdbd-mysql-perl（4.008-1）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置libmysqlclient16（5.1.31-1ubuntu2）...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置mysql-client-5.1（5.1.31-1ubuntu2）...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置mysql-server-5.1（5.1.31-1ubuntu2）...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 *停止MySQL数据库服务器mysqld</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   ...完成。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2013-09-24T13：03：09.048353Z 0 [注] InnoDB：5.7.23开始; </font><font style="vertical-align: inherit;">日志序列号1566036</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2013-09-24T13：03：10.057269Z 0 [注] InnoDB：启动关机...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2013-09-24T13：03：10.857032Z 0 [注] InnoDB：关机完成; </font><font style="vertical-align: inherit;">日志序列号1566036</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 *启动MySQL数据库服务器mysqld</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   ...完成。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 *检查损坏，不干净关闭和升级需要表。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
处理libc6的触发器...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在正在发生ldconfig延期处理</font></font><font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apt-get的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令会安装一些软件包，包括MySQL服务器，以提供典型的工具和应用环境。</font><font style="vertical-align: inherit;">这可能意味着除了主MySQL包之外，还安装了大量的包。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在安装过程中，将创建初始数据库，并提示您输入MySQL根密码（和确认）。</font><font style="vertical-align: inherit;">配置文件将被创建在
           </font></font><code class="filename">/etc/mysql/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一个初始化脚本将被创建在</font></font><code class="filename">/etc/init.d/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器已经启动。</font><font style="vertical-align: inherit;">您可以使用以下方式手动启动和停止服务器：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root-shell&gt;服务mysql [开始|停止]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该服务将自动添加到2,3和4个运行级别，停止脚本处于单个关机和重启级别。

          
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-juju"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.9使用Juju在Linux上安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      Juju部署框架支持MySQL服务器的简单安装和配置。</font><font style="vertical-align: inherit;">有关说明，请参阅
       </font></font><a class="ulink" href="https://jujucharms.com/mysql/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://jujucharms.com/mysql/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="using-systemd"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5.10使用systemd管理MySQL服务器</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528184897248"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您在以下Linux平台上使用RPM或Debian软件包安装MySQL，则服务器启动和关闭由systemd管理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          RPM软件包平台：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              红帽企业Linux 7; </font><font style="vertical-align: inherit;">Oracle Linux 7; </font><font style="vertical-align: inherit;">CentOS 7
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              SUSE Linux Enterprise Server 12
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Fedora 26和27
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Debian软件包平台：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Debian 8或更高版本
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Ubuntu 16或更高版本
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您从使用systemd的平台上的源代码发行版安装MySQL，请使用</font><span class="command"><strong><font style="vertical-align: inherit;">CMake</font></strong></span><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">配置该分发版，以获得对MySQL的systemd支持
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-configuration-options" title="2.9.4 MySQL源配置选项"><font style="vertical-align: inherit;">第2.9.4节“MySQL源配置选项”</font></a><font style="vertical-align: inherit;">。
    </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_systemd"><code class="option">-DWITH_SYSTEMD=1</code></a>
      <span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-configuration-options" title="2.9.4 MySQL源配置选项"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下讨论涵盖这些主题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#systemd-overview" title="systemd概述"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd概述</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#systemd-mysql-configuration" title="为MySQL配置systemd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为MySQL配置systemd</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#systemd-multiple-mysql-instances" title="使用systemd配置多个MySQL实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用systemd配置多个MySQL实例</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysqld-safe-to-systemd-migration" title="从mysqld_safe迁移到systemd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从mysqld_safe迁移到systemd</font></font></a></p></li></ul>
</div>

<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在安装了对systemd支持MySQL的平台上，</font><font style="vertical-align: inherit;">不需要</font><font style="vertical-align: inherit;">安装诸如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和System V初始化脚本之类的脚本。</font><font style="vertical-align: inherit;">例如，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以处理服务器重新启动，但systemd提供相同的功能，并且以与其他服务的管理一致的方式执行，而不是使用特定于应用程序的程序。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于systemd能够在安装有对systemd的MySQL安装支持的平台上管理多个MySQL实例，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-multi" title="4.3.4 mysqld_multi  - 管理多个MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要</font><font style="vertical-align: inherit;">安装</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-multi" title="4.3.4 mysqld_multi  - 管理多个MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld_multi</font></strong></span></a><font style="vertical-align: inherit;">和
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_multi.server</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="systemd-overview"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd概述</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        systemd提供了自动的MySQL服务器启动和关闭。</font><font style="vertical-align: inherit;">它还可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">启用手动服务器管理
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl {start | stop | restart | status} mysqld
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，使用</font><font style="vertical-align: inherit;">与System V系统兼容</font><font style="vertical-align: inherit;">的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令（使参数颠倒）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务mysqld {开始|停止|重新启动|状态}
</font></font></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，如果MySQL服务名称不是</font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用适当的名称。</font><font style="vertical-align: inherit;">例如，使用</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于Debian和SLES系统。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对systemd的支持包括这些文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">mysqld.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（RPM平台）
             </font></font><code class="filename">mysql.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian平台）：systemd服务单元配置文件，以及有关MySQL服务的详细信息。
          </font></font></p></li><li class="listitem"><p>
            <code class="filename">mysqld@.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（RPM平台）
             </font></font><code class="filename">mysql@.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian平台）：
             </font></font><code class="filename">mysqld.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
             </font></font><code class="filename">mysql.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但用于管理多个MySQL实例。
          </font></font></p></li><li class="listitem"><p>
            <code class="filename">mysqld.tmpfiles.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：包含支持该</font></font><code class="literal">tmpfiles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            功能的</font><font style="vertical-align: inherit;">信息的文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该文件安装在名称下
             </font></font><code class="filename">mysql.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="filename">mysqld_pre_systemd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（RPM平台）
             </font></font><code class="filename">mysql-system-start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian平台）：单元文件的支持脚本。</font><font style="vertical-align: inherit;">只有在日志位置符合模式（</font></font><code class="literal">/var/log/mysql*.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于RPM平台，</font></font><code class="literal">/var/log/mysql/*.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于Debian平台）时</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">此脚本才有助于创建错误日志文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在其他情况下，错误日志目录必须是可写的，或者错误日志必须存在并可写入运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            进程</font><font style="vertical-align: inherit;">的用户</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="systemd-mysql-configuration"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为MySQL配置systemd</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要为MySQL添加或更改systemd选项，这些方法可用：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用本地化的systemd配置文件。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            安排systemd为MySQL服务器进程设置环境变量。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置</font></font><code class="literal">MYSQLD_OPTS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd变量。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用本地化的systemd配置文件，请创建
         </font></font><code class="filename">/etc/systemd/system/mysqld.service.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        目录（如果它不存在）。</font><font style="vertical-align: inherit;">在该目录中，创建一个包含</font></font><code class="literal">[Service]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出所需设置</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">的文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[服务]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LimitNOFILE = </font></font><em class="replaceable"><code>max_open_files</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PIDFile = </font></font><em class="replaceable"><code>/path/to/pid/file</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nice = </font></font><em class="replaceable"><code>nice_level</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LimitCore = </font></font><em class="replaceable"><code>core_file_limit</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Environment =“LD_PRELOAD = </font></font><em class="replaceable"><code>/path/to/malloc/library</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Environment =“TZ = </font></font><em class="replaceable"><code>time_zone_setting</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里的讨论使用</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个文件的名字。</font><font style="vertical-align: inherit;">systemd的较新版本支持以下命令，该命令将打开一个编辑器并允许您编辑该文件：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl编辑mysqld＃RPM平台</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl编辑mysql＃Debian平台</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        无论何时创建或更改
         </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请重新加载systemd配置，然后告诉systemd重新启动MySQL服务：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl守护进程重新加载</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl restart mysqld＃RPM平台</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl重启mysql＃Debian平台</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用systemd时，</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置方法必须用于某些参数，而不是</font><font style="vertical-align: inherit;">MySQL选项文件</font><font style="vertical-align: inherit;">中的a </font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组中的</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于一些参数，</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须使用，因为systemd本身必须知道它们的值，并且它不能读取MySQL选项文件来获取它们。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            只有使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知选项才能指定值的参数</font><font style="vertical-align: inherit;">必须使用systemd指定，因为没有相应的
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用systemd而不是</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他信息
         </font><font style="vertical-align: inherit;">，请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysqld-safe-to-systemd-migration" title="从mysqld_safe迁移到systemd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从mysqld_safe迁移到systemd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以在以下参数中设置以下参数
         </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要指定进程ID文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                从MySQL 5.7.10开始：使用
                 </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并更改它们
                 </font></font><code class="literal">PIDFile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
                 </font></font><code class="literal">ExecStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名PID文件路径名。</font><font style="vertical-align: inherit;">MySQL选项文件中的进程ID文件的任何设置都将被忽略。</font><font style="vertical-align: inherit;">要修改
                 </font></font><code class="literal">ExecStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，必须先清除它。</font><font style="vertical-align: inherit;">例如：
              </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[服务]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PIDFILE =在/ var /运行/ mysqld的/ mysqld-custom.pid</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ExecStart =</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ExecStart = / usr / sbin / mysqld --daemonize --pid-file = / var / run / mysqld / mysqld-custom.pid $ MYSQLD_OPTS</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在MySQL 5.7.10之前：</font></font><code class="literal">PIDFile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
                 </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">或
                 </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;">mysqld_safe中</font></strong></span></a><font style="vertical-align: inherit;">使用</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_pid-file"><code class="option">--pid-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">systemd必须知道PID文件的位置，以便它可以重新启动或停止服务器。</font><font style="vertical-align: inherit;">如果在MySQL选项文件中指定了PID文件值，则该值必须与该</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">匹配，
                 </font><font style="vertical-align: inherit;">否则MySQL启动可能会失败。
</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">PIDFile</code><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要设置提供给MySQL服务器的文件描述符的数量，使用</font></font><code class="literal">LimitNOFILE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
             </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不是
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_open-files-limit"><code class="option">--open-files-limit</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">供选择
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要设置最大核心转储文件大小，使用
             </font></font><code class="literal">LimitCore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
             </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不是
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_core-file-size"><code class="option">--core-file-size</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">供选择</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要设置MySQL服务器的调度优先级，使用
             </font></font><code class="literal">Nice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
             </font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不是
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_nice"><code class="option">--nice</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">供选择
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一些MySQL参数使用环境变量进行配置：
</font></font></p><a class="indexterm" name="idm140528184790704"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">LD_PRELOAD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：如果MySQL服务器应该使用特定的内存分配库，请设置此变量。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">TZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：设置此变量以指定服务器的默认时区。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有多种方式指定由systemd管理的MySQL服务器进程使用的环境变量值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">Environment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">
            使用</font><font style="vertical-align: inherit;">行
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关语法，请参阅前面讨论中的示例，该示例描述如何使用此文件。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            指定</font></font><code class="filename">/etc/sysconfig/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">的值
             </font><font style="vertical-align: inherit;">（如果该文件不存在，则创建该文件）。</font><font style="vertical-align: inherit;">使用以下语法分配值：
          </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LD_PRELOAD = </font></font><em class="replaceable"><code>/path/to/malloc/library</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TZ =</font></font><em class="replaceable"><code>time_zone_setting</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            修改后</font></font><code class="filename">/etc/sysconfig/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，重新启动服务器以使更改生效：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl restart mysqld＃RPM平台</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl重启mysql＃Debian平台</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要直接指定</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">而不修改systemd配置文件，请设置或取消设置
         </font></font><code class="literal">MYSQLD_OPTS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd变量。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl set-environment MYSQLD_OPTS =“ -  general_log = 1”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl unset-environment MYSQLD_OPTS</font></font><font></font>
</pre><p>
        <code class="literal">MYSQLD_OPTS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以在</font></font><code class="filename">/etc/sysconfig/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">设置
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        修改systemd环境后，重新启动服务器以使更改生效：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl restart mysqld＃RPM平台</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl重启mysql＃Debian平台</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于使用systemd的平台，如果服务器启动时为空，则数据目录将被初始化。</font><font style="vertical-align: inherit;">如果数据目录是暂时消失的远程挂载，则这可能是一个问题：挂载点看起来像一个空的数据目录，然后它将被初始化为一个新的数据目录。</font><font style="vertical-align: inherit;">从MySQL 5.7.20开始，为了抑制这种自动初始化行为，请在</font></font><code class="filename">/etc/sysconfig/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">指定以下行
         </font><font style="vertical-align: inherit;">（如果该文件不存在，则创建该文件）：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NO_INIT =真
</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="systemd-multiple-mysql-instances"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用systemd配置多个MySQL实例</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何为多个MySQL实例配置systemd。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          由于systemd能够在安装有systemd支持的平台上管理多个MySQL实例，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-multi" title="4.3.4 mysqld_multi  - 管理多个MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要</font><font style="vertical-align: inherit;">安装
           </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-multi" title="4.3.4 mysqld_multi  - 管理多个MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld_multi</font></strong></span></a><font style="vertical-align: inherit;">和
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_multi.server</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于RPM平台，MySQL 5.7.13是正确的，对于Debian平台是5.7.19。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用多实例功能，请修改
         </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件以包含每个实例的密钥选项配置。</font><font style="vertical-align: inherit;">这些文件位置是典型的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="filename">/etc/mysql/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（RPM平台）
          </font></font></p></li><li class="listitem"><p>
            <code class="filename">/etc/mysql/mysql.conf.d/mysqld.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            （Debian平台）
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例如，要管理两个名为实例
         </font></font><code class="literal">replica01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">replica02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，加上像这样的选项文件：
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        RPM平台：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld @ replica01]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR =的/ var / lib中/ MySQL的-replica01</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插座=的/ var / lib中/ MySQL的-replica01 /的mysql.sock</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端口= 3307</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对数误差=的/ var /数/的mysqld-replica01.log</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的[mysqld @ replica02]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR =的/ var / lib中/ MySQL的-replica02</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插座=的/ var / lib中/ MySQL的-replica02 /的mysql.sock</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端口= 3308</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对数误差=的/ var /数/的mysqld-replica02.log</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Debian平台：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld @ replica01]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR =的/ var / lib中/ MySQL的-replica01</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插座=的/ var / lib中/ MySQL的-replica01 /的mysql.sock</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端口= 3307</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对数误差=的/ var /日志/ MySQL的/ replica01.log</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的[mysqld @ replica02]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR =的/ var / lib中/ MySQL的-replica02</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插座=的/ var / lib中/ MySQL的-replica02 /的mysql.sock</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端口= 3308</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对数误差=的/ var /日志/ MySQL的/ replica02.log</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里显示的副本名称</font></font><code class="literal">@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作分隔符，因为这是systemd支持的唯一分隔符。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后，实例由普通的systemd命令管理，例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl启动mysqld @ replica01</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl启动mysqld @ replica02</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要启动实例在引导时运行，请执行以下操作：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl启用mysqld @ replica01</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemctl启用mysqld @ replica02</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        也支持使用通配符。</font><font style="vertical-align: inherit;">例如，该命令显示所有副本实例的状态：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl status'mysqld @ replica *'
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了管理同一台机器上的多个MySQL实例，systemd会自动使用不同的单元文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">mysqld@.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
             </font></font><code class="filename">mysqld.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（RPM平台）
          </font></font></p></li><li class="listitem"><p>
            <code class="filename">mysql@.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
             </font></font><code class="filename">mysql.service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Debian平台）
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在单元文件，</font></font><code class="literal">%I</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">%i</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用之后经过在参数</font></font><code class="literal">@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记，并用于管理该特定的实例。</font><font style="vertical-align: inherit;">对于这样的命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemctl启动mysqld @ replica01
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        systemd使用如下命令启动服务器：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --defaults-group-suffix = @％I ... 
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        其结果是，</font></font><code class="literal">[server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><code class="literal">[mysqld@replica01]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项组被读取并用于服务的该实例。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Debian平台上，AppArmor阻止服务器读取或写入</font></font><code class="filename">/var/lib/mysql-replica*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者默认位置以外的任何内容。</font><font style="vertical-align: inherit;">要解决这个问题，您必须自定义或禁用该配置文件
           </font></font><code class="filename">/etc/apparmor.d/usr.sbin.mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Debian平台上，用于MySQL卸载的打包脚本目前不能处理
           </font></font><code class="literal">mysqld@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例。</font><font style="vertical-align: inherit;">在删除或升级软件包之前，您必须先手动停止任何额外的实例。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysqld-safe-to-systemd-migration"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从mysqld_safe迁移到systemd</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未安装在使用systemd管理MySQL的平台上，因此</font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须以另一种方式指定</font><font style="vertical-align: inherit;">先前为该程序指定的选项（例如，在
         </font><font style="vertical-align: inherit;">选项组中）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一些</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项也可以被</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解，</font><font style="vertical-align: inherit;">并且可以从</font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项组移到</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组中。</font><font style="vertical-align: inherit;">这并
             </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_pid-file"><code class="option">--pid-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_open-files-limit"><code class="option">--open-files-limit</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_nice"><code class="option">--nice</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要指定这些选项，请使用</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前面描述</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">systemd文件。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于一些</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，有类似的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">用于启用</font><font style="vertical-align: inherit;">日志记录
             </font><font style="vertical-align: inherit;">的
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
             </font><font style="vertical-align: inherit;">已被弃用。</font><font style="vertical-align: inherit;">对于</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">，请
             </font><font style="vertical-align: inherit;">改用系统变量。</font><font style="vertical-align: inherit;">有关详细信息，请参见</font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;">第5.4.2节“错误日志”</font></a><font style="vertical-align: inherit;">。
          </font></font><code class="literal">syslog</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_syslog"><code class="option">--syslog</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_log_syslog"><code class="literal">log_syslog</code></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p>
            <a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能被</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解的</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"> mysqld_safe</font></strong></span></a><font style="vertical-align: inherit;">选项
            </font><font style="vertical-align: inherit;">可以在</font></font><code class="filename">override.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量中</font><font style="vertical-align: inherit;">指定
            </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，对于</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果服务器应使用特定的内存分配库，则使用该</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_malloc-lib"><code class="option">--malloc-lib</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">指定
            </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于使用systemd管理服务器的安装，请改为设置</font></font><code class="literal">LD_PRELOAD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量，如前所述。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="uln-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6使用Unbreakable Linux网络安装MySQL（ULN）</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Linux支持许多不同的安装MySQL的解决方案，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation" title="2.5在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5节“在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本节介绍的其中一种方法是从Oracle的Unbreakable Linux Network（ULN）进行安装。</font><font style="vertical-align: inherit;">您可以在</font></font><a class="ulink" href="http://linux.oracle.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://linux.oracle.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下找到有关Oracle Linux和ULN的信息</font><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要使用ULN，您需要获得ULN登录并注册用于ULN安装的机器。</font><font style="vertical-align: inherit;">这在</font></font><a class="ulink" href="https://linux.oracle.com/uln_faq.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ULN FAQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中有详细描述
     </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该页面还介绍了如何安装和更新软件包。MySQL软件包</font><font style="vertical-align: inherit;">位于ULN系统体系结构</font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL for Oracle Linux 6</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
     </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL for Oracle Linux 7</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通道中。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在撰写本文时，ULN为Oracle Linux 6和Oracle Linux 7提供了MySQL 5.7。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    一旦使用ULN安装了MySQL，就可以在</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#linux-installation-native" title="2.5.8从本地软件存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到有关启动和停止服务器的信息等
     </font><font style="vertical-align: inherit;">，特别是在</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm" title="2.5.5在Linux上安装MySQL使用Oracle的RPM软件包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.5节“使用Oracle的RPM软件包在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果您正在使用ULN将现有MySQL安装更新为安装，则建议的过程是使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出数据
     </font><font style="vertical-align: inherit;">，移除现有安装，从ULN安装MySQL，并将导出的数据加载到新安装的MySQL中。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果您要升级的现有MySQL安装来自以前的发行版系列（在MySQL 5.7之前），请确保阅读有关升级MySQL的部分，</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading" title="2.11.1升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1节“升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="solaris-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7在Solaris上安装MySQL</font></font></h2>

</div>

</div>

</div>

<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#solaris-installation-pkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7.1使用Solaris PKG在Solaris上安装MySQL</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528184685616"></a><a class="indexterm" name="idm140528184684160"></a><a class="indexterm" name="idm140528184682704"></a><a class="indexterm" name="idm140528184681216"></a><a class="indexterm" name="idm140528184680128"></a><a class="indexterm" name="idm140528184678640"></a><a class="indexterm" name="idm140528184677184"></a><a class="indexterm" name="idm140528184675696"></a><a class="indexterm" name="idm140528184674624"></a>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL 5.7支持Solaris 11（Update 3和更高版本）。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Solaris上的MySQL有多种不同的格式。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关使用本机Solaris PKG格式进行安装的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#solaris-installation-pkg" title="2.7.1使用Solaris PKG在Solaris上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.7.1节“使用Solaris PKG在Solaris上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要使用标准</font></font><code class="literal">tar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制安装，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的注释</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">查看本节末尾的注释和提示，以获取在安装之前或之后可能需要的Solaris特定注释。
</font></font></p></li></ul>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      安装包依赖于Oracle Developer Studio 12.5运行时库，在运行MySQL安装包之前必须安装它们。</font><font style="vertical-align: inherit;">在</font></font><a class="ulink" href="http://www.oracle.com/technetwork/server-storage/developerstudio/downloads/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看Oracle Developer Studio的下载选项
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">安装包允许您仅安装运行时库而不是完整的Oracle Developer Studio; </font><font style="vertical-align: inherit;">请参阅“
       </font></font><a class="ulink" href="https://docs.oracle.com/cd/E60778_01/html/E60743/gozsu.html#scrolltoc" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在Oracle Solaris 11上安装运行时库”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要以tarball或PKG格式获取Solaris的二进制MySQL发行版，请访问
     </font></font><a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.7.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/mysql/5.7.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    在Solaris上安装和使用MySQL时需要注意的其他注意事项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您想要将MySQL与</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户和组一起使用，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">groupadd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">groupadd mysql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
useradd -g mysql -s / bin / false mysql</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您在Solaris上使用二进制tarball分发安装MySQL，由于Solaris </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法处理长文件名，请使用GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        （</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gtar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）解压分发。</font><font style="vertical-align: inherit;">如果您</font><font style="vertical-align: inherit;">的系统上</font><font style="vertical-align: inherit;">没有GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用以下命令安装它：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkg安装存档器/ gnu-tar
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您应该</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用该</font></font><code class="literal">forcedirectio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">安装您打算存储</font><font style="vertical-align: inherit;">文件的
         </font><font style="vertical-align: inherit;">任何文件系统
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（默认情况下，挂载是在没有此选项的情况下完成的。）</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此平台上</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">时，未能这样做会导致性能显着下降
         </font><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果你想让MySQL自动启动，可以复制
         </font></font><code class="filename">support-files/mysql.server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
         </font></font><code class="filename">/etc/init.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和创建符号链接给它命名</font></font><code class="filename">/etc/rc3.d/S99mysql.server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果太多的进程试图非常快速地连接到
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，你应该在MySQL日志中看到这个错误：
      </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受中的错误：协议错误
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以尝试使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_back_log"><code class="option">--back_log=50</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动服务器，
         </font><font style="vertical-align: inherit;">作为解决方法。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要在Solaris上配置核心文件的生成，您应该使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coreadm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">由于在</font></font><code class="literal">setuid()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序</font><font style="vertical-align: inherit;">上生成核心所带来的安全隐患
         </font><font style="vertical-align: inherit;">，默认情况下，Solaris不支持</font></font><code class="literal">setuid()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        程序</font><font style="vertical-align: inherit;">上的核心文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，您可以使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coreadm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改此行为
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><code class="literal">setuid()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为当前用户</font><font style="vertical-align: inherit;">启用
         </font><font style="vertical-align: inherit;">核心文件，则它们将使用模式600生成并由超级用户拥有。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="solaris-installation-pkg"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7.1使用Solaris PKG在Solaris上安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用本地Solaris PKG格式的二进制包而不是二进制tarball发行版在Solaris上安装MySQL。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装包依赖于Oracle Developer Studio 12.5 Runtime Libraries，它必须在运行MySQL安装包之前安装。</font><font style="vertical-align: inherit;">在</font></font><a class="ulink" href="http://www.oracle.com/technetwork/server-storage/developerstudio/downloads/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看Oracle Developer Studio的下载选项
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">安装包允许您仅安装运行时库而不是完整的Oracle Developer Studio; </font><font style="vertical-align: inherit;">请参阅“
         </font></font><a class="ulink" href="https://docs.oracle.com/cd/E60778_01/html/E60743/gozsu.html#scrolltoc" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在Oracle Solaris 11上安装运行时库”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用此软件包，请下载相应的
       </font></font><code class="filename">mysql-VERSION-solaris11-PLATFORM.pkg.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，然后解压缩。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gunzip mysql-<em class="replaceable"><code>5.7.23</code></em>-solaris11-x86_64.pkg.gz</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要安装新软件包，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkgadd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并按照屏幕上的提示操作。</font><font style="vertical-align: inherit;">您必须拥有root权限才能执行此操作：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.7.23</code></em>-solaris11-x86_64.pkg</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下包可用：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  1 mysql MySQL社区服务器（GPL）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               （i86pc）5.7.23</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选择你想要处理的包（或“全部”）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所有包）。</font><font style="vertical-align: inherit;">（默认：全部）[？，??，q]：</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      PKG安装程序安装所需的所有文件和工具，然后在数据库不存在的情况下初始化数据库。</font><font style="vertical-align: inherit;">要完成安装，应该按照安装结束时的说明中的说明设置MySQL的root密码。</font><font style="vertical-align: inherit;">或者，您可以运行</font><font style="vertical-align: inherit;">安装随附</font><font style="vertical-align: inherit;">的
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，PKG包在根路径下安装MySQL
       </font></font><code class="filename">/opt/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkgadd时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">只能更改安装根路径</font><font style="vertical-align: inherit;">，可以</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">pkgadd</font></strong></span><font style="vertical-align: inherit;">在不同的Solaris区域中安装MySQL。</font><font style="vertical-align: inherit;">如果您需要安装在特定目录中，请使用二进制
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件分发。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">pkg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装程序将适当的启动脚本为MySQL成</font></font><code class="literal">/etc/init.d/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要使MySQL自动启动和关闭，您应该在该文件和init脚本目录之间创建一个链接。</font><font style="vertical-align: inherit;">例如，为确保MySQL安全启动和关闭，您可以使用以下命令添加正确的链接：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc3.d/S91mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc0.d/K02mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要删除MySQL，安装的软件包名称是
       </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以将其与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkgrm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">结合使用
       </font><font style="vertical-align: inherit;">以删除安装。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要在使用Solaris软件包文件格式时进行升级，必须在安装更新的软件包之前删除现有的安装。</font><font style="vertical-align: inherit;">删除软件包不会删除现有的数据库信息，只会删除服务器，二进制文件和支持文件。</font><font style="vertical-align: inherit;">典型的升级顺序是：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysqladmin shutdown</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>pkgrm mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.7.23</code></em>-solaris11-x86_64.pkg</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>mysqld_safe &amp;</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行任何升级之前</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-downgrading" title="2.11升级或降级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      您应该检查</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-downgrading" title="2.11 Upgrading or Downgrading MySQL"><font style="vertical-align: inherit;">第2.11节“升级或降级MySQL”中</font></a><font style="vertical-align: inherit;">的注释
       </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="freebsd-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8在FreeBSD上安装MySQL</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本节提供有关在FreeBSD Unix变体上安装MySQL的信息。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    您可以使用Oracle提供的二进制发行版在FreeBSD上安装MySQL。</font><font style="vertical-align: inherit;">有关更多信息，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    安装MySQL最简单（也是首选）的方法是使用</font><a class="ulink" href="http://www.freebsd.org/" target="_top"><font style="vertical-align: inherit;">http://www.freebsd.org/上</font></a><font style="vertical-align: inherit;"> 
    提供</font><font style="vertical-align: inherit;">的
     </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">mysql-client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ports </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用这些端口为您提供以下好处：
</font></font><a class="ulink" href="http://www.freebsd.org/" target="_top"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        已启用所有优化的工作MySQL已知可用于您的FreeBSD版本。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        自动配置和构建。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        启动脚本安装在
         </font></font><code class="filename">/usr/local/etc/rc.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        能够使用</font></font><code class="literal">pkg_info -L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看安装哪些文件。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">pkg_delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不希望在您的计算机上</font><font style="vertical-align: inherit;">
        使用</font><font style="vertical-align: inherit;">MySQL，则可以</font><font style="vertical-align: inherit;">使用它</font><font style="vertical-align: inherit;">来删除MySQL。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL构建过程需要GNU make（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gmake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）才能工作。</font><font style="vertical-align: inherit;">如果GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不可用，那么在编译MySQL之前必须先安装它。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    使用ports系统进行安装：
  </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃cd / usr / ports / databases / mysql57-server</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃make</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃cd / usr / ports / databases / mysql57-client</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃make</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    标准端口安装将服务器放入
     </font></font><code class="filename">/usr/local/libexec/mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，放入MySQL服务器的启动脚本
     </font></font><code class="filename">/usr/local/etc/rc.d/mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    关于BSD实现的一些附加说明：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用ports系统安装后删除MySQL：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃cd / usr / ports / databases / mysql57-server</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃使卸载</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃cd / usr / ports / databases / mysql57-client</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃使卸载</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果你在MySQL中遇到当前日期的问题，设置</font></font><code class="literal">TZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量应该</font><font style="vertical-align: inherit;">会有
         </font><font style="vertical-align: inherit;">帮助。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#environment-variables" title="4.9 MySQL程序环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.9节“MySQL程序环境变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="source-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9从源代码安装MySQL</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-installation-layout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.1源代码安装的MySQL布局</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installing-source-distribution"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.2使用标准源分布安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#installing-development-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.3使用开发源树安装MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-configuration-options"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.4 MySQL源配置选项</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#compilation-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.5处理编译MySQL的问题</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#source-configuration-third-party"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.6 MySQL配置和第三方工具</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528184583152"></a><a class="indexterm" name="idm140528184581696"></a><a class="indexterm" name="idm140528184580208"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    从源代码构建MySQL使您能够自定义构建参数，编译器优化和安装位置。</font><font style="vertical-align: inherit;">有关已知运行MySQL的系统列表，请参阅
     </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/database.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    在继续从源代码安装之前，请检查Oracle是否为您的平台生成了预编译的二进制分发版本，以及它是否适用于您。</font><font style="vertical-align: inherit;">我们花费了大量精力确保我们的二进制文件具有最佳性能的最佳选项。</font><font style="vertical-align: inherit;">有关安装二进制发行版的说明，请参见
     </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用非标准选项构建MySQL可能会导致功能，性能或安全性降低。
</font></font></p>
</div>
<h3><a name="idm140528184575568"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源安装方法</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有两种从源代码安装MySQL的方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用标准的MySQL源码分发。</font><font style="vertical-align: inherit;">要获得标准分布，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关从标准发行版构建的说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#installing-source-distribution" title="2.9.2使用标准源分布安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.2节“使用标准源发行版安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        标准发行版可用作压缩的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，Zip归档文件或RPM软件包。</font><font style="vertical-align: inherit;">分发文件有名字的形式
         </font><font style="vertical-align: inherit;">，
         </font><font style="vertical-align: inherit;">或者
         </font><font style="vertical-align: inherit;">，在那里</font><font style="vertical-align: inherit;">是一个数字一样
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">源分布的文件名可以与那些预编译的二进制分布的文件名区分开来，因为源分布名称是通用名称，不包括平台名称，而二进制分布名称包括平台名称，指明分布所针对的系统类型（例如，
         </font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">）。
      </font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code><font style="vertical-align: inherit;"></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>VERSION</code></em><font style="vertical-align: inherit;"></font><code class="literal">5.7.23</code><font style="vertical-align: inherit;"></font><code class="literal">pc-linux-i686</code><font style="vertical-align: inherit;"></font><code class="literal">winx64</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用MySQL开发树。</font><font style="vertical-align: inherit;">有关从其中一个开发树构建的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#installing-development-tree" title="2.9.3使用开发源树安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.3节“使用开发源树安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<h3><a name="idm140528184562128"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源安装系统要求</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    从源代码安装MySQL需要多种开发工具。</font><font style="vertical-align: inherit;">无论您使用标准源代码发布还是开发源代码树，都需要这些工具中的一部分。</font><font style="vertical-align: inherit;">其他工具要求取决于您使用的安装方法。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要从源代码安装MySQL，无论安装方法如何，都必须满足以下系统要求：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它被用作所有平台上的构建框架。</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以从</font></font><a class="ulink" href="http://www.cmake.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> http://www.cmake.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个好的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制作</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序。</font><font style="vertical-align: inherit;">虽然有些平台自带</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现，但强烈建议您使用GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        3.75或更高版本。</font><font style="vertical-align: inherit;">它可能已经作为</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gmake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你的系统上可用
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可从</font></font><a class="ulink" href="http://www.gnu.org/software/make/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.gnu.org/software/make/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个可用的ANSI C ++编译器。</font><font style="vertical-align: inherit;">请参阅说明
         </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_force_unsupported_compiler"><code class="option">FORCE_UNSUPPORTED_COMPILER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一些准则的选项。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Boost C ++库需要构建MySQL（但不要使用它）。</font><font style="vertical-align: inherit;">必须安装Boost 1.59.0。</font><font style="vertical-align: inherit;">要获得Boost及其安装说明，请访问
         </font></font><a class="ulink" href="http://www.boost.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">安装Boost后，通过</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在调用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">定义</font><font style="vertical-align: inherit;">选项来
         </font><font style="vertical-align: inherit;">告诉构建系统Boost文件所在的位置
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake . -DWITH_BOOST=/usr/local/boost_1_59_0</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        根据需要调整路径以匹配您的安装。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该
         </font></font><a class="ulink" href="https://www.gnu.org/software/ncurses/ncurses.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ncurses的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        图书馆。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        足够的空闲内存。</font><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">在编译大型源文件时</font><font style="vertical-align: inherit;">遇到诸如</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部编译器错误</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等问题
         </font><font style="vertical-align: inherit;">，则可能是因为内存太少。</font><font style="vertical-align: inherit;">如果在虚拟机上编译，请尝试增加内存分配。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您打算运行测试脚本，则需要Perl。</font><font style="vertical-align: inherit;">大多数类Unix系统都包含Perl。</font><font style="vertical-align: inherit;">在Windows上，您可以使用诸如ActiveState Perl之类的版本。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要从标准源代码发行版安装MySQL，需要使用以下工具之一来解包分发文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">压缩的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件：GNU </font></font><code class="literal">gunzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解压缩发行版和合理的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以解压缩它。</font><font style="vertical-align: inherit;">如果你的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序支持这个</font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选项，它可以解压缩和解压文件。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">焦油</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知工作。</font><font style="vertical-align: inherit;">一些操作系统提供</font><font style="vertical-align: inherit;">的标准
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法解压MySQL分发中的长文件名。</font><font style="vertical-align: inherit;">您应该下载并安装GNU
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者如果可用，请使用GNU tar的预装版本。</font><font style="vertical-align: inherit;">通常这可以作为
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gnutar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gtar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或者作为
         </font><font style="vertical-align: inherit;">GNU或自由软件目录中的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如</font></font><code class="filename">/usr/sfw/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
         </font></font><code class="filename">/usr/local/bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        可从
         </font></font><a class="ulink" href="http://www.gnu.org/software/tar/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.gnu.org/software/tar/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zip存档：
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WinZip</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或其他可以读取</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的</font><font style="vertical-align: inherit;">工具
         </font><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="filename">.rpm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPM包：</font><font style="vertical-align: inherit;">用于构建分发</font><font style="vertical-align: inherit;">包的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpmbuild</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序将其解包。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要从开发源代码树安装MySQL，需要以下附加工具：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        需要Git修订控制系统来获取开发源代码。</font><font style="vertical-align: inherit;">在
         </font></font><a class="ulink" href="https://help.github.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub的帮助</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        提供了下载和在不同的平台上安装Git的指令。</font><font style="vertical-align: inherit;">MySQL于2014年9月正式加入GitHub。有关MySQL迁移到GitHub的更多信息，请参阅MySQL Release Engineering博客上的公告：
         </font></font><a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL on GitHub</font></font></a>
      </p></li><li class="listitem"><p>
        <span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.1或更高版本，可从
        </font></font><a class="ulink" href="http://www.gnu.org/software/bison/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> http://www.gnu.org/software/bison/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（版本1不再受支持。）</font><font style="vertical-align: inherit;">尽可能</font><font style="vertical-align: inherit;">使用最新版本的
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">如果遇到问题，请升级到更高版本，而不是恢复到较早的版本。
      </font></font></p><p>
        <span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可从
        </font></font><a class="ulink" href="http://www.gnu.org/software/bison/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> http://www.gnu.org/software/bison/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font><code class="literal">bison</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于Windows可以从</font></font><a class="ulink" href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> http://gnuwin32.sourceforge.net/packages/bison.htm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载
        </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">下载标有</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整软件包，不包括源代码</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”的</font><span class="quote"><font style="vertical-align: inherit;">软件包</font></span></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在Windows上，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bison</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的默认位置
        </font><font style="vertical-align: inherit;">是</font></font><code class="filename">C:\Program
        Files\GnuWin32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录。</font><font style="vertical-align: inherit;">由于目录名称中的空间，</font><font style="vertical-align: inherit;">某些实用程序可能无法找到</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另外，如果路径中有空格，Visual Studio可能会简单地挂起。</font><font style="vertical-align: inherit;">您可以通过安装到不包含空格的目录来解决这些问题; </font><font style="vertical-align: inherit;">例如
        </font></font><code class="filename">C:\GnuWin32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Solaris Express上，</font><font style="vertical-align: inherit;">除了</font><span class="command"><strong><font style="vertical-align: inherit;">野牛</font></strong></span><font style="vertical-align: inherit;">之外，还必须安装</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m4</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><span class="command"><strong><font style="vertical-align: inherit;">m4</font></strong></span><font style="vertical-align: inherit;">可从</font><a class="ulink" href="http://www.gnu.org/software/m4/" target="_top"><font style="vertical-align: inherit;">http://www.gnu.org/software/m4/获得</font></a><font style="vertical-align: inherit;">。
</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><a class="ulink" href="http://www.gnu.org/software/m4/" target="_top"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您必须安装任何程序，请修改您的
       </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量以包含程序所在的任何目录。</font><font style="vertical-align: inherit;">参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#setting-environment-variables" title="4.2.10设置环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.10节“设置环境变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    如果遇到问题并需要提交错误报告，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#bug-reports" title="1.7如何报告错误或问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.7节“如何报告错误或问题”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-installation-layout"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.1源代码安装的MySQL布局</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，从源代码编译完成后安装MySQL时，安装步骤将在其下安装文件
       </font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">安装目录下的组件位置与二进制发行版相同。</font><font style="vertical-align: inherit;">请</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation-layout" title="表2.3通用Unix / Linux二进制包的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参见表2.3“通用Unix / Linux二进制包的</font></font></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows上的MySQL安装布局"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装布局</font></font></a><font style="vertical-align: inherit;"><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation-layout" title="表2.3通用Unix / Linux二进制包的MySQL安装布局"><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;">和</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows上的MySQL安装布局"><font style="vertical-align: inherit;">第2.3.1节“Microsoft Windows上的MySQL安装布局”</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要配置与默认设置不同的安装位置，请使用
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-configuration-options" title="2.9.4 MySQL源配置选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.4节“MySQL源配置选项”中介绍的选项</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-source-distribution"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.2使用标准源分布安装MySQL</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      从标准源代码发布版安装MySQL：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          验证您的系统是否满足</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出的工具要求</font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明获取分发文件
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用本节中的说明配置，构建和安装分配。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明执行安装后的过程
           </font><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL 5.7中，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被用作所有平台上的构建框架。</font><font style="vertical-align: inherit;">这里给出的说明应该使您能够生成一个工作安装。</font><font style="vertical-align: inherit;">有关使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建MySQL的</font><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参阅</font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">CMake</font></strong></span><a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top"><font style="vertical-align: inherit;">构建MySQL服务器</font></a><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您从源RPM开始，请使用以下命令创建可安装的二进制RPM。</font><font style="vertical-align: inherit;">如果您没有
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpmbuild</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请改用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      结果是您安装了一个或多个二进制RPM软件包，如</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm" title="2.5.5在Linux上安装MySQL使用Oracle的RPM软件包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.5节“使用Oracle的RPM软件包在Linux上安装MySQL”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      从压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件或Zip归档源代码分发</font><font style="vertical-align: inherit;">进行安装的顺序
       </font><font style="vertical-align: inherit;">与从通用二进制分发版安装的过程类似（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），除了它用于所有平台，并包括配置和编译分发的步骤。</font><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">在Unix上</font><font style="vertical-align: inherit;">使用压缩的
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件源分配，基本安装命令序列如下所示：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃预配置设置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>groupadd mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃开始构建特定指令</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>mkdir bld</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>cd bld</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>cmake ..</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>make</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>make install</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃源代码结束 - 编译特定指令</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃安装后设置</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>cd /usr/local/mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>mkdir mysql-files</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>chown mysql:mysql mysql-files</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>chmod 750 mysql-files</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
shell&gt; </font></font><strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">              
shell&gt;</font></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃下一个命令是可选的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外壳&gt; </font></font><strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      下面显示了更详细的源代码版本的具体说明。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此处显示的过程不会为MySQL帐户设置任何密码。</font><font style="vertical-align: inherit;">遵循该过程后，继续
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后设置和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以进行安装后设置和测试。
</font></font></p>
</div>
<h4><a name="idm140528184460336"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行预配置设置</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Unix上，设置</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将用于运行和执行MySQL服务器并拥有数据库目录</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">用户和组。</font><font style="vertical-align: inherit;">有关详细信息，请参阅
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#binary-installation-createsysuser" title="创建一个mysql用户和组"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建
       </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统用户和组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节，“在Unix / Linux上安装MySQL的使用通用二进制文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后以</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户</font><font style="vertical-align: inherit;">身份执行以下步骤</font><font style="vertical-align: inherit;">，除非另有说明。
</font></font></p>
<h4><a name="idm140528184455216"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取并解压分发</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      选择您想在其下打开发行包并将位置更改为其下的目录。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#getting-mysql" title="2.1.2如何获取MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.1.2节“如何获取MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明获取分发文件
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      将分发解包到当前目录中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要解压缩一个压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，如果</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有</font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项支持</font><font style="vertical-align: inherit;">，
           </font><span class="command"><strong><font style="vertical-align: inherit;">tar</font></strong></span><font style="vertical-align: inherit;">可以解压缩并解压缩该分发包</font><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有
           </font></font><code class="literal">z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项支持，请使用
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gunzip</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解压缩分发包和
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以解压缩它：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          或者，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以解压缩和解压分发：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要解压缩Zip文件，请使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WinZip</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或其他可以读取</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的</font><font style="vertical-align: inherit;">工具</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      解压分发文件会创建一个名为的目录
       </font><font style="vertical-align: inherit;">。
</font></font><code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code><font style="vertical-align: inherit;"></font></p>
<h4><a name="idm140528184434512"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置分发</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      将位置更改为解包分发的顶层目录：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在源代码树之外构建树来保持树的清洁。</font><font style="vertical-align: inherit;">如果顶级源目录</font></font><code class="filename">mysql-src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在您当前的工作目录下</font><font style="vertical-align: inherit;">命名</font><font style="vertical-align: inherit;">，您可以构建一个名为</font></font><code class="filename">bld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同级别</font><font style="vertical-align: inherit;">的目录</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">创建目录并转到那里：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mkdir bld</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>cd bld</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      配置构建目录。</font><font style="vertical-align: inherit;">最小配置命令不包含覆盖配置默认值的选项：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      构建目录不需要在源代码树之外。</font><font style="vertical-align: inherit;">例如，您可以构建一个名为
       </font></font><code class="filename">bld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶层源代码树下的目录。</font><font style="vertical-align: inherit;">要做到这一点，从</font></font><code class="filename">mysql-src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前的工作目录开始，创建目录</font></font><code class="filename">bld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      ，然后转到那里：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mkdir bld</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>cd bld</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      配置构建目录。</font><font style="vertical-align: inherit;">最小配置命令不包含覆盖配置默认值的选项：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake ..</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您在同一级别有多个源代码树（例如，要构建多个版本的MySQL），则第二个策略可能会有所帮助。</font><font style="vertical-align: inherit;">第一种策略将所有构建目录放在同一级别，这要求您为每个目录选择一个唯一的名称。</font><font style="vertical-align: inherit;">通过第二种策略，您可以在每个源代码树中为构建目录使用相同的名称。</font><font style="vertical-align: inherit;">以下说明假设了第二种策略。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上，指定开发环境。</font><font style="vertical-align: inherit;">例如，以下命令分别为32位或64位版本配置MySQL：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>cmake .. -G "Visual Studio 12 2013"</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>cmake .. -G "Visual Studio 12 2013 Win64"</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在macOS上，使用Xcode IDE：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake .. -G Xcode</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可能需要将选项添加到命令行。</font><font style="vertical-align: inherit;">这里有些例子：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用Oracle使用的相同构建选项来配置源，以生成官方MySQL版本的二进制分发版。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在特定位置配置安装分发。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：导致</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make包</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成单个安装文件而不是多个文件。
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用调试支持来构建分发。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关更多选项的列表，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-configuration-options" title="2.9.4 MySQL源配置选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.4节“MySQL源配置选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要列出配置选项，请使用以下命令之一：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>cmake .. -L</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   ＃概述</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>cmake .. -LH</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  ＃概述和帮助文本</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>cmake .. -LAH</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃带帮助文本的所有参数</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>ccmake ..</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">     ＃交互式显示
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败，您可能需要重新配置，通过使用不同选项再次运行它。</font><font style="vertical-align: inherit;">如果您重新配置，请注意以下事项：
</font></font></p><a class="indexterm" name="idm140528184393312"></a><a class="indexterm" name="idm140528184392224"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在之前运行之后运行，它可能会使用先前调用期间收集的信息。</font><font style="vertical-align: inherit;">这些信息存储在
           </font></font><code class="filename">CMakeCache.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时，它会查找该文件并在假设信息仍然正确的情况下读取它的内容（如果存在）。</font><font style="vertical-align: inherit;">当你重新配置时，这个假设是无效的。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每次运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，都必须</font><font style="vertical-align: inherit;">再次</font><font style="vertical-align: inherit;">运行
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来重新编译。</font><font style="vertical-align: inherit;">但是，您可能希望先删除先前版本中的旧对象文件，因为它们是使用不同的配置选项编译的。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要防止使用旧对象文件或配置信息，请在重新运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前在Unix上的构建目录中运行这些命令</font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>make clean</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，在Windows上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>devenv MySQL.sln /clean</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您要将邮件发送到MySQL邮件列表以请求配置帮助，请首先检查</font></font><code class="filename">CMakeFiles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的文件，以
       </font><font style="vertical-align: inherit;">获取有关失败的有用信息。</font><font style="vertical-align: inherit;">要提交错误报告，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#bug-reports" title="1.7如何报告错误或问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.7节“如何报告错误或问题”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="idm140528184376064"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建立分配</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Unix上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>make</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      第二个命令设置</font></font><code class="literal">VERBOSE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为显示每个编译源的命令。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你使用GNU </font><span class="command"><strong><font style="vertical-align: inherit;">make的</font></strong></span><font style="vertical-align: inherit;">系统上</font><font style="vertical-align: inherit;">
      使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gmake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它已经被安装为
       </font><span class="command"><strong><font style="vertical-align: inherit;">gmake</font></strong></span><font style="vertical-align: inherit;">。
    </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您已进入编译阶段，但分发版本无法编译，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#compilation-problems" title="2.9.5处理编译MySQL的问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.5节“处理编译MySQL的问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取帮助。</font><font style="vertical-align: inherit;">如果这不能解决问题，请使用</font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#bug-reports" title="1.7如何报告错误或问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.7节“如何报告错误或问题”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明将其输入到我们的错误数据库中
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您已安装所需工具的最新版本，并且尝试处理我们的配置文件时发生崩溃，请报告。</font><font style="vertical-align: inherit;">但是，如果</font></font><code class="literal">command not found</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需工具出现错误或类似问题，请勿报告。</font><font style="vertical-align: inherit;">相反，请确保安装了所有必需的工具，并确保您的
       </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量设置正确，以便您的shell可以找到它们。
</font></font></p>
<h4><a name="idm140528184362736"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装分发</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Unix上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>make install</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这会将文件安装在已配置的安装目录下（默认情况下</font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">您可能需要按照以下方式运行该命令</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要安装在特定的目录中，请</font></font><code class="literal">DESTDIR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令行中</font><font style="vertical-align: inherit;">添加一个
       </font><font style="vertical-align: inherit;">参数：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，生成您可以安装在您喜欢的位置的安装包文件：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>make package</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      此操作会生成一个或多个</font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      可像通用二进制分发包一样安装的文件。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节“在Unix / Linux上使用通用二进制文件安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您运行
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，操作产生的单个文件。</font><font style="vertical-align: inherit;">否则，它会产生多个文件。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上，生成数据目录，然后创建一个
       </font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档安装包：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      你可以</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你喜欢的地方</font><font style="vertical-align: inherit;">安装结果</font><font style="vertical-align: inherit;">存档。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-install-archive" title="2.3.5使用noinstall ZIP归档在Microsoft Windows上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5节“使用</font></font><code class="literal">noinstall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZIP档案</font><font style="vertical-align: inherit;">在Microsoft Windows上安装MySQL
       </font><font style="vertical-align: inherit;">”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="idm140528184343760"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行安装后设置</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      安装过程的其余部分包括设置配置文件，创建核心数据库以及启动MySQL服务器。</font><font style="vertical-align: inherit;">有关说明，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后设置和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL授权表中列出的帐户最初没有密码。</font><font style="vertical-align: inherit;">启动服务器后，应使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的说明为它们设置密码
         </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-development-tree"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.3使用开发源树安装MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528184338832"></a><a class="indexterm" name="idm140528184337760"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何从</font></font><a class="ulink" href="https://github.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">托管的最新开发源代码安装MySQL
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要从此存储库托管服务获取MySQL服务器源代码，您可以设置本地MySQL Git存储库。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在</font></font><a class="ulink" href="https://github.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL服务器和其他MySQL项目可以在</font></font><a class="ulink" href="https://github.com/mysql" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面</font><font style="vertical-align: inherit;">找到
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">MySQL服务器项目是包含多个MySQL系列分支的单个存储库。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL于2014年9月正式加入GitHub。有关MySQL迁移到GitHub的更多信息，请参阅MySQL Release Engineering博客上的公告：
       </font></font><a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL on GitHub</font></font></a>
</p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="installing-development-tree-prerequisites"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从开发源安装的先决条件</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要从开发源代码树安装MySQL，您的系统必须满足</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出的工具要求
         </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="installing-development-tree-git"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置MySQL Git存储库</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要在您的机器上设置MySQL Git存储库，请使用以下过程：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将MySQL Git存储库克隆到您的机器上。</font><font style="vertical-align: inherit;">以下命令将MySQL Git存储库克隆到一个名为的目录</font></font><code class="filename">mysql-server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">首次下载需要一些时间才能完成，具体取决于连接的速度。
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜$ git clone https://github.com/mysql/mysql-server.git</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
克隆到'mysql-server'中...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
远程：计数对象：1035465，完成。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
远程：总计1035465（增量0），重用0（增量0）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接收对象：100％（1035465/1035465），437.48 MiB | </font><font style="vertical-align: inherit;">5.10 MiB / s，完成。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
解决三角洲问题：完成100％（855607/855607）。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检查连接...完成。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检出文件：100％（21902/21902），完成。</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            克隆操作完成后，本地MySQL Git存储库的内容与以下内容类似：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜$ cd mysql-server</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
〜/ mysql-server $ ls</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
构建复制libmysqld regex unittest</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BUILD-CMAKE dbug libservices脚本版本</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
客户端Docs man sql vio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cmake额外的mysql-test sql-common win</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CMakeLists.txt包含mysys storage zlib</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cmd-line-utils INSTALL-SOURCE包装字符串</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
config.h.cmake INSTALL-WIN-SOURCE插件支持文件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configure.cmake libmysql README测试</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git branch -r</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令查看MySQL存储库的远程跟踪分支。
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git branch -r</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  产地/ 5.5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  产地/ 5.6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  产地/ 5.7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  原产地/头 - &gt;原产地/ 5.7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  起源/群集7.2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  产地/集群7.3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  起源/群集7.4</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要查看在本地存储库中检出的分支，请发出</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git分支</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。</font><font style="vertical-align: inherit;">当您克隆MySQL Git存储库时，MySQL 5.7分支会自动检出。</font><font style="vertical-align: inherit;">星号将5.7分支标识为活动分支。
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git分支</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* 5.7</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要检出一个不同的MySQL分支，运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git checkout</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令，指定分支名称。</font><font style="vertical-align: inherit;">例如，要查看MySQL 5.5分支：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git checkout 5.5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分支5.5设置为从原点追踪远程分支5.5。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
切换到新的分支'5.5'</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            运行</font></font><code class="literal">git branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以验证MySQL 5.5分支是否存在。</font><font style="vertical-align: inherit;">MySQL 5.5是您签出的最后一个分支，标有星号，表示它是活动分支。
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git分支</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* 5.5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  5.7</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git checkout</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在分支之间切换。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git checkout 5.7</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要获得初始设置MySQL Git存储库后所做的更改，请切换到您要更新的分支并发出以下</font></font><code class="literal">git pull</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git checkout 5.7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
〜/ mysql-server $ git pull</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要检查提交历史记录，请使用以下</font></font><code class="literal">git
            log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜/ mysql-server $ git log
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您也可以在GitHub </font></font><a class="ulink" href="https://github.com/mysql" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            网站</font><font style="vertical-align: inherit;">上浏览提交历史记录和源代码</font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您看到有问题的更改或代码，请发送电子邮件至MySQL </font></font><code class="literal">internals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            邮件列表。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#mailing-lists" title="1.6.2 MySQL邮件列表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.6.2节“MySQL邮件列表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关提供补丁的信息，请参阅
             </font></font><a class="ulink" href="http://mysqlserverteam.com/contributing-to-mysql-server/%20" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贡献MySQL服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在克隆MySQL Git存储库并检出了要构建的分支后，可以从源代码构建MySQL服务器。</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#installing-source-distribution" title="2.9.2使用标准源分布安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9.2节“使用标准源分布安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中提供了相关说明</font><font style="vertical-align: inherit;">，不同之处在于您跳过了关于获取和解包分发的部分。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在生产机器上从分发源树安装构建时要小心。</font><font style="vertical-align: inherit;">安装命令可能会覆盖您的实时发行版安装。</font><font style="vertical-align: inherit;">如果你已经安装了MySQL和不想覆盖它，运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与价值观
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那些通过生产服务器使用不同的选项。</font><font style="vertical-align: inherit;">有关防止多个服务器相互干扰的其他信息，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#multiple-servers" title="5.6在一台机器上运行多个MySQL实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.6节“在一台计算机上运行多个MySQL实例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            玩你的新安装。</font><font style="vertical-align: inherit;">例如，尝试使新功能崩溃。</font><font style="vertical-align: inherit;">开始运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make test</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#mysql-test-suite" title="28.1.2 MySQL测试套件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.1.2节“MySQL测试套件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.4 MySQL源配置选项</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528184288016"></a><a class="indexterm" name="idm140528184286528"></a><a class="indexterm" name="idm140528184285040"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序提供的控制权如何配置MySQL源码分发很大。</font><font style="vertical-align: inherit;">通常，您使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行</font><font style="vertical-align: inherit;">上的选项来执行此操作
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的选项的信息</font><font style="vertical-align: inherit;">，请在顶级源目录中运行以下任一命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>cmake . -LH</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>ccmake .</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      你也可以</font><font style="vertical-align: inherit;">使用特定的环境变量来</font><font style="vertical-align: inherit;">影响</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#environment-variables" title="4.9 MySQL程序环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.9节“MySQL程序环境变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      下表显示了可用的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      选项。</font><font style="vertical-align: inherit;">在该</font></font><code class="literal">Default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中，
       </font></font><code class="literal">PREFIX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代表</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定安装基本目录</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的值
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此值用作几个安装子目录的父级位置。
</font></font></p>
<div class="table">
<a name="idm140528184273088"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.13 MySQL源配置选项参考（CMake）</font></font></b></p>
<div class="table-contents">
<table frame="box" rules="all" summary="CMake options that are available to configure MySQL when building from source."><colgroup><col width="30%"><col width="30%"><col width="20%"><col width="10%"><col width="10%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font></th>
</tr></thead><tbody><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用与官方发布相同的构建选项</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产的构建类型</font></font></td>
<td><code class="literal">RelWithDebInfo</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_cxx_flags"><code class="literal">CMAKE_CXX_FLAGS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++编译器的标志</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_c_flags"><code class="literal">CMAKE_C_FLAGS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C编译器的标志</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装基础目录</font></font></td>
<td><code class="literal">/usr/local/mysql</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_compilation_comment"><code class="literal">COMPILATION_COMMENT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于编译环境的评论</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包构建是否生成单个文件</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认的服务器字符集</font></font></td>
<td><code class="literal">latin1</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认的服务器排序规则</font></font></td>
<td><code class="literal">latin1_swedish_ci</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_cond"><code class="literal">DISABLE_PSI_COND</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式条件检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_file"><code class="literal">DISABLE_PSI_FILE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式文件工具</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_idle"><code class="literal">DISABLE_PSI_IDLE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式空闲检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_memory"><code class="literal">DISABLE_PSI_MEMORY</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能架构内存工具</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_metadata"><code class="literal">DISABLE_PSI_METADATA</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能架构元数据工具</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_mutex"><code class="literal">DISABLE_PSI_MUTEX</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式互斥体检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_ps"><code class="literal">DISABLE_PSI_PS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式准备语句</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_rwlock"><code class="literal">DISABLE_PSI_RWLOCK</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式rwlock检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_socket"><code class="literal">DISABLE_PSI_SOCKET</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式套接字检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_sp"><code class="literal">DISABLE_PSI_SP</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式存储程序工具</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_stage"><code class="literal">DISABLE_PSI_STAGE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能架构阶段检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_statement"><code class="literal">DISABLE_PSI_STATEMENT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式语句检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_statement_digest"><code class="literal">DISABLE_PSI_STATEMENT_DIGEST</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式语句摘要检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_table"><code class="literal">DISABLE_PSI_TABLE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能模式表检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_thread"><code class="literal">DISABLE_PSI_THREAD</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能架构线程检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_disable_psi_transaction"><code class="literal">DISABLE_PSI_TRANSACTION</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除性能架构事务检测</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_download_boost"><code class="literal">DOWNLOAD_BOOST</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否下载Boost库</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.5</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_download_boost_timeout"><code class="literal">DOWNLOAD_BOOST_TIMEOUT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于下载Boost库的超时时间</font></font></td>
<td><code class="literal">600</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否为LOAD DATA INFILE启用LOCAL</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否启用查询分析代码</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_debug_sync"><code class="literal">ENABLE_DEBUG_SYNC</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否启用调试同步支持</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.1</font></font></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否下载可选文件</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_dtrace"><code class="literal">ENABLE_DTRACE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否包含DTrace支持</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否包含gcov支持</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_gprof"><code class="literal">ENABLE_GPROF</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用gprof（仅限优化的Linux版本）</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_force_unsupported_compiler"><code class="literal">FORCE_UNSUPPORTED_COMPILER</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否允许不受支持的编译器</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.5</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_ignore_aio_check"><code class="literal">IGNORE_AIO_CHECK</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用-DBUILD_CONFIG = mysql_release，忽略libaio检查</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_innodb_page_atomic_ref_count"><code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用或禁用原子页面引用计数</font></font></td>
<td><code class="literal">ON</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.5</font></font></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户可执行文件目录</font></font></td>
<td><code class="literal">PREFIX/bin</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档目录</font></font></td>
<td><code class="literal">PREFIX/docs</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README文件目录</font></font></td>
<td><code class="literal">PREFIX</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头文件目录</font></font></td>
<td><code class="literal">PREFIX/include</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息文件目录</font></font></td>
<td><code class="literal">PREFIX/docs</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择预定义安装布局</font></font></td>
<td><code class="literal">STANDALONE</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库文件目录</font></font></td>
<td><code class="literal">PREFIX/lib</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册页目录</font></font></td>
<td><code class="literal">PREFIX/man</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_mysqlkeyringdir"><code class="literal">INSTALL_MYSQLKEYRINGDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keyring_file插件数据文件的目录</font></font></td>
<td><code class="literal">platform specific</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.11</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共享数据目录</font></font></td>
<td><code class="literal">PREFIX/share</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-test目录</font></font></td>
<td><code class="literal">PREFIX/mysql-test</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_pkgconfigdir"><code class="literal">INSTALL_PKGCONFIGDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlclient.pc的目录pkg-config文件</font></font></td>
<td><code class="literal">INSTALL_LIBDIR/pkgconfig</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.9</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件目录</font></font></td>
<td><code class="literal">PREFIX/lib/plugin</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器可执行目录</font></font></td>
<td><code class="literal">PREFIX/bin</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_scriptdir"><code class="literal">INSTALL_SCRIPTDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本目录</font></font></td>
<td><code class="literal">PREFIX/scripts</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_secure_file_privdir"><code class="literal">INSTALL_SECURE_FILE_PRIVDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secure_file_priv默认值</font></font></td>
<td><code class="literal">platform specific</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_secure_file_priv_embeddeddir"><code class="literal">INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secure_file_priv libmysqld的默认值</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.8</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aclocal / mysql.m4安装目录</font></font></td>
<td><code class="literal">PREFIX/share</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_sqlbenchdir"><code class="literal">INSTALL_SQLBENCHDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sql-bench目录</font></font></td>
<td><code class="literal">PREFIX</code></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.8</font></font></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的支持文件目录</font></font></td>
<td><code class="literal">PREFIX/support-files</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_max_indexes"><code class="literal">MAX_INDEXES</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个表的最大索引</font></font></td>
<td><code class="literal">64</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.1</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mutex_type"><code class="literal">MUTEX_TYPE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB互斥类型</font></font></td>
<td><code class="literal">event</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysqlx_tcp_port"><code class="literal">MYSQLX_TCP_PORT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X插件使用的TCP / IP端口号</font></font></td>
<td><code class="literal">33060</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.17</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysqlx_unix_addr"><code class="literal">MYSQLX_UNIX_ADDR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X插件使用的Unix套接字文件</font></font></td>
<td><code class="literal">/tmp/mysqlx.sock</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.15</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否启用MySQL维护者特定的开发环境</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows / OS X项目名称</font></font></td>
<td><code class="literal">MySQL</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCP / IP端口号</font></font></td>
<td><code class="literal">3306</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix套接字文件</font></font></td>
<td><code class="literal">/tmp/mysql.sock</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ODBC包含目录</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ODBC库目录</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_optimizer_trace"><code class="literal">OPTIMIZER_TRACE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否支持优化器跟踪</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_reproducible_build"><code class="literal">REPRODUCIBLE_BUILD</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特别注意创建独立于构建位置和时间的构建结果</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19年7月5日</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_sunpro_cxx_library"><code class="literal">SUNPRO_CXX_LIBRARY</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solaris 10+上的客户端链接库</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.5</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件目录</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_systemd_pid_dir"><code class="literal">SYSTEMD_PID_DIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd下PID文件的目录</font></font></td>
<td><code class="literal">/var/run/mysqld</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_systemd_service_name"><code class="literal">SYSTEMD_SERVICE_NAME</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">systemd下MySQL服务的名称</font></font></td>
<td><code class="literal">mysqld</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_tmpdir"><code class="literal">TMPDIR</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tmpdir默认值</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.4</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_win_debug_no_inline"><code class="literal">WIN_DEBUG_NO_INLINE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否禁用函数内联</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_without_server"><code class="literal">WITHOUT_SERVER</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要构建服务器</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_storage_engine_options" title="存储引擎选项"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从构建中排除存储引擎xxx</font></font></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_asan"><code class="literal">WITH_ASAN</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用AddressSanitizer</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.3</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_asan_scope"><code class="literal">WITH_ASAN_SCOPE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用AddressSanitizer -sanitize-address-use-scope-after-scope-clang标志</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21年7月5日</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_authentication_ldap"><code class="literal">WITH_AUTHENTICATION_LDAP</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果无法构建LDAP认证插件，是否报告错误</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19年7月5日</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_authentication_pam"><code class="literal">WITH_AUTHENTICATION_PAM</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建PAM认证插件</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_aws_sdk"><code class="literal">WITH_AWS_SDK</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚马逊网络服务软件开发工具包的位置</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19年7月5日</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="literal">WITH_BOOST</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boost库源的位置</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.5</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_client_protocol_tracing"><code class="literal">WITH_CLIENT_PROTOCOL_TRACING</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建客户端协议跟踪框架</font></font></td>
<td><code class="literal">ON</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_curl"><code class="literal">WITH_CURL</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卷曲库的位置</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19年7月5日</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否包含调试支持</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_default_compiler_options"><code class="literal">WITH_DEFAULT_COMPILER_OPTIONS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否使用默认编译器选项</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_default_feature_set"><code class="literal">WITH_DEFAULT_FEATURE_SET</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否使用默认功能集</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_editline"><code class="literal">WITH_EDITLINE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用哪个libedit / editline库</font></font></td>
<td><code class="literal">bundled</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_embedded_server"><code class="literal">WITH_EMBEDDED_SERVER</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否构建嵌入式服务器</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_embedded_shared_library"><code class="literal">WITH_EMBEDDED_SHARED_LIBRARY</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否构建共享的嵌入式服务器库</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.4</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_extra_charsets"><code class="literal">WITH_EXTRA_CHARSETS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含哪些额外的字符集</font></font></td>
<td><code class="literal">all</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_innodb_extra_debug"><code class="literal">WITH_INNODB_EXTRA_DEBUG</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否包含对InnoDB的额外调试支持。</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_innodb_memcached"><code class="literal">WITH_INNODB_MEMCACHED</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否生成memcached共享库。</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_keyring_test"><code class="literal">WITH_KEYRING_TEST</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建密钥环测试程序</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.11</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_libevent"><code class="literal">WITH_LIBEVENT</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用哪个libevent库</font></font></td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否包含libwrap（TCP封装）支持</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_lz4"><code class="literal">WITH_LZ4</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LZ4库支持的类型</font></font></td>
<td><code class="literal">bundled</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.14</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_mecab"><code class="literal">WITH_MECAB</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译MeCab</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_msan"><code class="literal">WITH_MSAN</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用MemorySanitizer</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.4</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_mscrt_debug"><code class="literal">WITH_MSCRT_DEBUG</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用Visual Studio CRT内存泄漏跟踪</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndbcluster"><code class="literal">WITH_NDBCLUSTER</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建NDB存储引擎; </font><font style="vertical-align: inherit;">WITH_NDBCLUSTER_STORAGE_ENGINE的别名</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="literal">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建立NDB存储引擎</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndb_test"><code class="literal">WITH_NDB_TEST</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括NDB API测试程序。</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_numa"><code class="literal">WITH_NUMA</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置NUMA内存分配策略</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.17</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_protobuf"><code class="literal">WITH_PROTOBUF</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪个协议缓冲区包要使用</font></font></td>
<td><code class="literal">bundled</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.12</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_rapid"><code class="literal">WITH_RAPID</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否构建快速开发周期插件</font></font></td>
<td><code class="literal">ON</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.12</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL支持的类型</font></font></td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_systemd"><code class="literal">WITH_SYSTEMD</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用systemd支持文件的安装</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_test_trace_plugin"><code class="literal">WITH_TEST_TRACE_PLUGIN</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建测试协议跟踪插件</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.2</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ubsan"><code class="literal">WITH_UBSAN</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用未定义行为清洁程序</font></font></td>
<td><code class="literal">OFF</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7.6</font></font></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_unit_tests"><code class="literal">WITH_UNIT_TESTS</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用单元测试编译MySQL</font></font></td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用unixODBC支持</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_valgrind"><code class="literal">WITH_VALGRIND</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否在Valgrind头文件中编译</font></font></td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zlib支持的类型</font></font></td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_storage_engine_options" title="存储引擎选项"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将存储引擎xxx静态编译到服务器中</font></font></td>
<td></td>
<td></td>
<td></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下各节提供了有关</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><font style="vertical-align: inherit;">更多信息
       </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-general-options" title="常规选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规选项</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-installation-layout-options" title="安装布局选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装布局选项</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#option_cmake_storage_engine_options" title="存储引擎选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎选项</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-feature-options" title="功能选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能选项</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-compiler-flags" title="编译器标志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译器标志</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-mysql-cluster-options" title="用于编译NDB集群的CMake选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于编译NDB集群的CMake选项</font></font></a>
</p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于布尔选项，该值可以指定为1或
       </font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用该选项，或者指定为0或
       </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用该选项。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      许多选项配置可在服务器启动时覆盖的编译时默认值。</font><font style="vertical-align: inherit;">例如，
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该配置缺省安装基本目录的位置，TCP / IP端口号和Unix套接字文件选项可以在与服务器启动而改变</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_port"><code class="option">--port</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在适用的情况下，配置选项描述指示相应的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      启动选项。
</font></font></p>
<h4><a name="cmake-general-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规选项</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_build_config"></a>
          <a class="indexterm" name="idm140528183520816"></a>

          <a class="indexterm" name="idm140528183519328"></a>

          <code class="literal">-DBUILD_CONFIG=mysql_release</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项配置一个源代码发行版，其中包含与Oracle使用相同的构建选项来生成官方MySQL版本的二进制发行版。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_cmake_build_type"></a>
          <a class="indexterm" name="idm140528183515312"></a>

          <a class="indexterm" name="idm140528183513824"></a>

          <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要生成的构建类型：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">RelWithDebInfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启用优化并生成调试信息。</font><font style="vertical-align: inherit;">这是默认的MySQL构建类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">Debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：禁用优化并生成调试信息。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              启用</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">选项，</font><font style="vertical-align: inherit;">也会使用此构建类型</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">也就是说，
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有同样的效果
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_build_type"><code class="option">-DCMAKE_BUILD_TYPE=Debug</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_cpack_monolithic_install"></a>
          <a class="indexterm" name="idm140528183503136"></a>

          <a class="indexterm" name="idm140528183501680"></a>

          <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此选项影响</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make包</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作是生成多个安装包文件还是单个文件。</font><font style="vertical-align: inherit;">如果禁用，该操作会生成多个安装包文件，如果您只想安装完整MySQL安装的一部分，这可能很有用。</font><font style="vertical-align: inherit;">如果启用，它会生成一个文件来安装所有内容。
</font></font></p></li></ul>
</div>
<h4><a name="cmake-installation-layout-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装布局选项</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项指示基本安装目录。</font><font style="vertical-align: inherit;">带有</font><font style="vertical-align: inherit;">表示组件位置</font><font style="vertical-align: inherit;">的表单名称的其他选项
       </font><font style="vertical-align: inherit;">相对于前缀进行解释，并且它们的值是相对路径名。</font><font style="vertical-align: inherit;">它们的值不应包含前缀。
</font></font><code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_install_prefix"></a>
          <a class="indexterm" name="idm140528183492256"></a>

          <a class="indexterm" name="idm140528183490800"></a>

          <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          安装基础目录。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_bindir"></a>
          <a class="indexterm" name="idm140528183485232"></a>

          <a class="indexterm" name="idm140528183483744"></a>

          <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          何处安装用户程序。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_docdir"></a>
          <a class="indexterm" name="idm140528183479600"></a>

          <a class="indexterm" name="idm140528183478112"></a>

          <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装文档。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_docreadmedir"></a>
          <a class="indexterm" name="idm140528183473968"></a>

          <a class="indexterm" name="idm140528183472512"></a>

          <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><code class="filename">README</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_includedir"></a>
          <a class="indexterm" name="idm140528183467600"></a>

          <a class="indexterm" name="idm140528183466144"></a>

          <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装头文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_infodir"></a>
          <a class="indexterm" name="idm140528183461936"></a>

          <a class="indexterm" name="idm140528183460448"></a>

          <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装Info文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_layout"></a>
          <a class="indexterm" name="idm140528183456368"></a>

          <a class="indexterm" name="idm140528183454880"></a>

          <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选择预定义的安装布局：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">STANDALONE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：与用于</font></font><code class="filename">.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="filename">.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包装</font><font style="vertical-align: inherit;">相同的布局
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是默认设置。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">RPM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：与RPM包类似的布局。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">SVR4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Solaris软件包布局。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">DEB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：DEB封装布局（实验）。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以选择预定义布局，但可以通过指定其他选项来修改各个组件的安装位置 </font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          的</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值确定的默认值
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#sysvar_keyring_encrypted_file_data"><code class="literal">keyring_encrypted_file_data</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#sysvar_keyring_file_data"><code class="literal">keyring_file_data</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.5节“服务器系统变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#keyring-system-variables" title="6.5.4.11钥匙圈系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.4.11节“密钥环系统变量”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关这些变量的说明
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_libdir"></a>
          <a class="indexterm" name="idm140528183433424"></a>

          <a class="indexterm" name="idm140528183431936"></a>

          <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装库文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_mandir"></a>
          <a class="indexterm" name="idm140528183427792"></a>

          <a class="indexterm" name="idm140528183426304"></a>

          <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装手册页。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_mysqlkeyringdir"></a>
          <a class="indexterm" name="idm140528183422160"></a>

          <a class="indexterm" name="idm140528183420704"></a>

          <code class="literal">-DINSTALL_MYSQLKEYRINGDIR=<em class="replaceable"><code>dir_path</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          用作</font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件数据文件</font><font style="vertical-align: inherit;">位置的默认目录
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值是平台特定的，取决于</font><span class="command"><strong><font style="vertical-align: inherit;">CMake</font></strong></span><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的值
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">看到的描述
           </font><font style="vertical-align: inherit;">在系统变量</font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;">第5.1.5节，“服务器系统变量”</font></a><font style="vertical-align: inherit;">。
        </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a>
          <span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/security.html#sysvar_keyring_file_data"><code class="literal">keyring_file_data</code></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.11中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_mysqlsharedir"></a>
          <a class="indexterm" name="idm140528183411504"></a>

          <a class="indexterm" name="idm140528183410048"></a>

          <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装共享数据文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_mysqltestdir"></a>
          <a class="indexterm" name="idm140528183405888"></a>

          <a class="indexterm" name="idm140528183404432"></a>

          <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><code class="filename">mysql-test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          目录。</font><font style="vertical-align: inherit;">要禁止安装此目录，请将该选项显式设置为空值（</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_mysqltestdir"><code class="option">-DINSTALL_MYSQLTESTDIR=</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_pkgconfigdir"></a>
          <a class="indexterm" name="idm140528183398480"></a>

          <a class="indexterm" name="idm140528183397024"></a>

          <code class="literal">-DINSTALL_PKGCONFIGDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          用于安装</font><span class="command"><strong><font style="vertical-align: inherit;">pkg-config</font></strong></span></font><code class="filename">mysqlclient.pc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件
           </font><font style="vertical-align: inherit;">的目录
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值是
           </font><font style="vertical-align: inherit;">，除非
           </font><font style="vertical-align: inherit;">结束
           </font><font style="vertical-align: inherit;">，在这种情况下，首先被删除。
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><code class="literal">INSTALL_LIBDIR/pkgconfig</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_libdir"><code class="option">INSTALL_LIBDIR</code></a><font style="vertical-align: inherit;"></font><code class="literal">/mysql</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><a name="option_cmake_install_plugindir"></a>
          <a class="indexterm" name="idm140528183388896"></a>

          <a class="indexterm" name="idm140528183387440"></a>

          <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          插件目录的位置。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_plugin_dir"><code class="option">--plugin_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_sbindir"></a>
          <a class="indexterm" name="idm140528183381856"></a>

          <a class="indexterm" name="idm140528183380368"></a>

          <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_scriptdir"></a>
          <a class="indexterm" name="idm140528183375072"></a>

          <a class="indexterm" name="idm140528183373616"></a>

          <code class="literal">-DINSTALL_SCRIPTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_secure_file_privdir"></a>
          <a class="indexterm" name="idm140528183368144"></a>

          <a class="indexterm" name="idm140528183366640"></a>

          <code class="literal">-DINSTALL_SECURE_FILE_PRIVDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">
          的默认值
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值是平台特定的，取决于</font><span class="command"><strong><font style="vertical-align: inherit;">CMake</font></strong></span><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的值
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">看到的描述
           </font><font style="vertical-align: inherit;">在系统变量</font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;">第5.1.5节，“服务器系统变量”</font></a><font style="vertical-align: inherit;">。
        </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a>
          <span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要设置</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_secure_file_priv_embeddeddir"><code class="option">INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_secure_file_priv_embeddeddir"></a>
          <a class="indexterm" name="idm140528183355248"></a>

          <a class="indexterm" name="idm140528183353792"></a>

          <code class="literal">-DINSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器</font><font style="vertical-align: inherit;">
          的</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的默认值
           </font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所述</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器库被弃用的MySQL 19年5月7日的，并且将在MySQL 8.0被移除。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="option_cmake_install_sharedir"></a>
          <a class="indexterm" name="idm140528183345936"></a>

          <a class="indexterm" name="idm140528183344448"></a>

          <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><code class="filename">aclocal/mysql.m4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_sqlbenchdir"></a>
          <a class="indexterm" name="idm140528183339600"></a>

          <a class="indexterm" name="idm140528183338144"></a>

          <code class="literal">-DINSTALL_SQLBENCHDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在哪里安装</font></font><code class="filename">sql-bench</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录。</font><font style="vertical-align: inherit;">要禁止安装此目录，请将该选项显式设置为空值（</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_sqlbenchdir"><code class="option">-DINSTALL_SQLBENCHDIR=</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="filename">sql-bench</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录不再包含在MYSQL发行版中，因此该
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_sqlbenchdir"><code class="option">INSTALL_SQLBENCHDIR=</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项也被删除。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_install_supportfilesdir"></a>
          <a class="indexterm" name="idm140528183329904"></a>

          <a class="indexterm" name="idm140528183328448"></a>

          <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          何处安装额外的支持文件。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysql_datadir"></a>
          <a class="indexterm" name="idm140528183324208"></a>

          <a class="indexterm" name="idm140528183322720"></a>

          <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL数据目录的位置。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_odbc_includes"></a>
          <a class="indexterm" name="idm140528183317136"></a>

          <a class="indexterm" name="idm140528183315648"></a>

          <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          ODBC的位置包括目录，并且可以在配置连接器/ ODBC时使用。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_odbc_lib_dir"></a>
          <a class="indexterm" name="idm140528183311488"></a>

          <a class="indexterm" name="idm140528183310000"></a>

          <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          ODBC库目录的位置，并且可以在配置Connector / ODBC时使用。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_sysconfdir"></a>
          <a class="indexterm" name="idm140528183305776"></a>

          <a class="indexterm" name="idm140528183304320"></a>

          <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认</font></font><code class="literal">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件目录。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此位置不能在服务器启动时设置，但可以使用</font><font style="vertical-align: inherit;">
          选项</font><font style="vertical-align: inherit;">使用给定的选项文件启动服务器
           </font><font style="vertical-align: inherit;">，其中</font><font style="vertical-align: inherit;">是该文件的完整路径名。
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a><font style="vertical-align: inherit;"></font><em class="replaceable"><code>file_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><a name="option_cmake_systemd_pid_dir"></a>
          <a class="indexterm" name="idm140528183297152"></a>

          <a class="indexterm" name="idm140528183295664"></a>

          <a class="indexterm" name="idm140528183294176"></a>

          <code class="literal">-DSYSTEMD_PID_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL由systemd管理时，创建PID文件的目录的名称。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="filename">/var/run/mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">这可能会根据该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">隐式更改
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除非</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用，</font><font style="vertical-align: inherit;">否则此选项将被忽略
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_systemd_service_name"></a>
          <a class="indexterm" name="idm140528183286768"></a>

          <a class="indexterm" name="idm140528183285312"></a>

          <a class="indexterm" name="idm140528183283808"></a>

          <code class="literal">-DSYSTEMD_SERVICE_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当由systemd管理MySQL时使用的MySQL服务的名称。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">这可能会根据该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">隐式更改
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除非</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用，</font><font style="vertical-align: inherit;">否则此选项将被忽略
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_tmpdir"></a>
          <a class="indexterm" name="idm140528183276384"></a>

          <a class="indexterm" name="idm140528183274928"></a>

          <code class="literal">-DTMPDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          用于</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_tmpdir"><code class="literal">tmpdir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的默认位置
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果未指定，则该值默认为</font></font><code class="literal">P_tmpdir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          in </font></font><code class="literal">&lt;stdio.h&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<h4><a name="option_cmake_storage_engine_options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎选项</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      存储引擎被构建为插件。</font><font style="vertical-align: inherit;">您可以将插件构建为静态模块（编译到服务器中）或动态模块（构建为动态库，在使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#install-plugin" title="13.7.3.3安装PLUGIN语法"><code class="literal">INSTALL PLUGIN</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句或</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_plugin-load"><code class="option">--plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项之前</font><font style="vertical-align: inherit;">必须将其安装到服务器中</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">一些插件可能不支持静态或动态构建。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      的</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#myisam-storage-engine" title="15.2 MyISAM存储引擎"><code class="literal">MyISAM</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#merge-storage-engine" title="15.7 MERGE存储引擎"><code class="literal">MERGE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#memory-storage-engine" title="15.3内存存储引擎"><code class="literal">MEMORY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
       </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#csv-storage-engine" title="15.4 CSV存储引擎"><code class="literal">CSV</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发动机是强制性的（总是编译到服务器）和无需显式安装。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要将存储引擎静态编译到服务器中，请使用
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一些可允许的</font><font style="vertical-align: inherit;">值
       </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
       </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
       </font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">
      （</font><font style="vertical-align: inherit;">），和
       </font><font style="vertical-align: inherit;">（分区支持）。</font><font style="vertical-align: inherit;">例子：
    </font></font><code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>engine</code></em><font style="vertical-align: inherit;"></font><code class="literal">ARCHIVE</code><font style="vertical-align: inherit;"></font><code class="literal">BLACKHOLE</code><font style="vertical-align: inherit;"></font><code class="literal">EXAMPLE</code><font style="vertical-align: inherit;"></font><code class="literal">FEDERATED</code><font style="vertical-align: inherit;"></font><code class="literal">NDB</code><font style="vertical-align: inherit;"></font><code class="literal">NDBCLUSTER</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"></font><code class="literal">PARTITION</code><font style="vertical-align: inherit;"></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DWITH_ARCHIVE_STORAGE_ENGINE = 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-DWITH_BLACKHOLE_STORAGE_ENGINE = 1</font></font><font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
        <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在使用NDB群集源构建NDB群集时受支持。</font><font style="vertical-align: inherit;">它不能用于在其他MySQL源代码树或发行版中启用群集支持。</font><font style="vertical-align: inherit;">在NDB集群源代码分发中，默认情况下启用。</font><font style="vertical-align: inherit;">有关更多</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-install-linux-source" title="21.2.2.4在Linux上从Source构建NDB集群"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-install-linux-source" title="21.2.2.4在Linux上从Source构建NDB集群"><font style="vertical-align: inherit;">第21.2.2.4节“从Linux上的Source构建NDB集群”</font></a><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-install-windows-source" title="21.2.3.2在Windows上从Source编译和安装NDB集群"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.2.3.2节“从Windows上的Source编译和安装NDB集群”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果没有性能模式支持，则无法进行编译。</font><font style="vertical-align: inherit;">如果希望在没有特定类型的仪器的情况下进行编译，可以使用以下</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">来完成
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DISABLE_PSI_COND</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_FILE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_IDLE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_MEMORY</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_METADATA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_MUTEX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_PS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_RWLOCK</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_SOCKET</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_SP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_STAGE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_STATEMENT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_STATEMENT_DIGEST</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_TABLE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_THREAD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DISABLE_PSI_TRANSACTION</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例如，要在不使用互斥测试的情况下进行编译，请使用该</font></font><code class="option">-DDISABLE_PSI_MUTEX=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">配置MySQL </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要从构建中排除存储引擎，请使用
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例子：
    </font></font><code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code><font style="vertical-align: inherit;"></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DWITH_EXAMPLE_STORAGE_ENGINE = 0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-DWITH_FEDERATED_STORAGE_ENGINE = 0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-DWITH_PARTITION_STORAGE_ENGINE = 0</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      也可以使用</font><font style="vertical-align: inherit;">
      （但是
       </font><font style="vertical-align: inherit;">
      是优选的）</font><font style="vertical-align: inherit;">从构建中排除存储引擎
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例子：
    </font></font><code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code><font style="vertical-align: inherit;"></font><code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code><font style="vertical-align: inherit;"></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DWITHOUT_EXAMPLE_STORAGE_ENGINE = 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-DWITHOUT_FEDERATED_STORAGE_ENGINE = 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-DWITHOUT_PARTITION_STORAGE_ENGINE = 1</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果既没有
       </font><font style="vertical-align: inherit;">
      也没有
       </font><font style="vertical-align: inherit;">
      为给定的存储引擎指定引擎，则该引擎被构建为共享模块，或者如果不能将其构建为共享模块，则将其排除。
</font></font><code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code><font style="vertical-align: inherit;"></font><code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code><font style="vertical-align: inherit;"></font></p>
<h4><a name="cmake-feature-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能选项</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_compilation_comment"></a>
          <a class="indexterm" name="idm140528183228672"></a>

          <a class="indexterm" name="idm140528183227216"></a>

          <code class="literal">-DCOMPILATION_COMMENT=<em class="replaceable"><code>string</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          关于编译环境的描述性评论。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_default_charset"></a>
          <a class="indexterm" name="idm140528183222976"></a>

          <a class="indexterm" name="idm140528183221488"></a>

          <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器字符集。</font><font style="vertical-align: inherit;">默认情况下，MySQL使用
           </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（cp1252西欧）字符集。
        </font></font></p><p>
          <em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是一种
           </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">armscii8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">cp1250</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp1251</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">cp1256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp1257</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">cp850</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp852</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">cp866</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">dec8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">euckr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">geostd8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">greek</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">hebrew</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">hp8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">keybcs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">koi8r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">koi8u</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">latin5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">latin7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">macce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">macroman</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">swe7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">tis620</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">允许的字符集在</font></font><code class="filename">cmake/character_sets.cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">被列为
           </font><font style="vertical-align: inherit;">值</font></font><code class="literal">CHARSETS_AVAILABLE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_server"><code class="option">--character_set_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_default_collation"></a>
          <a class="indexterm" name="idm140528183184400"></a>

          <a class="indexterm" name="idm140528183182944"></a>

          <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器整理。</font><font style="vertical-align: inherit;">默认情况下，MySQL使用
           </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句来确定每个字符集可用的排序规则。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_server"><code class="option">--collation_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_cond"></a>
          <a class="indexterm" name="idm140528183175072"></a>

          <a class="indexterm" name="idm140528183173584"></a>

          <code class="literal">-DDISABLE_PSI_COND=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式条件检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_file"></a>
          <a class="indexterm" name="idm140528183168736"></a>

          <a class="indexterm" name="idm140528183167248"></a>

          <code class="literal">-DDISABLE_PSI_FILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除Performance Schema文件工具。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_idle"></a>
          <a class="indexterm" name="idm140528183162352"></a>

          <a class="indexterm" name="idm140528183160864"></a>

          <code class="literal">-DDISABLE_PSI_IDLE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能架构空闲检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_memory"></a>
          <a class="indexterm" name="idm140528183155968"></a>

          <a class="indexterm" name="idm140528183154512"></a>

          <code class="literal">-DDISABLE_PSI_MEMORY=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除Performance Schema内存工具。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_metadata"></a>
          <a class="indexterm" name="idm140528183149552"></a>

          <a class="indexterm" name="idm140528183148096"></a>

          <code class="literal">-DDISABLE_PSI_METADATA=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能架构元数据工具。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_mutex"></a>
          <a class="indexterm" name="idm140528183143120"></a>

          <a class="indexterm" name="idm140528183141664"></a>

          <code class="literal">-DDISABLE_PSI_MUTEX=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式互斥体检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_rwlock"></a>
          <a class="indexterm" name="idm140528183136768"></a>

          <a class="indexterm" name="idm140528183135312"></a>

          <code class="literal">-DDISABLE_PSI_RWLOCK=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式rwlock检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_socket"></a>
          <a class="indexterm" name="idm140528183130416"></a>

          <a class="indexterm" name="idm140528183128960"></a>

          <code class="literal">-DDISABLE_PSI_SOCKET=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式套接字检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_sp"></a>
          <a class="indexterm" name="idm140528183124000"></a>

          <a class="indexterm" name="idm140528183122512"></a>

          <code class="literal">-DDISABLE_PSI_SP=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除Performance Schema存储程序工具。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_stage"></a>
          <a class="indexterm" name="idm140528183117600"></a>

          <a class="indexterm" name="idm140528183116144"></a>

          <code class="literal">-DDISABLE_PSI_STAGE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除Performance Schema阶段检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement"></a>
          <a class="indexterm" name="idm140528183111184"></a>

          <a class="indexterm" name="idm140528183109728"></a>

          <code class="literal">-DDISABLE_PSI_STATEMENT=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式语句检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement_digest"></a>
          <a class="indexterm" name="idm140528183104752"></a>

          <a class="indexterm" name="idm140528183103248"></a>

          <code class="literal">-DDISABLE_PSI_STATEMENT_DIGEST=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除性能模式statement_digest检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_table"></a>
          <a class="indexterm" name="idm140528183098304"></a>

          <a class="indexterm" name="idm140528183096848"></a>

          <code class="literal">-DDISABLE_PSI_TABLE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否排除Performance Schema表格检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_ps"></a>
          <a class="indexterm" name="idm140528183091888"></a>

          <a class="indexterm" name="idm140528183090400"></a>

          <code class="literal">-DDISABLE_PSI_PS=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          排除性能模式准备的语句实例检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_thread"></a>
          <a class="indexterm" name="idm140528183085488"></a>

          <a class="indexterm" name="idm140528183084032"></a>

          <code class="literal">-DDISABLE_PSI_THREAD=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          排除性能架构线程检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包含）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          仅在没有任何检测的情况下构建时禁用线程，因为其他工具对线程有依赖性。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_disable_psi_transaction"></a>
          <a class="indexterm" name="idm140528183078528"></a>

          <a class="indexterm" name="idm140528183077072"></a>

          <code class="literal">-DDISABLE_PSI_TRANSACTION=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          排除性能架构事务检测。</font><font style="vertical-align: inherit;">默认值是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包含）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_download_boost"></a>
          <a class="indexterm" name="idm140528183072112"></a>

          <a class="indexterm" name="idm140528183070624"></a>

          <code class="literal">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否下载Boost库。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          查看</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于使用Boost的更多讨论</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_download_boost_timeout"></a>
          <a class="indexterm" name="idm140528183064336"></a>

          <a class="indexterm" name="idm140528183062880"></a>

          <code class="literal">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下载Boost库的超时时间（秒）。</font><font style="vertical-align: inherit;">默认值是600秒。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          查看</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于使用Boost的更多讨论</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enable_debug_sync"></a>
          <a class="indexterm" name="idm140528183057168"></a>

          <a class="indexterm" name="idm140528183055712"></a>

          <code class="literal">-DENABLE_DEBUG_SYNC=<em class="replaceable"><code>bool</code></em></code>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.18开始，</font></font><code class="option">ENABLE_DEBUG_SYNC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被删除并启用
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试同步。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否将Debug Sync工具编译到服务器中。</font><font style="vertical-align: inherit;">该工具用于测试和调试。</font><font style="vertical-align: inherit;">该选项默认是启用的，但除非MySQL配置了调试功能，否则不起作用。</font><font style="vertical-align: inherit;">如果启用了调试并且您想禁用调试同步，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enable_debug_sync"><code class="option">-DENABLE_DEBUG_SYNC=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          编译时，Debug Sync在运行时默认为禁用。</font><font style="vertical-align: inherit;">要启用它，请</font><font style="vertical-align: inherit;">使用
           </font><font style="vertical-align: inherit;">
          选项</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中</font><font style="vertical-align: inherit;">超时值大于0.（默认值为0，禁用调试同步）</font><font style="vertical-align: inherit;">将成为各个同步点的默认超时值。
        </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_debug-sync-timeout"><code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code></a><font style="vertical-align: inherit;"></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在使用该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">编译调试支持时，可以使用存储引擎的</font><font style="vertical-align: inherit;">
          同步调试检查</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关调试同步工具以及如何使用同步点的说明，请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL内部：测试同步</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enable_downloads"></a>
          <a class="indexterm" name="idm140528183040256"></a>

          <a class="indexterm" name="idm140528183038768"></a>

          <a class="indexterm" name="idm140528183037280"></a>

          <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否下载可选文件。</font><font style="vertical-align: inherit;">例如，启用此选项后，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake会</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载测试套件使用的Google Test分发版以运行单元测试。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enable_dtrace"></a>
          <a class="indexterm" name="idm140528183032688"></a>

          <a class="indexterm" name="idm140528183031200"></a>

          <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否包含对DTrace探针的支持。</font><font style="vertical-align: inherit;">有关DTrace的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#dba-dtrace-server" title="5.7跟踪mysqld使用DTrace"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.7节“使用DTrace跟踪mysqld”</font></font></a>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此选项已弃用，因为在MySQL 5.7中不支持DTrace，并在MySQL 8.0中删除。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enable_gcov"></a>
          <a class="indexterm" name="idm140528183025664"></a>

          <a class="indexterm" name="idm140528183024208"></a>

          <code class="literal">-DENABLE_GCOV=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否包含gcov支持（仅限Linux）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enable_gprof"></a>
          <a class="indexterm" name="idm140528183020048"></a>

          <a class="indexterm" name="idm140528183018560"></a>

          <code class="literal">-DENABLE_GPROF=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用</font></font><code class="literal">gprof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限优化的Linux版本）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enabled_local_infile"></a>
          <a class="indexterm" name="idm140528183013680"></a>

          <a class="indexterm" name="idm140528183012224"></a>

          <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项控制</font></font><code class="literal">LOCAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL客户端库</font><font style="vertical-align: inherit;">的编译默认
           </font><font style="vertical-align: inherit;">功能。</font><font style="vertical-align: inherit;">因此，没有明确安排的客户端会</font></font><code class="literal">LOCAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_local_infile"><code class="option">ENABLED_LOCAL_INFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL构建时指定</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">禁用或启用功能
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，MySQL二进制分发版中的客户端库在</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_local_infile"><code class="option">ENABLED_LOCAL_INFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用时</font><font style="vertical-align: inherit;">编译
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您从源代码编译MySQL，请
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_local_infile"><code class="option">ENABLED_LOCAL_INFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据未明确安排的客户端是否</font></font><code class="literal">LOCAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别禁用或启用功能，将其配置为禁用或启用。
        </font></font></p><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_enabled_local_infile"><code class="option">ENABLED_LOCAL_INFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制客户端</font></font><code class="literal">LOCAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          功能</font><font style="vertical-align: inherit;">的默认值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于服务器，
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_local_infile"><code class="literal">local_infile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量控制着服务器端的</font></font><code class="literal">LOCAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能。</font><font style="vertical-align: inherit;">要明确导致服务器拒绝或允许
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE语法"><code class="literal">LOAD DATA
          LOCAL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句（不论如何客户程序和库在构建时或运行时配置），启动
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_local_infile"><code class="literal">local_infile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别禁用或启用。
          </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_local_infile"><code class="literal">local_infile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以在运行时设置。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#load-data-local" title="6.1.6 LOAD DATA LOCAL的安全问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.6节“LOAD DATA LOCAL的安全问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_enabled_profiling"></a>
          <a class="indexterm" name="idm140528182991680"></a>

          <a class="indexterm" name="idm140528182990224"></a>

          <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用查询分析代码（用于
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-profile" title="13.7.5.30 SHOW PROFILE语法"><code class="literal">SHOW PROFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-profiles" title="13.7.5.31 SHOW PROFILES语法"><code class="literal">SHOW PROFILES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_force_unsupported_compiler"></a>
          <a class="indexterm" name="idm140528182983184"></a>

          <a class="indexterm" name="idm140528182981728"></a>

          <code class="literal">-DFORCE_UNSUPPORTED_COMPILER=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake会</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查支持的编译器的最低版本：Visual Studio 2013（Windows）; </font><font style="vertical-align: inherit;">GCC 4.4或Clang 3.3（Linux）; </font><font style="vertical-align: inherit;">Developer Studio 12.5（Solaris服务器）; </font><font style="vertical-align: inherit;">Developer Studio 12.2或GCC 4.4（Solaris客户端库）; </font><font style="vertical-align: inherit;">Clang 3.3（macOS），Clang 3.3（FreeBSD）。</font><font style="vertical-align: inherit;">要禁用此检查，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_force_unsupported_compiler"><code class="option">-DFORCE_UNSUPPORTED_COMPILER=ON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_ignore_aio_check"></a>
          <a class="indexterm" name="idm140528182975488"></a>

          <a class="indexterm" name="idm140528182974000"></a>

          <a class="indexterm" name="idm140528182972512"></a>

          <code class="literal">-DIGNORE_AIO_CHECK=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果该
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选项在Linux上提供，则该</font></font><code class="literal">libaio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          库默认情况下必须链接。</font><font style="vertical-align: inherit;">如果您没有
           </font></font><code class="literal">libaio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或不想安装它，可以通过指定来取消检查
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_ignore_aio_check"><code class="option">-DIGNORE_AIO_CHECK=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_innodb_page_atomic_ref_count"></a>
          <a class="indexterm" name="idm140528182965152"></a>

          <a class="indexterm" name="idm140528182963728"></a>

          <code class="literal">-DINNODB_PAGE_ATOMIC_REF_COUNT=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此选项已过时。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_max_indexes"></a>
          <a class="indexterm" name="idm140528182959504"></a>

          <a class="indexterm" name="idm140528182958016"></a>

          <code class="literal">-DMAX_INDEXES=<em class="replaceable"><code>num</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每个表的最大索引数。</font><font style="vertical-align: inherit;">默认值为64.最大值为255.小于64的值将被忽略，并使用默认值64。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysql_maintainer_mode"></a>
          <a class="indexterm" name="idm140528182953760"></a>

          <a class="indexterm" name="idm140528182952304"></a>

          <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用MySQL维护者特定的开发环境。</font><font style="vertical-align: inherit;">如果启用，该选项会导致编译器警告成为错误。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mutex_type"></a>
          <a class="indexterm" name="idm140528182948064"></a>

          <a class="indexterm" name="idm140528182946608"></a>

          <code class="literal">-DMUTEX_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          互斥体类型使用的</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">选项包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">event</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用事件互斥。</font><font style="vertical-align: inherit;">这是默认值和原始</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              互斥体实现。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在UNIX系统上使用POSIX互斥锁。</font></font><code class="literal">CRITICAL_SECTION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果可用，</font><font style="vertical-align: inherit;">请</font><font style="vertical-align: inherit;">在Windows上</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">注入。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">futex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用Linux futex而不是条件变量来安排等待线程。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_mysqlx_tcp_port"></a>
          <a class="indexterm" name="idm140528182935168"></a>

          <a class="indexterm" name="idm140528182933680"></a>

          <a class="indexterm" name="idm140528182932192"></a>

          <a class="indexterm" name="idm140528182931120"></a>

          <a class="indexterm" name="idm140528182930048"></a>

          <code class="literal">-DMYSQLX_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          X插件侦听TCP / IP连接的端口号。</font><font style="vertical-align: inherit;">默认值是33060。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/document-store.html#option_mysqld_mysqlx-port"><code class="option">--mysqlx-port</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysqlx_unix_addr"></a>
          <a class="indexterm" name="idm140528182924672"></a>

          <a class="indexterm" name="idm140528182923184"></a>

          <code class="literal">-DMYSQLX_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器侦听X插件套接字连接的Unix套接字文件路径。</font><font style="vertical-align: inherit;">这必须是绝对路径名称。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="filename">/tmp/mysqlx.sock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/document-store.html#option_mysqld_mysqlx-socket"><code class="option">--mysqlx-socket</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysql_project_name"></a>
          <a class="indexterm" name="idm140528182916608"></a>

          <a class="indexterm" name="idm140528182915152"></a>

          <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于Windows或MacOS，将项目名称合并到项目文件名中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysql_tcp_port"></a>
          <a class="indexterm" name="idm140528182910880"></a>

          <a class="indexterm" name="idm140528182909392"></a>

          <a class="indexterm" name="idm140528182907904"></a>

          <a class="indexterm" name="idm140528182906832"></a>

          <a class="indexterm" name="idm140528182905760"></a>

          <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器侦听TCP / IP连接的端口号。</font><font style="vertical-align: inherit;">默认值是3306。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_port"><code class="option">--port</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_mysql_unix_addr"></a>
          <a class="indexterm" name="idm140528182900544"></a>

          <a class="indexterm" name="idm140528182899056"></a>

          <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器侦听套接字连接的Unix套接字文件路径。</font><font style="vertical-align: inherit;">这必须是绝对路径名称。</font><font style="vertical-align: inherit;">默认是</font></font><code class="filename">/tmp/mysql.sock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该值可以在服务器启动时使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">进行设置
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_optimizer_trace"></a>
          <a class="indexterm" name="idm140528182892656"></a>

          <a class="indexterm" name="idm140528182891168"></a>

          <code class="literal">-DOPTIMIZER_TRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否支持优化器跟踪。</font><font style="vertical-align: inherit;">查看
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL内部：追踪优化器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_reproducible_build"></a>
          <code class="literal">-DREPRODUCIBLE_BUILD=<em class="replaceable"><code>bool</code></em></code>
        </p><a class="indexterm" name="idm140528182885104"></a><a class="indexterm" name="idm140528182883648"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于在Linux系统上构建，此选项控制是否需要额外注意创建独立于构建位置和时间的构建结果。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.19中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_win_debug_no_inline"></a>
          <a class="indexterm" name="idm140528182880016"></a>

          <a class="indexterm" name="idm140528182878560"></a>

          <code class="literal">-DWIN_DEBUG_NO_INLINE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否在Windows上禁用函数内联。</font><font style="vertical-align: inherit;">默认是关闭的（内联启用）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_asan"></a>
          <a class="indexterm" name="idm140528182874400"></a>

          <a class="indexterm" name="idm140528182872944"></a>

          <code class="literal">-DWITH_ASAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否为支持它的编译器启用AddressSanitizer。</font><font style="vertical-align: inherit;">默认是关闭的。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_asan_scope"></a>
          <a class="indexterm" name="idm140528182868672"></a>

          <a class="indexterm" name="idm140528182867184"></a>

          <code class="literal">-DWITH_ASAN_SCOPE=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用AddressSanitizer
           </font></font><code class="literal">-fsanitize-address-use-after-scope</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clang标志以用于范围检测。</font><font style="vertical-align: inherit;">默认是关闭的。</font><font style="vertical-align: inherit;">要使用此选项，</font></font><code class="literal">-DWITH_ASAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还必须启用。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_authentication_ldap"></a>
          <code class="literal">-DWITH_AUTHENTICATION_LDAP=<em class="replaceable"><code>bool</code></em></code>
        </p><a class="indexterm" name="idm140528182860176"></a><a class="indexterm" name="idm140528182858672"></a><a class="indexterm" name="idm140528182857168"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果无法构建LDAP认证插件，是否报告错误：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果禁用此选项（默认），则在找到所需的头文件和库时，将创建LDAP插件。</font><font style="vertical-align: inherit;">如果不是，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会显示一个关于它的注释。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果启用此选项，则无法找到所需的头文件和库会导致</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              产生错误，从而阻止构建服务器。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关LDAP认证的信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#ldap-pluggable-authentication" title="6.5.1.8 LDAP可插入验证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.1.8节“LDAP可插入认证”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该选项已添加到MySQL 5.7.19中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_authentication_pam"></a>
          <a class="indexterm" name="idm140528182848928"></a>

          <a class="indexterm" name="idm140528182847472"></a>

          <code class="literal">-DWITH_AUTHENTICATION_PAM=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建包含此插件的源代码树的PAM认证插件。</font><font style="vertical-align: inherit;">（请参阅
           </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#pam-pluggable-authentication" title="6.5.1.6 PAM可插入式验证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.1.6节“PAM Pluggable Authentication”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）如果指定了此选项并且无法编译插件，则构建失败。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_aws_sdk"></a>
          <code class="literal">-DWITH_AWS_SDK=<em class="replaceable"><code>path_name</code></em></code>
        </p><a class="indexterm" name="idm140528182841152"></a><a class="indexterm" name="idm140528182839664"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          亚马逊网络服务软件开发工具包的位置。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.19中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_boost"></a>
          <a class="indexterm" name="idm140528182836112"></a>

          <a class="indexterm" name="idm140528182834656"></a>

          <code class="literal">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Boost库是构建MySQL所必需的。</font><font style="vertical-align: inherit;">这些
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项可以控制库源位置，以及是否自动下载它：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="option">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              指定Boost库目录位置。</font><font style="vertical-align: inherit;">也可以通过设置</font></font><code class="literal">BOOST_ROOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
               </font></font><code class="literal">WITH_BOOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量</font><font style="vertical-align: inherit;">来指定Boost位置
               </font><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从MySQL 5.7.11开始，它
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_boost"><code class="option">-DWITH_BOOST=system</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是允许的，并且表示在标准位置的编译主机上安装了正确版本的Boost。</font><font style="vertical-align: inherit;">在这种情况下，使用的是Boost的安装版本，而不是MySQL源代码发行版中包含的任何版本。
            </font></font></p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_download_boost"><code class="option">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              指定是否在指定位置不存在的情况下下载Boost源。</font><font style="vertical-align: inherit;">默认是
               </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_download_boost_timeout"><code class="option">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              下载Boost库的超时时间（秒）。</font><font style="vertical-align: inherit;">默认值是600秒。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，如果您通常构建MySQL，将对象输出放置在</font></font><code class="filename">bld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL源代码树</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">子目录中，则可以使用Boost构建，如下所示：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir bld</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cd bld</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cmake .. -DOWNLOAD_BOOST = ON -DWITH_BOOST = $ HOME / my_boost</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这会导致Boost被下载到
           </font></font><code class="filename">my_boost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的主目录下的目录中。</font><font style="vertical-align: inherit;">如果所需的Boost版本已经存在，则不进行下载。</font><font style="vertical-align: inherit;">如果所需的Boost版本更改，则会下载较新的版本。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果Boost已经在本地安装，并且编译器自己找到Boost头文件，则可能不需要指定前面的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">但是，如果MySQL所需的Boost版本发生更改并且本地安装的版本尚未升级，则可能会出现构建问题。</font><font style="vertical-align: inherit;">使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          选项应该给你一个成功的构建。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过上述允许将Boost下载到指定位置的设置，当所需的Boost版本发生更改时，您需要删除该</font></font><code class="literal">bld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹并重新创建它，然后</font><font style="vertical-align: inherit;">再次</font><font style="vertical-align: inherit;">执行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤。</font><font style="vertical-align: inherit;">否则，新的Boost版本可能无法下载，编译可能会失败。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_client_protocol_tracing"></a>
          <a class="indexterm" name="idm140528182810784"></a>

          <a class="indexterm" name="idm140528182809280"></a>

          <code class="literal">-DWITH_CLIENT_PROTOCOL_TRACING=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否将客户端协议跟踪框架构建到客户端库中。</font><font style="vertical-align: inherit;">默认情况下，此选项已启用。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关编写协议跟踪客户端插件的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#writing-protocol-trace-plugins" title="28.2.4.11编写协议跟踪插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.2.4.11节“编写协议跟踪插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          另请参阅
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_test_trace_plugin"><code class="option">WITH_TEST_TRACE_PLUGIN</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_curl"></a>
          <code class="literal">-DWITH_CURL=<em class="replaceable"><code>curl_type</code></em></code>
        </p><a class="indexterm" name="idm140528182801296"></a><a class="indexterm" name="idm140528182799808"></a><p><font style="vertical-align: inherit;"></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卷发</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font><font style="vertical-align: inherit;">
          的位置</font><font style="vertical-align: inherit;">。
          </font></font><em class="replaceable"><code>curl_type</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是
           </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（使用系统
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卷曲</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库）或路径名
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卷曲</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.19中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_debug"></a>
          <a class="indexterm" name="idm140528182792992"></a>

          <a class="indexterm" name="idm140528182791536"></a>

          <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否包含调试支持。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用调试支持配置MySQL使您</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_debug"><code class="option">--debug="d,parser_debug"</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          可以在启动服务器时</font><font style="vertical-align: inherit;">使用该</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">这会导致用于处理SQL语句的Bison解析器将解析器跟踪转储到服务器的标准错误输出。</font><font style="vertical-align: inherit;">通常，该输出写入错误日志。
        </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎的</font><font style="vertical-align: inherit;">
          同步调试检查</font></font><code class="literal">UNIV_DEBUG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在使用该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">编译调试支持时</font><font style="vertical-align: inherit;">定义在</font><font style="vertical-align: inherit;">并且可用
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当编译调试支持时，
           </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_sync_debug"><code class="literal">innodb_sync_debug</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          配置选项可用于启用或禁用
           </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同步调试检查。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从MySQL 5.7.18开始，启用
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也启用调试同步。</font><font style="vertical-align: inherit;">有关调试同步工具以及如何使用同步点的说明，请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL内部：测试同步</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_default_feature_set"></a>
          <a class="indexterm" name="idm140528182778224"></a>

          <a class="indexterm" name="idm140528182776768"></a>

          <code class="literal">-DWITH_DEFAULT_FEATURE_SET=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否使用标志
           </font></font><code class="filename">cmake/build_configurations/feature_set.cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_editline"></a>
          <a class="indexterm" name="idm140528182771856"></a>

          <a class="indexterm" name="idm140528182770368"></a>

          <code class="literal">-DWITH_EDITLINE=<em class="replaceable"><code>value</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用哪个</font></font><code class="literal">libedit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="literal">editline</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          库。</font><font style="vertical-align: inherit;">允许的值是
           </font></font><code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认）和
           </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p>
          <a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_editline"><code class="option">WITH_EDITLINE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换
           </font></font><code class="option">WITH_LIBEDIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，已被删除。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_embedded_server"></a>
          <a class="indexterm" name="idm140528182761568"></a>

          <a class="indexterm" name="idm140528182760112"></a>

          <code class="literal">-DWITH_EMBEDDED_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器库。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所述</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器库被弃用的MySQL 5.7.17的，并且将在MySQL 8.0被移除。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_embedded_shared_library"></a>
          <a class="indexterm" name="idm140528182753488"></a>

          <a class="indexterm" name="idm140528182751984"></a>

          <code class="literal">-DWITH_EMBEDDED_SHARED_LIBRARY=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建共享的</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          嵌入式服务器库。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所述</font></font><code class="literal">libmysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌入式服务器库被弃用的MySQL 5.7.17的，并且将在MySQL 8.0被移除。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_extra_charsets"></a>
          <a class="indexterm" name="idm140528182745456"></a>

          <a class="indexterm" name="idm140528182744000"></a>

          <code class="literal">-DWITH_EXTRA_CHARSETS=<em class="replaceable"><code>name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要包含哪些额外的字符集：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：所有字符集。</font><font style="vertical-align: inherit;">这是默认设置。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">complex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：复杂的字符集。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：没有额外的字符集。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_innodb_extra_debug"></a>
          <a class="indexterm" name="idm140528182734880"></a>

          <a class="indexterm" name="idm140528182733424"></a>

          <code class="literal">-DWITH_INNODB_EXTRA_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否包含额外的InnoDB调试支持。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用</font></font><code class="literal">WITH_INNODB_EXTRA_DEBUG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的InnoDB调试检查。</font><font style="vertical-align: inherit;">该选项只能在启用时</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_innodb_memcached"></a>
          <a class="indexterm" name="idm140528182727072"></a>

          <a class="indexterm" name="idm140528182725616"></a>

          <code class="literal">-DWITH_INNODB_MEMCACHED=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否生成memcached共享库（</font></font><code class="filename">libmemcached.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="filename">innodb_engine.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_keyring_test"></a>
          <a class="indexterm" name="idm140528182719936"></a>

          <a class="indexterm" name="idm140528182718480"></a>

          <code class="literal">-DWITH_KEYRING_TEST=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建</font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件</font><font style="vertical-align: inherit;">附带的测试程序
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">测试文件源代码位于</font></font><code class="filename">plugin/keyring/keyring-test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          目录中。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.11中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_libevent"></a>
          <a class="indexterm" name="idm140528182711568"></a>

          <a class="indexterm" name="idm140528182710080"></a>

          <code class="literal">-DWITH_LIBEVENT=<em class="replaceable"><code>string</code></em></code>
        </p><p><font style="vertical-align: inherit;"></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">
          哪个</font><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">允许的值是</font></font><code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认）
           </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，和</font></font><code class="literal">yes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您指定</font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">yes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果存在使用</font><font style="vertical-align: inherit;">系统</font><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">如果找不到系统库，</font></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">捆绑的
           </font><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">该
           </font></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库是</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcached </font><font style="vertical-align: inherit;">所必需的
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_libwrap"></a>
          <a class="indexterm" name="idm140528182698688"></a>

          <a class="indexterm" name="idm140528182697200"></a>

          <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否包含</font></font><code class="literal">libwrap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（TCP封装）支持。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_lz4"></a>
          <a class="indexterm" name="idm140528182692368"></a>

          <a class="indexterm" name="idm140528182690912"></a>

          <code class="literal">-DWITH_LZ4=<em class="replaceable"><code>lz4_type</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_lz4"><code class="option">WITH_LZ4</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示的源</font></font><code class="literal">zlib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用</font></font><code class="literal">LZ4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              与发行版捆绑在一起</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">这是默认设置。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用系统
               </font></font><code class="literal">LZ4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">如果
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_lz4"><code class="option">WITH_LZ4</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为该值，</font><font style="vertical-align: inherit;">则不构建</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#lz4-decompress" title="4.8.1 lz4_decompress  - 解压mysqlpump LZ4-Compressed Output"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lz4_decompress</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序。</font><font style="vertical-align: inherit;">在这种情况下，</font><font style="vertical-align: inherit;">
              可以使用</font><font style="vertical-align: inherit;">系统</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lz4</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_msan"></a>
          <a class="indexterm" name="idm140528182677040"></a>

          <a class="indexterm" name="idm140528182675584"></a>

          <code class="literal">-DWITH_MSAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否为支持它的编译器启用MemorySanitizer。</font><font style="vertical-align: inherit;">默认是关闭的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果启用此选项以产生效果，则链接到MySQL的所有库也必须在启用该选项的情况下进行编译。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_mecab"></a>
          <a class="indexterm" name="idm140528182670800"></a>

          <a class="indexterm" name="idm140528182669344"></a>

          <code class="literal">-DWITH_MECAB={disabled|system|<em class="replaceable"><code>path_name</code></em>}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用此选项编译MeCab分析器。</font><font style="vertical-align: inherit;">如果您已将MeCab安装到其默认安装目录中，请进行设置
           </font></font><code class="literal">-DWITH_MECAB=system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该
           </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项适用于使用本机软件包管理实用程序从源代码或二进制文件执行的MeCab安装。</font><font style="vertical-align: inherit;">如果您将MeCab安装到自定义安装目录中，请指定MeCab安装的路径。</font><font style="vertical-align: inherit;">例如，
           </font></font><code class="literal">-DWITH_MECAB=/opt/mecab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果该
           </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项不起作用，则指定MeCab安装路径应该适用于所有情况。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关相关信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#fulltext-search-mecab" title="12.9.9 MeCab全文解析器插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.9.9节“MeCab全文解析器插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_mscrt_debug"></a>
          <a class="indexterm" name="idm140528182660544"></a>

          <a class="indexterm" name="idm140528182659056"></a>

          <code class="literal">-DWITH_MSCRT_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用Visual Studio CRT内存泄漏跟踪。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_numa"></a>
          <a class="indexterm" name="idm140528182654240"></a>

          <a class="indexterm" name="idm140528182652784"></a>

          <code class="literal">-DWITH_NUMA=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          明确设置NUMA内存分配策略。
          </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_numa"><code class="option">WITH_NUMA</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据当前平台是否</font></font><code class="literal">NUMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font><font style="vertical-align: inherit;">设置默认
           </font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于没有NUMA支持的平台，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          行为如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              没有NUMA选项（正常情况下），
               </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正常继续，只产生这个警告：缺少NUMA库或缺少所需的版本
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              随着</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_numa"><code class="option">-DWITH_NUMA=ON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
               </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中止这个错误：缺少NUMA库或所需的版本不可用
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个选项是在MySQL 5.7.17中添加的。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_protobuf"></a>
          <a class="indexterm" name="idm140528182640320"></a>

          <a class="indexterm" name="idm140528182638832"></a>

          <code class="literal">-DWITH_PROTOBUF=<em class="replaceable"><code>protobuf_type</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          哪个协议缓冲区包要使用。
          </font></font><em class="replaceable"><code>protobuf_type</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是以下值之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用与分发捆绑在一起的软件包。</font><font style="vertical-align: inherit;">这是默认设置。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用系统上安装的软件包。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          其他值被忽略，回退到
           </font></font><code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项已添加到MySQL 5.7.12中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_rapid"></a>
          <a class="indexterm" name="idm140528182629056"></a>

          <a class="indexterm" name="idm140528182627600"></a>

          <code class="literal">-DWITH_RAPID=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建快速开发周期插件。</font><font style="vertical-align: inherit;">启用后，将</font></font><code class="filename">rapid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在包含这些插件的构建树中创建</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">目录。</font><font style="vertical-align: inherit;">禁用时，</font></font><code class="filename">rapid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在构建树中</font><font style="vertical-align: inherit;">不会
           </font><font style="vertical-align: inherit;">创建目录。</font><font style="vertical-align: inherit;">默认情况下</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，除非
           </font></font><code class="filename">rapid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录从源目录树中删除，在这种情况下，默认值将变为
           </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该选项已添加到MySQL 5.7.12中。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ssl"></a>
          <a class="indexterm" name="idm140528182619616"></a>

          <a class="indexterm" name="idm140528182618160"></a>

          <code class="literal">-DWITH_SSL={<em class="replaceable"><code>ssl_type</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font></font><em class="replaceable"><code>path_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要包含的SSL支持的类型或要使用的OpenSSL安装的路径名称。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <em class="replaceable"><code>ssl_type</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 可以是以下值之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <code class="literal">yes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用系统SSL库（如果存在），否则使用与发行版捆绑的库。
                </font></font></p></li><li class="listitem"><p>
                  <code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用捆绑在发行版中的SSL库。</font><font style="vertical-align: inherit;">这是默认设置。
                </font></font></p></li><li class="listitem"><p>
                  <code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用系统SSL库。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
              <em class="replaceable"><code>path_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是要使用的OpenSSL安装的路径名称。</font><font style="vertical-align: inherit;">这比使用</font></font><em class="replaceable"><code>ssl_type</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">更可取</font><font style="vertical-align: inherit;">，
               </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为它可以防止CMake检测和使用系统上安装的较旧或不正确的OpenSSL版本。</font><font style="vertical-align: inherit;">（另一种允许的方式做同样的事情是设置</font></font><code class="option">WITH_SSL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">于
               </font></font><code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和设置
               </font></font><code class="option">CMAKE_PREFIX_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
               </font></font><em class="replaceable"><code>path_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关使用SSL支持的信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#encrypted-connections" title="6.4使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4节“使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_systemd"></a>
          <a class="indexterm" name="idm140528182600688"></a>

          <a class="indexterm" name="idm140528182599200"></a>

          <a class="indexterm" name="idm140528182597712"></a>

          <code class="literal">-DWITH_SYSTEMD=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用系统支持文件的安装。</font><font style="vertical-align: inherit;">默认情况下，该选项被禁用。</font><font style="vertical-align: inherit;">启用时，会安装systemd支持文件，并且</font><font style="vertical-align: inherit;">未安装</font><font style="vertical-align: inherit;">诸如
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和System V初始化脚本之类的脚本。</font><font style="vertical-align: inherit;">在没有systemd的平台上，</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          导致</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生错误</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关使用systemd的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用systemd
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;">管理MySQL服务器”</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该部分还包括有关指定先前在</font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项组中</font><font style="vertical-align: inherit;">指定的
           </font><font style="vertical-align: inherit;">选项的信息。</font><font style="vertical-align: inherit;">由于
           </font><font style="vertical-align: inherit;">在使用systemd时未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此必须以其他方式指定这些选项。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_test_trace_plugin"></a>
          <a class="indexterm" name="idm140528182587104"></a>

          <a class="indexterm" name="idm140528182585648"></a>

          <code class="literal">-DWITH_TEST_TRACE_PLUGIN=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否构建测试协议跟踪客户端插件（请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#test-protocol-trace-plugin" title="28.2.4.11.1使用测试协议跟踪插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.2.4.11.1节“使用测试协议跟踪插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">默认情况下，该选项被禁用。</font><font style="vertical-align: inherit;">除非启用此选项，否则启用此选项无效
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_client_protocol_tracing"><code class="option">WITH_CLIENT_PROTOCOL_TRACING</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          。</font><font style="vertical-align: inherit;">如果MySQL配置了两个选项都启用，</font></font><code class="literal">libmysqlclient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端库内置了内置的测试协议跟踪插件，所有标准MySQL客户端都加载插件。</font><font style="vertical-align: inherit;">但是，即使启用测试插件，默认情况下它也不起作用。</font><font style="vertical-align: inherit;">使用环境变量提供对插件的控制; </font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#test-protocol-trace-plugin" title="28.2.4.11.1使用测试协议跟踪插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.2.4.11.1节“使用测试协议跟踪插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            不要</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用
             </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_test_trace_plugin"><code class="option">WITH_TEST_TRACE_PLUGIN</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果你想使用自己的协议跟踪的插件，因为只有一个这样的插件可以在同一时间被加载并出现错误尝试加载第二个选项。</font><font style="vertical-align: inherit;">如果您已经使用启用了测试协议跟踪插件的MySQL来构建MySQL以查看其工作方式，则必须在不使用它的情况下重建MySQL，然后才能使用自己的插件。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关编写跟踪插件的信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#writing-protocol-trace-plugins" title="28.2.4.11编写协议跟踪插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.2.4.11节“编写协议跟踪插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ubsan"></a>
          <a class="indexterm" name="idm140528182573840"></a>

          <a class="indexterm" name="idm140528182572384"></a>

          <code class="literal">-DWITH_UBSAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否启用Undefined Behavior Sanitizer，用于支持它的编译器。</font><font style="vertical-align: inherit;">默认是关闭的。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_unit_tests"></a>
          <a class="indexterm" name="idm140528182568160"></a>

          <a class="indexterm" name="idm140528182566672"></a>

          <code class="literal">-DWITH_UNIT_TESTS={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果启用，请使用单元测试编译MySQL。</font><font style="vertical-align: inherit;">除非服务器未被编译，否则默认为ON。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_unixodbc"></a>
          <a class="indexterm" name="idm140528182562720"></a>

          <a class="indexterm" name="idm140528182561232"></a>

          <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用连接器/ ODBC的unixODBC支持。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_valgrind"></a>
          <a class="indexterm" name="idm140528182557168"></a>

          <a class="indexterm" name="idm140528182555680"></a>

          <code class="literal">-DWITH_VALGRIND=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否在Valgrind头文件中进行编译，这些文件将Valgrind API公开给MySQL代码。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要生成Valgrind-aware调试版本，
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_valgrind"><code class="option">-DWITH_VALGRIND=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常会结合使用</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/debug-configurations.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建调试配置</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_zlib"></a>
          <a class="indexterm" name="idm140528182547568"></a>

          <a class="indexterm" name="idm140528182546112"></a>

          <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          某些功能要求服务器与压缩库支持来构建，如
           </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_compress"><code class="literal">COMPRESS()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
           </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能，并在客户端/服务器协议的压缩。</font><font style="vertical-align: inherit;">该
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_zlib"><code class="option">WITH_ZLIB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示的源</font></font><code class="literal">zlib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用</font></font><code class="literal">zlib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与发行版捆绑在一起</font><font style="vertical-align: inherit;">的
               </font><font style="vertical-align: inherit;">库。</font><font style="vertical-align: inherit;">这是默认设置。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用系统
               </font></font><code class="literal">zlib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_without_server"></a>
          <a class="indexterm" name="idm140528182532480"></a>

          <a class="indexterm" name="idm140528182530992"></a>

          <code class="literal">-DWITHOUT_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否在没有MySQL服务器的情况下构建。</font><font style="vertical-align: inherit;">缺省值是
           </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它构建服务器。
</font></font></p></li></ul>
</div>
<h4><a name="cmake-compiler-flags"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译器标志</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_c_flags"></a>
          <a class="indexterm" name="idm140528182524608"></a>

          <a class="indexterm" name="idm140528182523120"></a>

          <code class="literal">-DCMAKE_C_FLAGS="<em class="replaceable"><code>flags</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          C编译器的标志。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_cmake_cxx_flags"></a>
          <a class="indexterm" name="idm140528182518944"></a>

          <a class="indexterm" name="idm140528182517456"></a>

          <code class="literal">-DCMAKE_CXX_FLAGS="<em class="replaceable"><code>flags</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          C ++编译器的标志。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_default_compiler_options"></a>
          <a class="indexterm" name="idm140528182513248"></a>

          <a class="indexterm" name="idm140528182511792"></a>

          <code class="literal">-DWITH_DEFAULT_COMPILER_OPTIONS=<em class="replaceable"><code>bool</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          是否使用标志
           </font></font><code class="filename">cmake/build_configurations/compiler_options.cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所有优化标志都经过了MySQL编译团队的仔细挑选和测试。</font><font style="vertical-align: inherit;">覆盖它们可能会导致意想不到的结果，并且您自己承担风险。
</font></font></p>
</div>
</li><li class="listitem"><p><a name="option_cmake_sunpro_cxx_library"></a>
          <a class="indexterm" name="idm140528182505888"></a>

          <a class="indexterm" name="idm140528182504432"></a>

          <code class="literal">-DSUNPRO_CXX_LIBRARY="<em class="replaceable"><code>lib_name</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用链接</font></font><code class="literal">libCstd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><code class="literal">stlport4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Solaris 10或更高版本上。</font><font style="vertical-align: inherit;">这仅适用于客户端代码，因为服务器依赖于C ++ 98。</font><font style="vertical-align: inherit;">用法示例：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake -DWITHOUT_SERVER = 1 -DSUNPRO_CXX_LIBRARY = Cstd
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要指定您自己的C和C ++编译器标志，对于不影响优化的标志，请使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_c_flags"><code class="option">CMAKE_C_FLAGS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_cxx_flags"><code class="option">CMAKE_CXX_FLAGS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake选项。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      当提供你自己的编译器标志时，你可能也想指定
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_build_type"><code class="option">CMAKE_BUILD_TYPE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      例如，要在64位Linux机器上创建32位版本，请执行以下操作：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mkdir bld</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>cd bld</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_BUILD_TYPE=RelWithDebInfo</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您设置了影响优化的标志（</font><font style="vertical-align: inherit;">），则必须设置
       </font><font style="vertical-align: inherit;">
      和/或
       </font><font style="vertical-align: inherit;">
      选项，其中</font><font style="vertical-align: inherit;">对应于该</font><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">要为默认构建类型（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">指定不同的优化，请</font><font style="vertical-align: inherit;">设置
       </font><font style="vertical-align: inherit;">和
       </font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">例如，要在Linux上使用</font><font style="vertical-align: inherit;">和使用调试符号</font><font style="vertical-align: inherit;">进行编译</font><font style="vertical-align: inherit;">，请执行以下操作：
    </font></font><code class="option">-O<em class="replaceable"><code>number</code></em></code><font style="vertical-align: inherit;"></font><code class="option">CMAKE_C_FLAGS_<em class="replaceable"><code>build_type</code></em></code><font style="vertical-align: inherit;"></font><code class="option">CMAKE_CXX_FLAGS_<em class="replaceable"><code>build_type</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>build_type</code></em><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_build_type"><code class="option">CMAKE_BUILD_TYPE</code></a><font style="vertical-align: inherit;"></font><code class="literal">RelWithDebInfo</code><font style="vertical-align: inherit;"></font><code class="option">CMAKE_C_FLAGS_RELWITHDEBINFO</code><font style="vertical-align: inherit;"></font><code class="option">CMAKE_CXX_FLAGS_RELWITHDEBINFO</code><font style="vertical-align: inherit;"></font><code class="option">-O3</code><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS_RELWITHDEBINFO="-O3 -g" \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS_RELWITHDEBINFO="-O3 -g"</code></strong>
</pre>
<h4><a name="cmake-mysql-cluster-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于编译NDB集群的CMake选项</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用NDB群集源构建NDB群集时，可使用以下选项; </font><font style="vertical-align: inherit;">当使用MySQL 5.6服务器树中的源时，它们当前不受支持。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_memcached_home"></a>
          <a class="indexterm" name="idm140528182477664"></a>

          <a class="indexterm" name="idm140528182476176"></a>

          <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用安装在指定的系统目录中的memcached（版本1.6或更高版本）执行构建
           </font></font><em class="replaceable"><code>dir_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">构建中使用的此安装文件包括memcached二进制文件，头文件和库以及
           </font></font><code class="literal">memcached_utilities</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库和头文件</font></font><code class="filename">engine_testapp.h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><code class="literal">ndbmemcache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用捆绑的memcached源（</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_bundled_memcached"><code class="option">WITH_BUNDLED_MEMCACHED</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选件）进行</font><font style="vertical-align: inherit;">构建时，您必须保留此选项
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">换句话说，默认使用捆绑的源码）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当</font><font style="vertical-align: inherit;">从外部源</font><font style="vertical-align: inherit;">编译</font><span class="command"><strong><font style="vertical-align: inherit;">memcached</font></strong></span><font style="vertical-align: inherit;">时，可以使用</font><font style="vertical-align: inherit;">其他</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项（例如SASL授权和提供
           </font></font><code class="literal">dtrace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持）</font><font style="vertical-align: inherit;">，但这些选项当前未启用</font><font style="vertical-align: inherit;">与NDB Cluster捆绑在一起</font><font style="vertical-align: inherit;">的
           </font><span class="command"><strong><font style="vertical-align: inherit;">memcached</font></strong></span><font style="vertical-align: inherit;">源。
        </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><a name="option_cmake_with_bundled_libevent"></a>
          <a class="indexterm" name="idm140528182463824"></a>

          <a class="indexterm" name="idm140528182462368"></a>

          <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在构建</font></font><code class="literal">ndbmemcached</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font><font style="vertical-align: inherit;">NDB集群时</font><font style="vertical-align: inherit;">
          使用</font><font style="vertical-align: inherit;">NDB集群源中包含的内容
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认启用。
          </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致系统
           </font></font><code class="literal">libevent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被使用。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_bundled_memcached"></a>
          <a class="indexterm" name="idm140528182455536"></a>

          <a class="indexterm" name="idm140528182454080"></a>

          <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          构建NDB集群源代码树中包含的memcached源，然后在构建</font></font><code class="literal">ndbmemcache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引擎</font><font style="vertical-align: inherit;">时使用生成的memcached服务器</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make install</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcached</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件放置在安装
           </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中，并将
           </font></font><code class="literal">ndbmemcache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引擎共享库文件
           </font></font><code class="filename">ndb_engine.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放入安装
           </font></font><code class="filename">lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项默认为ON。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_classpath"></a>
          <a class="indexterm" name="idm140528182444528"></a>

          <a class="indexterm" name="idm140528182443040"></a>

          <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          设置用于构建NDB Cluster Connector for Java的类路径。</font><font style="vertical-align: inherit;">缺省值为空。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndb_java"><code class="option">-DWITH_NDB_JAVA=OFF</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">此选项，则忽略此选项
           </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_error_insert"></a>
          <a class="indexterm" name="idm140528182437680"></a>

          <a class="indexterm" name="idm140528182436224"></a>

          <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内核中</font><font style="vertical-align: inherit;">启用错误注入
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">仅用于测试; </font><font style="vertical-align: inherit;">不打算用于建筑生产二进制文件。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
          <a class="indexterm" name="idm140528182430256"></a>

          <a class="indexterm" name="idm140528182428752"></a>

          <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          构建并链接以支持</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld中</font></strong></span></a><font style="vertical-align: inherit;">的
           </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）存储引擎
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认是
           </font><font style="vertical-align: inherit;">。
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">ON</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster"></a>
          <a class="indexterm" name="idm140528182420480"></a>

          <a class="indexterm" name="idm140528182418992"></a>

          <code class="literal">-DWITH_NDBCLUSTER={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这是别名
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndbmtd"></a>
          <a class="indexterm" name="idm140528182414032"></a>

          <a class="indexterm" name="idm140528182412544"></a>

          <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          构建多线程数据节点可执行文件
           </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="21.4.3 ndbmtd  -  NDB群集数据节点守护进程（多线程）"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbmtd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认是
           </font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndb_binlog"></a>
          <a class="indexterm" name="idm140528182406528"></a>

          <a class="indexterm" name="idm140528182405040"></a>

          <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font><font style="vertical-align: inherit;">使用此选项构建</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld中</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认启用二进制日志记录
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认开启。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndb_debug"></a>
          <a class="indexterm" name="idm140528182399872"></a>

          <a class="indexterm" name="idm140528182398384"></a>

          <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用构建NDB集群二进制文件的调试版本。</font><font style="vertical-align: inherit;">默认关闭。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndb_java"></a>
          <a class="indexterm" name="idm140528182394448"></a>

          <a class="indexterm" name="idm140528182392960"></a>

          <code class="literal">-DWITH_NDB_JAVA={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用Java支持启用NDB群集，包括
           </font></font><code class="literal">ClusterJ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该选项默认为ON。</font><font style="vertical-align: inherit;">如果您不希望编译具有Java支持的NDB集群，则必须通过指定</font></font><code class="option">-DWITH_NDB_JAVA=OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">明确禁用它</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，如果找不到Java，则构建配置失败。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndb_port"></a>
          <a class="indexterm" name="idm140528182386528"></a>

          <a class="indexterm" name="idm140528182385040"></a>

          <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          导致</font><font style="vertical-align: inherit;">默认情况下</font><font style="vertical-align: inherit;">内置</font><font style="vertical-align: inherit;">的NDB集群管理服务器（</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgmd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）使用它
           </font></font><em class="replaceable"><code>port</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果此选项未设置，则默认情况下，生成的管理服务器将尝试使用端口1186。
        </font></font></p></li><li class="listitem"><p><a name="option_cmake_with_ndb_test"></a>
          <a class="indexterm" name="idm140528182378864"></a>

          <a class="indexterm" name="idm140528182377376"></a>

          <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果启用，请包含一组NDB API测试程序。</font><font style="vertical-align: inherit;">默认值为OFF。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compilation-problems"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.5处理编译MySQL的问题</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528182373072"></a><a class="indexterm" name="idm140528182371616"></a><a class="indexterm" name="idm140528182370128"></a><a class="indexterm" name="idm140528182369056"></a><a class="indexterm" name="idm140528182367984"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      许多问题的解决方案涉及重新配置。</font><font style="vertical-align: inherit;">如果您重新配置，请注意以下事项：
</font></font></p><a class="indexterm" name="idm140528182365968"></a><a class="indexterm" name="idm140528182364880"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在之前运行之后运行，它可能会使用先前调用期间收集的信息。</font><font style="vertical-align: inherit;">这些信息存储在
           </font></font><code class="filename">CMakeCache.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时，它会查找该文件并在假设信息仍然正确的情况下读取它的内容（如果存在）。</font><font style="vertical-align: inherit;">当你重新配置时，这个假设是无效的。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每次运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，都必须</font><font style="vertical-align: inherit;">再次</font><font style="vertical-align: inherit;">运行
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来重新编译。</font><font style="vertical-align: inherit;">但是，您可能希望先删除先前版本中的旧对象文件，因为它们是使用不同的配置选项编译的。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要防止使用旧对象文件或配置信息，请在重新运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前运行以下命令
       </font><font style="vertical-align: inherit;">：
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Unix上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>make clean</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>devenv MySQL.sln /clean</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您在源树之外构建，请在重新运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前删除并重新创建构建目录</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关在源代码树之外构建的说明，请参阅
       </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用CMake构建MySQL服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在某些系统上，由于系统包含文件的不同，可能会发生警告。</font><font style="vertical-align: inherit;">以下列表描述了编译MySQL时经常遇到的其他问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm140528182346912"></a>

          <a class="indexterm" name="idm140528182345840"></a>

          <a class="indexterm" name="idm140528182344384"></a>

          <a class="indexterm" name="idm140528182343296"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

          要定义要使用的C和C ++编译器，可以定义
           </font></font><code class="literal">CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">CXX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>CC=gcc</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>CXX=g++</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>export CC CXX</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定您自己的C和C ++编译器标志，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_c_flags"><code class="option">CMAKE_C_FLAGS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_cmake_cxx_flags"><code class="option">CMAKE_CXX_FLAGS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake选项。</font><font style="vertical-align: inherit;">请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#cmake-compiler-flags" title="编译器标志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译器标志</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要查看可能需要指定的标志，请</font><font style="vertical-align: inherit;">使用
           </font><font style="vertical-align: inherit;">和
           </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-config" title="4.7.1 mysql_config  - 显示编译客户端的选项"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_config</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_config_cflags"><code class="option">--cflags</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_config_cxxflags"><code class="option">--cxxflags</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要查看在编译阶段执行的命令，在使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置MySQL之后，运行
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make VERBOSE = 1</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果编译失败，请检查该</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_mysql_maintainer_mode"><code class="option">MYSQL_MAINTAINER_MODE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">是否
           </font><font style="vertical-align: inherit;">已启用。</font><font style="vertical-align: inherit;">此模式会导致编译器警告成为错误，因此禁用它可能会使编译进行下去。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果编译失败，出现以下任何错误，则必须将</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的版本升级
           </font><font style="vertical-align: inherit;">到GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make：读者的致命错误：Makefile，第18行：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
宏分配形成不良</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要么：
        </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make：文件`Makefile'第18行：必须是分隔符（：
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要么：
        </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pthread.h：没有这样的文件或目录
</font></font></pre><a class="indexterm" name="idm140528182318736"></a><a class="indexterm" name="idm140528182317664"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Solaris和FreeBSD的是已知有麻烦的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化妆</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知</font><font style="vertical-align: inherit;">
          GNU </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3.75有效。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="filename">sql_yacc.cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件是从中生成的
           </font></font><code class="filename">sql_yacc.yy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常，构建过程不需要创建，</font></font><code class="filename">sql_yacc.cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          因为MySQL带有预生成副本。</font><font style="vertical-align: inherit;">但是，如果您确实需要重新创建它，则可能会遇到此错误：
        </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“sql_yacc.yy”，行</font></font><em class="replaceable"><code>xxx</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致命：默认行为导致潜在...
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这表示你的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yacc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font><font style="vertical-align: inherit;">不足。</font><font style="vertical-align: inherit;">您可能需要安装最新版本的
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bison</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yacc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的GNU版本
           </font><font style="vertical-align: inherit;">）并使用它。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          版本</font><font style="vertical-align: inherit;">低于1.75 </font><font style="vertical-align: inherit;">的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会报告此错误：
        </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sql_yacc.yy：#####：致命错误：超过了最大表大小（32767）
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          实际上没有超过最大表格大小; </font><font style="vertical-align: inherit;">错误是由旧版本的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">野牛中</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的错误引起的</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关获取或更新工具的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#source-installation" title="2.9从源代码安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.9节“从源代码安装MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的系统要求</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-third-party"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9.6 MySQL配置和第三方工具</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528182300752"></a><a class="indexterm" name="idm140528182299264"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      需要从MySQL源</font></font><code class="filename">VERSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">确定MySQL版本的第三方工具可以读取</font><font style="vertical-align: inherit;">顶级源目录中的文件。</font><font style="vertical-align: inherit;">该文件分别列出了版本的各个部分。</font><font style="vertical-align: inherit;">例如，如果版本是MySQL 5.7.4-m14，则该文件如下所示：
    </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MYSQL_VERSION_MAJOR = 5</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MYSQL_VERSION_MINOR = 7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MYSQL_VERSION_PATCH = 4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MYSQL_VERSION_EXTRA = -m14</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果源不是用于通用可用性（GA）版本，则该
       </font></font><code class="literal">MYSQL_VERSION_EXTRA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值将是非空的。</font><font style="vertical-align: inherit;">例如，该值对应于里程碑14。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要从版本组件构建一个五位数字，请使用以下公式：
    </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MYSQL_VERSION_MAJOR * 10000 + MYSQL_VERSION_MINOR * 100 + MYSQL_VERSION_PATCH
</font></font></pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="postinstallation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10安装后设置和测试</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#data-directory-initialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1初始化数据目录</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#starting-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.2启动服务器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#testing-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.3测试服务器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#default-privileges"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.4确保初始MySQL帐户的安全</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#automatic-start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.5自动启动和停止MySQL</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528182291168"></a><a class="indexterm" name="idm140528182289712"></a><a class="indexterm" name="idm140528182288224"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本节讨论在安装MySQL之后应执行的任务：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如有必要，初始化数据目录并创建MySQL授权表。</font><font style="vertical-align: inherit;">对于某些MySQL安装方法，数据目录初始化可能会自动完成：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            由Windows安装程序执行的Windows安装操作。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在Linux上使用服务器RPM或Debian发行版从Oracle进行安装。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在许多平台上使用本地打包系统进行安装，包括Debian Linux，Ubuntu Linux，Gentoo Linux等。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用DMG分发在OS X上安装。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于其他平台和安装类型（包括通用二进制和源代码发行版的安装），您必须自己初始化数据目录。</font><font style="vertical-align: inherit;">有关说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization" title="2.10.1初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1节“初始化数据目录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        启动服务器并确保它可以被访问。</font><font style="vertical-align: inherit;">有关说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server" title="2.10.2启动服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.2节“启动服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#testing-server" title="2.10.3测试服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.3节“测试服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在数据目录初始化期间尚未完成</font><font style="vertical-align: inherit;">
        密码，则将密码分配给</font><font style="vertical-align: inherit;">授权表中</font><font style="vertical-align: inherit;">的初始</font><font style="vertical-align: inherit;">帐户。</font><font style="vertical-align: inherit;">密码可防止未经授权访问MySQL服务器。</font><font style="vertical-align: inherit;">有关说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“保护初始MySQL帐户”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可选地，当您的系统启动和停止时，安排服务器自动启动和停止。</font><font style="vertical-align: inherit;">有关说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#automatic-start" title="2.10.5自动启动和停止MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.5节“自动启动和停止MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （可选）填充时区表以启用对指定时区的识别。</font><font style="vertical-align: inherit;">有关说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#time-zone-support" title="5.1.10 MySQL服务器时区支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.10节“MySQL服务器时区支持”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    当您准备创建额外的用户帐户时，您可以在</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#privilege-system" title="6.2 MySQL访问权限系统"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.2节“MySQL访问权限系统”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
     </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#user-account-management" title="6.3 MySQL用户帐户管理"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3节“MySQL用户帐户管理”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到有关MySQL访问控制系统和帐户管理的信息</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="data-directory-initialization"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1初始化数据目录</font></font></h3>

</div>

</div>

</div>

<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.1使用mysqld手动初始化数据目录</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysql-install-db"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.2使用mysql_install_db手动初始化数据目录</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#mysql-install-db-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.3运行mysql_install_db的问题</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      安装MySQL之后</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，必须初始化</font><font style="vertical-align: inherit;">数据目录（包括</font><font style="vertical-align: inherit;">系统数据库中</font><font style="vertical-align: inherit;">的表）</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于某些MySQL安装方法，数据目录初始化可以自动完成，如
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于其他安装方法，包括通用二进制和源代码发行版的安装，您必须自己初始化数据目录。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何在Unix和类Unix系统上初始化数据目录。</font><font style="vertical-align: inherit;">（对于Windows，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-postinstallation" title="2.3.7 Windows安装后程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.7节“Windows安装后程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）有关可用于测试服务器是否可以访问和正常工作的一些建议命令，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#testing-server" title="2.10.3测试服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.3节“测试服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在此处显示的示例中，服务器将在</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录帐户</font><font style="vertical-align: inherit;">的用户标识下运行</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这假定存在这样一个帐户。</font><font style="vertical-align: inherit;">请创建该帐户（如果该帐户不存在），或者替换您计划用于运行该服务器的其他现有登录帐户的名称。</font><font style="vertical-align: inherit;">有关创建帐户的信息，请参阅
       </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#binary-installation-createsysuser" title="创建一个mysql用户和组"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建
       </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统用户和组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation" title="2.2使用通用二进制文件在Unix / Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.2节，“在Unix / Linux上安装MySQL的使用通用二进制文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><a class="indexterm" name="idm140528194623264"></a><a class="indexterm" name="idm140528194621776"></a><a class="indexterm" name="idm140528194620288"></a>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将位置更改为MySQL安装目录的顶级目录，通常是
           </font></font><code class="filename">/usr/local/mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd /usr/local/mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您会在该文件夹中找到多个文件和子目录，包括</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含服务器以及客户端和实用程序</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">子目录。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          创建一个其位置可以提供给</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的目录，该目录
           </font><font style="vertical-align: inherit;">限制对该特定目录的导入/导出操作：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mkdir mysql-files</code></strong></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将目录的所有权授予
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户和组所有权
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并为该目录设置正确的权限：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>chown mysql:mysql mysql-files</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>chmod 750 mysql-files</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          初始化数据目录，包括</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含初始MySQL授权表</font><font style="vertical-align: inherit;">的
           </font><font style="vertical-align: inherit;">数据库，以确定用户如何连接到服务器。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通常情况下，数据目录初始化只有在您首次安装MySQL后才需要完成。</font><font style="vertical-align: inherit;">如果您要升级现有安装，则应该运行
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.4.7节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 检查并升级MySQL表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">但是，初始化数据目录的命令不会覆盖任何现有的权限表，因此在任何情况下运行都应该是安全的。</font><font style="vertical-align: inherit;">使用服务器初始化数据目录; </font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">该命令的一些重要信息，</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，特别是关于您可能使用的命令选项。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            数据目录的初始化可能会失败，因为系统中缺少一些必需的软件库。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bin / mysqld：加载共享库时出错：libnuma.so.1：不能</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
打开共享对象文件：没有这样的文件或目录 </font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发生这种情况时，必须在重试数据目录初始化之前手动或使用系统的软件包管理器安装缺少的库。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果希望服务器能够自动支持安全连接进行部署，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup  - 创建SSL / RSA文件"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_ssl_rsa_setup</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序创建默认的SSL和RSA文件：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关更多信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup  - 创建SSL / RSA文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.4.5节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_ssl_rsa_setup</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 创建SSL / RSA文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器可以写入</font><font style="vertical-align: inherit;">插件目录（由</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">命名的目录
           </font><font style="vertical-align: inherit;">），则用户可以使用该目录将可执行代码写入目录中的文件
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select-into" title="13.2.9.1 SELECT ... INTO语法"><code class="literal">SELECT
          ... INTO DUMPFILE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这可以通过使插件目录只读到服务器或通过</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务器启动时</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">设置为</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可安全执行写入</font><font style="vertical-align: inherit;">的目录
           </font><font style="vertical-align: inherit;">来阻止
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（例如，将其设置为</font></font><code class="filename">mysql-files</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前创建</font><font style="vertical-align: inherit;">的
           </font><font style="vertical-align: inherit;">目录。）
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定MySQL服务器在启动时应使用的选项，请将它们放入a </font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="filename">/etc/mysql/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。</font><font style="vertical-align: inherit;">您可以使用这样的文件来设置，例如，
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-configuration-defaults" title="5.1.2服务器配置默认值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.2节“服务器配置默认值”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您不这样做，服务器将启动其默认设置。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您希望启动机器时自动启动MySQL，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#automatic-start" title="2.10.5自动启动和停止MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.5节“自动启动和停止MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据目录初始化会在</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">创建时区表，
       </font><font style="vertical-align: inherit;">但不会填充它们。</font><font style="vertical-align: inherit;">为此，请使用
       </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#time-zone-support" title="5.1.10 MySQL服务器时区支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.10节“MySQL服务器时区支持”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="data-directory-initialization-mysqld"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.1使用mysqld手动初始化数据目录</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（MySQL服务器）</font><font style="vertical-align: inherit;">初始化数据目录</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下说明假定您的当前位置是MySQL安装目录，代表如下
         </font></font><em class="replaceable"><code>BASEDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要初始化数据目录，请</font><font style="vertical-align: inherit;">使用
         </font><font style="vertical-align: inherit;">or
         </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，具体取决于您是否希望服务器为该</font><font style="vertical-align: inherit;">
        帐户</font><font style="vertical-align: inherit;">生成随机初始密码</font><font style="vertical-align: inherit;">。
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows上，使用以下命令之一：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin\mysqld --initialize</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C：\&gt;</font></font><strong class="userinput"><code>bin\mysqld --initialize-insecure</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Unix和类Unix系统中，确保数据库目录和文件由</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录帐户</font><font style="vertical-align: inherit;">拥有非常重要，
         </font><font style="vertical-align: inherit;">以便服务器在稍后运行时具有读取和写入访问权限。</font><font style="vertical-align: inherit;">为确保这一点，请</font><font style="vertical-align: inherit;">从系统
         </font><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并包含</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下所示</font><font style="vertical-align: inherit;">的
         </font><font style="vertical-align: inherit;">选项：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>bin/mysqld --initialize-insecure --user=mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        否则，在登录时执行该程序
         </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在这种情况下，您可以</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从命令中</font><font style="vertical-align: inherit;">省略该
         </font><font style="vertical-align: inherit;">选项。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        无论平台如何，都
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认安全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装（即包括生成随机初始</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码）。</font><font style="vertical-align: inherit;">在这种情况下，密码被标记为过期，您将需要选择一个新密码。</font><font style="vertical-align: inherit;">使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，不会
         </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成密码; </font><font style="vertical-align: inherit;">假设您在将服务器投入生产之前将及时为帐户分配密码。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这可能需要指定其他选项，如
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能识别的安装目录或数据目录中的正确位置。</font><font style="vertical-align: inherit;">例如（在一行上输入命令）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，将相关选项设置放在选项文件中，并将该文件的名称传递给
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于Unix和类Unix系统，假设选项文件名是
         </font></font><code class="filename">/opt/mysql/mysql/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">将这些行放在文件中：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BASEDIR = /选择/ MySQL的/ MySQL的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = /选择/ MySQL的/ MySQL的/数据</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后</font><font style="vertical-align: inherit;">按如下方式</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font><font style="vertical-align: inherit;">用</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">在一行中输入命令
         </font><font style="vertical-align: inherit;">）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld --defaults-file=/opt/mysql/mysql/etc/my.cnf</code></strong>
         <strong class="userinput"><code>--initialize --user=mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows上，假设</font></font><code class="literal">C:\my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含这些行：
      </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
basedir = C：\\ Program Files \\ MySQL \\ MySQL Server 5.7</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DATADIR = d：\\ MySQLdata</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后</font><font style="vertical-align: inherit;">如下</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（该
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项必须是第一个）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>bin/mysqld --defaults-file=C:\my.ini --initialize</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用时
         </font><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行以下初始化序列。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器将任何消息写入其标准错误输出。</font><font style="vertical-align: inherit;">这可能会重定向到错误日志，所以如果在屏幕上看不到消息，请在那里查看。</font><font style="vertical-align: inherit;">有关错误日志的信息（包括它所在的位置），请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.4.2节“错误日志”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Windows上，使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_console"><code class="option">--console</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选项将消息定向到控制台。
</font></font></p>
</div>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器检查数据目录是否存在，如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果不存在数据目录，则服务器创建它。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果数据目录存在但不为空（即其包含文件或子目录），则服务器在生成错误消息后退出：
              </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[错误]  - 初始化指定但数据目录存在。</font><font style="vertical-align: inherit;">中止。
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在这种情况下，请删除或重命名数据目录并重试。
              </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                从MySQL 5.7.11开始，如果每个条目的名称都以句点（</font></font><code class="literal">.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">开头</font><font style="vertical-align: inherit;">或使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_ignore-db-dir"><code class="option">--ignore-db-dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">命名，
                 </font><font style="vertical-align: inherit;">则允许现有数据目录非空</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  避免</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_ignore-db-dir"><code class="option">--ignore-db-dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用自从MySQL 5.7.16以来已弃用</font><font style="vertical-align: inherit;">的
                   </font><font style="vertical-align: inherit;">选项。
</font></font></p><p></p>
</div>
</li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在数据目录中，服务器创建
             </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统数据库及其表，包括授权表，服务器端帮助表和时区表。</font><font style="vertical-align: inherit;">有关授权表的完整列表和说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#privilege-system" title="6.2 MySQL访问权限系统"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.2节“MySQL Access Privilege System”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器初始化</font><font style="vertical-align: inherit;">管理</font><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">所需</font><font style="vertical-align: inherit;">的
             </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_system_tablespace" title="系统表空间"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表空间</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相关数据结构</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置
               </font></font><code class="literal">InnoDB</code>
              <a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_system_tablespace" title="系统表空间"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表空间后</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，对某些表空间特性的更改需要设置一个全新的
               </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_instance" title="例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这包括系统表空间中第一个文件的文件名和撤消日志的数量。</font><font style="vertical-align: inherit;">如果您不想使用默认值，请确保</font><font style="vertical-align: inherit;">在运行</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">之前</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_data_file_path"><code class="literal">innodb_data_file_path</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              ，</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_log_file_size"><code class="literal">innodb_log_file_size</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置参数</font><font style="vertical-align: inherit;">的设置</font><font style="vertical-align: inherit;">在MySQL </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_configuration_file" title="配置文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中就位
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">还要确保在必要时指定其他影响</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">创建和位置的参数
               </font><font style="vertical-align: inherit;">，例如
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_log_group_home_dir"><code class="literal">innodb_log_group_home_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果这些选项位于配置文件中，但该文件不在MySQL默认读取的位置，则</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_defaults-extra-file"><code class="option">--defaults-extra-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">使用该</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">指定文件位置
               </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器创建</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            超级用户帐户和其他保留帐户（请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#reserved-users" title="6.3.4保留用户帐户"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3.4节“保留用户帐户”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">一些保留的帐户被锁定并且不能被客户端使用，但
             </font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于管理用途，您应该为其分配密码。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器对</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">密码的操作
             </font><font style="vertical-align: inherit;">取决于您如何调用它：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但不是
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，服务器会生成一个随机密码，将其标记为过期，并写入显示密码的消息：
              </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[警告]为root @ localhost生成临时密码：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ITAG * AfrH5ej</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                随着
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，（有或没有
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                暗示</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），服务器不会生成一个密码或者将其标记过期，并写入一个警告消息：
              </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告] root @ localhost是使用空密码创建的！</font><font style="vertical-align: inherit;">请</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑关闭--initialize-insecure选项。</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关分配新</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码的</font><font style="vertical-align: inherit;">说明，请参阅本节后面的内容</font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果内容可用（在</font></font><code class="filename">fill_help_tables.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中）</font><font style="vertical-align: inherit;">，服务器将填充服务器端帮助表
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">服务器不填充时区表; </font><font style="vertical-align: inherit;">要做到这一点，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#time-zone-support" title="5.1.10 MySQL服务器时区支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.10节“MySQL服务器时区支持”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出选项来命名SQL语句文件，则服务器将执行文件中的语句。</font><font style="vertical-align: inherit;">该选项使您可以执行自定义引导序列。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            当服务器以引导模式运行时，某些功能不可用，从而限制文件中允许的语句。</font><font style="vertical-align: inherit;">这些包括与帐户管理（例如</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-user" title="13.7.1.2 CREATE USER语法"><code class="literal">CREATE
            USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#grant" title="13.7.1.4 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），复制和全局事务标识符</font><font style="vertical-align: inherit;">相关的语句</font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器退出。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通过使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动服务器</font><font style="vertical-align: inherit;">初始化数据目录后</font><font style="vertical-align: inherit;">，通常启动服务器（即，没有这些选项）并为该</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">分配</font><font style="vertical-align: inherit;">新密码：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启动服务器。</font><font style="vertical-align: inherit;">有关说明，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server" title="2.10.2启动服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.2节“启动服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            连接到服务器：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                但不
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化数据目录，请</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用服务器在初始化序列中生成的随机密码</font><font style="vertical-align: inherit;">连接到服务器
                 </font><font style="vertical-align: inherit;">：
              </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter the random root password here)</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您不知道此密码，请查看服务器错误日志。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您用来
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化数据目录，请连接到服务器，因为
                 </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有密码：
              </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysql -u root --skip-password</code></strong>
</pre></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            连接后，分配一个新</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            密码：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>new_password'</code></em>;</code></strong>
</pre></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          由服务器执行的数据目录初始化序列不会替代由</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup  - 创建SSL / RSA文件"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_ssl_rsa_setup</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行的操作
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.4.4节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 提高MySQL安装安全性”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup  - 创建SSL / RSA文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.4.5节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_ssl_rsa_setup</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 创建SSL / RSA文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="data-directory-initialization-mysql-install-db"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.2使用mysql_install_db手动初始化数据目录</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528182009312"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化数据目录</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此处描述的过程用于MySQL 5.7.6之前的Unix和类Unix系统。</font><font style="vertical-align: inherit;">（对于Windows，MySQL发行版在</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">包含一个预建数据表的数据目录</font><font style="vertical-align: inherit;">。）从MySQL 5.7.6开始，
           </font><font style="vertical-align: inherit;">不推荐使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要初始化数据目录，请使用
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”中介绍的过程</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下说明假定您的当前位置是MySQL安装目录，代表如下
         </font></font><em class="replaceable"><code>BASEDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要初始化数据目录，请调用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该程序位于</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者根
         </font><font style="vertical-align: inherit;">目录下</font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，具体取决于您的MySQL版本。</font><font style="vertical-align: inherit;">如果处于</font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请适当调整以下命令。
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        确保数据库目录和文件由</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录帐户</font><font style="vertical-align: inherit;">拥有非常重要，</font><font style="vertical-align: inherit;">以便服务器在稍后运行时具有读取和写入访问权限。</font><font style="vertical-align: inherit;">为了确保这一点，运行
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        并包含</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_install_db_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如图所示</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">否则，在登录时执行程序</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在这种情况下，您可以</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_install_db_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从命令中</font><font style="vertical-align: inherit;">省略该
         </font><font style="vertical-align: inherit;">选项。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令创建服务器的数据目录。</font><font style="vertical-align: inherit;">在数据目录下，它为</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存授权表</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">创建一个目录，</font><font style="vertical-align: inherit;">并且（在MySQL 5.7.4之前）创建一个
         </font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以用来测试MySQL的数据库。</font><font style="vertical-align: inherit;">该程序还为初始帐户或帐户创建特权表条目。</font><font style="vertical-align: inherit;">有关授权表的完整列表和说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#privilege-system" title="6.2 MySQL访问权限系统"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.2节“MySQL Access Privilege System”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可能需要指定其他选项，
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_install_db_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未标识安装目录或数据目录的正确位置。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为该</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">生成一个随机密码</font><font style="vertical-align: inherit;">，请启动该服务器并分配一个新密码：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启动服务器（如果您的安装包含</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则</font><font style="vertical-align: inherit;">使用第一个命令</font><font style="vertical-align: inherit;">，如果包含systemd支持，则使用第二个</font><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果不同，请替换相应的服务名称
             </font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">例如，
             </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在SLES系统上。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            查看
             </font><font style="vertical-align: inherit;">
            文件以查找</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;">mysql_install_db</font></strong></span></a><font style="vertical-align: inherit;">在那里写入</font><font style="vertical-align: inherit;">的随机密码
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">使用该密码</font><font style="vertical-align: inherit;">连接到服务器</font><font style="vertical-align: inherit;">：
          </font></font><code class="literal">$HOME/<code class="filename">.mysql_secret</code></code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -h 127.0.0.1 -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter the random password here)</code></em>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            连接后，分配一个新</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            密码：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>new_password'</code></em>);</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            重置密码后，删除
             </font></font><code class="filename">.mysql_secret</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件; </font><font style="vertical-align: inherit;">否则，如果您运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该命令可能会看到该文件并在</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保安全部署时再次</font><font style="vertical-align: inherit;">过期
             </font><font style="vertical-align: inherit;">密码。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有生成随机密码，则仍应指定一个密码。</font><font style="vertical-align: inherit;">有关说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“保护初始MySQL帐户”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该部分还介绍了如何删除</font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库，如果
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建了一个并且您不需要它。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您</font><font style="vertical-align: inherit;">在这一点上</font><font style="vertical-align: inherit;">遇到了</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的问题，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-install-db-problems" title="2.10.1.3运行mysql_install_db的问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.3节“运行mysql_install_db的问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-install-db-problems"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.1.3运行mysql_install_db的问题</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528181947664"></a><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序</font><font style="vertical-align: inherit;">
        的目的</font><font style="vertical-align: inherit;">是初始化数据目录，包括</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统数据库中</font><font style="vertical-align: inherit;">的表
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它不会覆盖现有的MySQL特权表，并且不会影响任何其他数据。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要重新创建您的权限表，请先停止
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器，如果它正在运行。</font><font style="vertical-align: inherit;">然后重命名</font></font><code class="filename">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录下的目录以保存它，然后运行
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">假设您的当前目录是MySQL安装目录，并且
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于
         </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中，并且数据目录已命名</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要重命名
         </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库并重新运行
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用这些命令。
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mv data/mysql data/mysql.old</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db时</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可能会遇到以下问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            无法安装授权表</font></font></strong></span>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您可能会发现</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法安装授权表并在显示以下消息后终止：
          </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用XXXXXX的数据库启动mysqld守护进程</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld结束了</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在这种情况下，您应该仔细检查错误日志文件。</font><font style="vertical-align: inherit;">该日志应位于</font></font><code class="filename">XXXXXX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由错误消息命名</font><font style="vertical-align: inherit;">的目录中
             </font><font style="vertical-align: inherit;">，并应指出为什么</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未启动。</font><font style="vertical-align: inherit;">如果您不明白发生了什么，请在发布错误报告时加入日志。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#bug-reports" title="1.7如何报告错误或问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.7节“如何报告错误或问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            进程正在运行</font></font></strong></span>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这表明服务器正在运行，在这种情况下授权表可能已经创建。</font><font style="vertical-align: inherit;">如果是这样，那么根本不需要运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            ，因为它只需要运行一次，当你第一次安装MySQL。
          </font></font></p></li><li class="listitem"><p>
            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当一台服务器正在运行时，</font><font style="vertical-align: inherit;">安装第二台
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器不起作用</font></font></strong></span>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            当你有一个现有的MySQL安装，但希望将一个新的安装放在不同的位置时，可能会发生这种情况。</font><font style="vertical-align: inherit;">例如，您可能有一个生产安装，但您想为测试目的创建另一个安装。</font><font style="vertical-align: inherit;">通常，当您尝试运行第二台服务器时发生的问题是，它会尝试使用第一台服务器正在使用的网络接口。</font><font style="vertical-align: inherit;">在这种情况下，您应该看到以下错误消息之一：
          </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法启动服务器：绑定TCP / IP端口：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
地址已在使用中</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
无法启动服务器：绑定在unix套接字上...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关设置多台服务器的说明，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#multiple-servers" title="5.6在一台机器上运行多个MySQL实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.6节“在一台机器上运行多个MySQL实例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <a class="indexterm" name="idm140528181911424"></a>

            <a class="indexterm" name="idm140528181909920"></a>

            <a class="indexterm" name="idm140528181908432"></a>

            <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您没有对该</font></font><code class="filename">/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录的</font><font style="vertical-align: inherit;">写入权限
            </font></font></strong></span>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果在默认位置（</font></font><code class="filename">/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录）或
             </font></font><code class="literal">TMPDIR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量中</font><font style="vertical-align: inherit;">没有创建临时文件或Unix套接字文件的写入权限（
             </font><font style="vertical-align: inherit;">如果已设置），则运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font><font style="vertical-align: inherit;">时会发生错误
             </font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前，您可以通过执行这些命令来为临时目录和Unix套接字文件指定不同的位置</font><font style="vertical-align: inherit;">，其中
             </font></font><em class="replaceable"><code>some_tmp_dir</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是您具有写入权限的某个目录的完整路径名称：
          </font></font></p><a class="indexterm" name="idm140528181897296"></a><a class="indexterm" name="idm140528181896208"></a><a class="indexterm" name="idm140528181895120"></a><a class="indexterm" name="idm140528181893632"></a><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font><font style="vertical-align: inherit;">
shell&gt; </font><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>TMPDIR=/<em class="replaceable"><code>some_tmp_dir</code></em>/</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>MYSQL_UNIX_PORT=/<em class="replaceable"><code>some_tmp_dir</code></em>/mysql.sock</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>export TMPDIR MYSQL_UNIX_PORT</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            然后，您应该能够运行
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并使用以下命令启动服务器：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/error-handling.html#problems-with-mysql-sock" title="B.5.3.6如何保护或更改MySQL Unix套接字文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第B.5.3.6节“如何保护或更改MySQL Unix套接字文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#environment-variables" title="4.9 MySQL程序环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.9节“MySQL程序环境变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        运行</font><font style="vertical-align: inherit;">MySQL发行版中提供</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序</font><font style="vertical-align: inherit;">有一些替代方法
         </font><font style="vertical-align: inherit;">：
</font></font></p><a class="indexterm" name="idm140528181880096"></a><a class="indexterm" name="idm140528181878608"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您希望初始权限与标准默认值不同，请在设置</font><font style="vertical-align: inherit;">授权表</font><span class="emphasis"><em><font style="vertical-align: inherit;">后</font></em></span><font style="vertical-align: inherit;">使用帐户管理语句（如
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-user" title="13.7.1.2 CREATE USER语法"><code class="literal">CREATE USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#grant" title="13.7.1.4 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#revoke" title="13.7.1.6 REVOKE语法"><code class="literal">REVOKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改权限</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">换句话说，运行
             </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;">mysql_install_db</font></strong></span></a><font style="vertical-align: inherit;">，然后用
             </font><font style="vertical-align: inherit;">它作为MySQL </font><font style="vertical-align: inherit;">用户</font><font style="vertical-align: inherit;">连接到服务器，</font><font style="vertical-align: inherit;">以便您可以发出必要的语句。</font><font style="vertical-align: inherit;">（请参见
             </font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#account-management-sql" title="13.7.1账户管理陈述"><font style="vertical-align: inherit;">第13.7.1节“帐户管理声明”</font></a><font style="vertical-align: inherit;">。）
          </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"></font></em></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">mysql -u root mysql</code><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#account-management-sql" title="13.7.1账户管理陈述"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要在多台机器使用相同的权限安装MySQL，放</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-user" title="13.7.1.2 CREATE USER语法"><code class="literal">CREATE
            USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#grant" title="13.7.1.4 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#revoke" title="13.7.1.6 REVOKE语法"><code class="literal">REVOKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句在一个文件并执行文件作为脚本
             </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行后
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>bin/mysql -u root &lt; your_script_file</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这使您可以避免在每台机器上手动发布报表。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            之前创建授权表后，可以完全重新创建授权表。</font><font style="vertical-align: inherit;">如果您只是在学习如何使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-user" title="13.7.1.2 CREATE USER语法"><code class="literal">CREATE USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#grant" title="13.7.1.4 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#revoke" title="13.7.1.6 REVOKE语法"><code class="literal">REVOKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后做了很多修改
             </font><font style="vertical-align: inherit;">，想要清除表并重新开始，那么</font><font style="vertical-align: inherit;">您可能需要这样做
             </font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要重新创建授权表，请停止正在运行的服务器并删除</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库目录。</font><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">
            再次</font><font style="vertical-align: inherit;">运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="starting-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.2启动服务器</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#starting-server-troubleshooting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.2.1启动MySQL服务器时的疑难解答问题</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何在Unix和类Unix系统上启动服务器。</font><font style="vertical-align: inherit;">（对于Windows，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-server-first-start" title="2.3.5.5首次启动服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.5节“首次启动服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）有关可用于测试服务器是否可访问并可正常运行的一些建议命令，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#testing-server" title="2.10.3测试服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.3节“测试服务器“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您的安装包含</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe，</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请像这样启动MySQL服务器
       </font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于使用RPM软件包安装MySQL的Linux系统，使用systemd而不是</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来管理服务器启动和关闭</font><font style="vertical-align: inherit;">，并且
         </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您的安装包含systemd支持，请像这样启动服务器：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果不同，请替换相应的服务名称
       </font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在SLES系统上。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用非特权（非</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）登录帐户</font><font style="vertical-align: inherit;">运行MySQL服务器非常重要</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了确保这一点，运行
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并包含</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如图所示</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">否则，您应该在登录时执行程序</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在这种情况下，您可以</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqld_safe_user"><code class="option">--user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从命令中</font><font style="vertical-align: inherit;">省略该
       </font><font style="vertical-align: inherit;">选项。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关以非特权用户身份运行MySQL的更多说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#changing-mysql-user" title="6.1.5如何以普通用户身份运行MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.5节“如何以普通用户身份运行MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果命令立即失败并打印</font></font><code class="literal">mysqld
      ended</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请在错误日志中查找信息（默认情况下</font></font><code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该信息是数据目录中</font><font style="vertical-align: inherit;">的
       </font><font style="vertical-align: inherit;">文件）。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果服务器无法访问它启动的数据目录或读取</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的授权表</font><font style="vertical-align: inherit;">，它会将消息写入其错误日志。</font><font style="vertical-align: inherit;">如果在继续执行此步骤之前忽略通过初始化数据目录来创建授权表，或者如果您运行不带该</font></font><code class="option">--user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><font style="vertical-align: inherit;">用于初始化数据目录的命令，则可能会出现此类问题
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">删除
       </font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录并使用该</font></font><code class="option">--user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">运行命令
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您在启动服务器时遇到其他问题，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server-troubleshooting" title="2.10.2.1启动MySQL服务器时的疑难解答问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.2.1节“启动MySQL服务器时</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遇到的问题
       </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server-troubleshooting" title="2.10.2.1启动MySQL服务器时的疑难解答问题"><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.3.2节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL服务器启动脚本”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关systemd支持的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="starting-server-troubleshooting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.2.1启动MySQL服务器时的疑难解答问题</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140528181817424"></a><a class="indexterm" name="idm140528181815936"></a><a class="indexterm" name="idm140528181814448"></a><a class="indexterm" name="idm140528181812960"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节提供有关启动服务器问题的故障排除建议。</font><font style="vertical-align: inherit;">有关Windows系统的其他建议，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-troubleshooting" title="2.3.6对Microsoft Windows MySQL服务器安装进行故障排除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.6节“Microsoft Windows MySQL服务器安装疑难解答”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您在启动服务器时遇到问题，可以尝试以下方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            检查</font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_error_log" title="错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误日志</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解服务器无法启动的原因。</font><font style="vertical-align: inherit;">日志文件位于</font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_data_directory" title="数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（通常</font></font><code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.7\data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows上，</font></font><code class="filename">/usr/local/mysql/data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于Unix / Linux二进制发行版以及
             </font></font><code class="filename">/usr/local/var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix / Linux源发行版）。</font><font style="vertical-align: inherit;">看看数据目录与形式的文件名的文件
             </font></font><code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            和
             </font></font><code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中</font></font><em class="replaceable"><code>host_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是您的服务器的主机名。</font><font style="vertical-align: inherit;">然后检查这些文件的最后几行。</font><font style="vertical-align: inherit;">使用</font></font><code class="literal">tail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示它们：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            指定您正在使用的存储引擎所需的任何特殊选项。</font><font style="vertical-align: inherit;">您可以创建一个</font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            文件并为您打算使用的引擎指定启动选项。</font><font style="vertical-align: inherit;">如果您要使用支持事务表（</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">存储引擎，请</font><font style="vertical-align: inherit;">确保在启动服务器之前按照您想要的方式配置了它们。</font><font style="vertical-align: inherit;">如果您使用</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-configuration" title="14.6 InnoDB配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.6节“InnoDB配置”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取指导，
             </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-parameters" title="14.14 InnoDB启动选项和系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.14节“InnoDB启动选项和系统变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取选项语法。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            尽管存储引擎使用默认值来替代您忽略的选项，但Oracle建议您查看可用选项，并为默认值不适合安装的任何选项指定显式值。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            确保服务器知道在哪里找到
             </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_data_directory" title="数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器使用此目录作为其当前目录。</font><font style="vertical-align: inherit;">这是它期望找到数据库的位置，以及它期望写入日志文件的位置。</font><font style="vertical-align: inherit;">服务器还将pid（进程ID）文件写入数据目录。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            编译服务器时，默认的数据目录位置是硬编码的。</font><font style="vertical-align: inherit;">要确定默认路径设置是什么，请</font><font style="vertical-align: inherit;">使用
             </font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果数据目录位于系统的其他位置</font><font style="vertical-align: inherit;">，请在命令行或选项文件中</font><font style="vertical-align: inherit;">指定具有</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">或</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;">mysqld_safe</font></strong></span></a><font style="vertical-align: inherit;">选项的
             </font><font style="vertical-align: inherit;">位置
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，服务器将无法正常工作。</font><font style="vertical-align: inherit;">作为</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的替代方法
             </font><font style="vertical-align: inherit;">，您可以指定</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_help"><code class="option">--help</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL安装的基本目录的位置
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以及
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那里</font><font style="vertical-align: inherit;">查找
             </font><font style="vertical-align: inherit;">目录。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要检查指定路径选项的效果，请</font><font style="vertical-align: inherit;">使用这些选项
             </font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">调用
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果将位置更改</font><font style="vertical-align: inherit;">为安装</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">的目录，
             </font><font style="vertical-align: inherit;">然后运行以下命令，则会显示以下基础目录启动服务器的效果
             </font><font style="vertical-align: inherit;">：
          </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_help"><code class="option">--help</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="filename">/usr/local</code><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您可以指定其他选项，例如
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为好，但
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_help"><code class="option">--help</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一定是最后的选择。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一旦确定了所需的路径设置，请在不使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and的
             </font><font style="vertical-align: inherit;">情况下启动服务器</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_help"><code class="option">--help</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前正在运行，您可以通过执行此命令找出它正在使用的路径设置：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要么：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
            <em class="replaceable"><code>host_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 是MySQL服务器主机的名称。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            确保服务器可以访问
             </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_data_directory" title="数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">数据目录及其内容的所有权和许可权必须允许服务器读取和修改它们。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您</font><font style="vertical-align: inherit;">在启动</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">得到</font></font><code class="literal">Errcode 13</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（意思是
             </font></font><code class="literal">Permission denied</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
             </font><font style="vertical-align: inherit;">，这意味着数据目录或其内容的权限不允许服务器访问。</font><font style="vertical-align: inherit;">在这种情况下，您可以更改涉及的文件和目录的权限，以便服务器有权使用它们。</font><font style="vertical-align: inherit;">您也可以启动服务器
             </font><font style="vertical-align: inherit;">，但这会引发安全问题，应该避免。
          </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将位置更改为数据目录并检查数据目录及其内容的所有权以确保服务器具有访问权限。</font><font style="vertical-align: inherit;">例如，如果数据目录是</font></font><code class="filename">/usr/local/mysql/var</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用以下命令：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果数据目录或其文件或子目录不属于用于运行服务器的登录帐户，请将其所有权更改为该帐户。</font><font style="vertical-align: inherit;">如果该帐户已命名</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请使用以下命令：
          </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            即使拥有正确的所有权，如果系统上运行着其他安全软件来管理应用程序访问文件系统的各个部分，MySQL也可能无法启动。</font><font style="vertical-align: inherit;">在这种情况下，重新配置该软件以使
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够访问它在正常操作期间使用的目录。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            验证服务器想要使用的网络接口是否可用。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果发生以下任一错误，则意味着某些其他程序（可能是另一个</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            服务器）正在使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试</font><font style="vertical-align: inherit;">使用的TCP / IP端口或Unix套接字文件
             </font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无法启动服务器：绑定TCP / IP端口：地址已在使用中</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
无法启动服务器：绑定在unix套接字上...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来确定是否有另一个</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器在运行。</font><font style="vertical-align: inherit;">如果是这样，请在</font><font style="vertical-align: inherit;">再次</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前关闭服务器
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（如果另一台服务器正在运行，并且您确实想运行多台服务器，可以在</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#multiple-servers" title="5.6在一台机器上运行多个MySQL实例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.6节“在一台机器上运行多个MySQL实例”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到有关如何操作的信息
             </font><font style="vertical-align: inherit;">。）
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果没有其他服务器正在运行，请执行该命令
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（默认的MySQL端口号是3306.）然后按Enter键几次。</font><font style="vertical-align: inherit;">如果您没有收到类似的错误消息
             </font><font style="vertical-align: inherit;">，则其他某些程序正在使用</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">尝试</font><font style="vertical-align: inherit;">使用的TCP / IP端口</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">追踪这是什么程序并将其禁用，或</font><font style="vertical-align: inherit;">通过</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">告诉
             </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;">mysqld</font></strong></span></a><font style="vertical-align: inherit;">听另一个端口</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，当使用TCP / IP连接到服务器时，为客户端程序指定相同的非默认端口号。
          </font></font><code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em>
            <em class="replaceable"><code>tcp_ip_port_number</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">telnet: Unable to connect to remote host:
            Connection refused</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_port"><code class="option">--port</code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            端口可能无法访问的另一个原因是您的防火墙正在运行，从而阻止与其连接。</font><font style="vertical-align: inherit;">如果是，请修改防火墙设置以允许访问端口。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果服务器启动但无法连接，请确保您有一个如下所示的条目</font></font><code class="filename">/etc/hosts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            ：
          </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1 localhost
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您无法</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请尝试使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">创建一个跟踪文件以查找问题
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#dbug-package" title="28.5.3 DBUG包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.5.3节“DBUG包”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="testing-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.3测试服务器</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据目录初始化并启动服务器后，执行一些简单的测试以确保其工作正常。</font><font style="vertical-align: inherit;">本节假定您的当前位置是MySQL安装目录，并且它有一个</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含此处使用的MySQL程序</font><font style="vertical-align: inherit;">的
       </font><font style="vertical-align: inherit;">子目录。</font><font style="vertical-align: inherit;">如果不是这样，请相应地调整命令路径名称。
    </font></font></p><a class="indexterm" name="idm140528181714848"></a><a class="indexterm" name="idm140528181713760"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，将该</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到您的
       </font></font><code class="literal">PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量设置。</font><font style="vertical-align: inherit;">这使您的shell（命令解释程序）能够正确查找MySQL程序，以便可以通过键入其名称而不是其路径名来运行程序。</font><font style="vertical-align: inherit;">参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#setting-environment-variables" title="4.2.10设置环境变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.10节“设置环境变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来验证服务器正在运行。</font><font style="vertical-align: inherit;">以下命令提供简单的测试来检查服务器是否启动并响应连接：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysqladmin version</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果无法连接到服务器，请指定一个</font></font><code class="option">-u
      root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接为</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您已经为该</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">分配了密码，则</font><font style="vertical-align: inherit;">还需要</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令行中</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">并在出现提示时输入密码。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>bin/mysqladmin -u root -p version</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin版本</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      的输出会</font><font style="vertical-align: inherit;">因您的平台和MySQL </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;">版本</font></strong></span></a><font style="vertical-align: inherit;">而有所不同，但应与此处显示的类似：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqladmin version</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqladmin Ver 14.12 Distrib 5.7.23，适用于i686上的pc-linux-gnu</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器版本5.7.23</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
协议版本10</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过UNIX套接字连接本地主机</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UNIX套接字/var/lib/mysql/mysql.sock</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正常运行时间：14天5小时5分21秒</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主题：1问题：366慢查询：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
打开：0冲洗桌：1打开桌：19</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每秒查询平均数：0.000</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      看看你可以用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做什么</font><font style="vertical-align: inherit;">，用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqladmin_help"><code class="option">--help</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      选项</font><font style="vertical-align: inherit;">调用它</font><font style="vertical-align: inherit;">。
    </font></font></p><a class="indexterm" name="idm140528181693744"></a><a class="indexterm" name="idm140528181692256"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      验证您是否可以关闭服务器（</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果该</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户已有密码，请</font><font style="vertical-align: inherit;">添加一个
       </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">）：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      验证您是否可以再次启动服务器。</font><font style="vertical-align: inherit;">通过使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">直接</font><font style="vertical-align: inherit;">调用
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来实现。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><a class="indexterm" name="idm140528181684512"></a><a class="indexterm" name="idm140528181683024"></a><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server-troubleshooting" title="2.10.2.1启动MySQL服务器时的疑难解答问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.2.1节“启动MySQL服务器时遇到的问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      运行一些简单的测试来验证您是否可以从服务器检索信息。</font><font style="vertical-align: inherit;">输出应该与此处显示的类似。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看存在哪些数据库：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqlshow</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据库|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysql |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      安装数据库列表可能会有所不同，但总会有最基本的</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">information_schema</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果指定数据库名称，则</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow将</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      显示</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">中的表的列表：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysqlshow mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库：mysql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">表格|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">columns_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">db |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">engine_cost |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">func |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">general_log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gtid_executed |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_category |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_keyword |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_relation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">help_topic |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">innodb_index_stats |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">innodb_table_stats |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ndb_binlog_index |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">插件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">proc |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">procs_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">proxies_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">server_cost |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">服务器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_master_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_relay_log_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slave_worker_info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">slow_log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">tables_priv |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_leap_second |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_name |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_transition |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">time_zone_transition_type |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">用户|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序从</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的表中选择信息</font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>bin/mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">用户| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">插件|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">mysql_native_password |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- + ----------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      此时，您的服务器正在运行，您可以访问它。</font><font style="vertical-align: inherit;">如果您还没有为初始帐户分配密码，要加强安全性，请按照
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#default-privileges" title="2.10.4确保初始MySQL帐户的安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.4节“确保初始MySQL帐户的安全”中的说明操作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.1节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL命令行工具”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.2节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 管理MySQL服务器的客户端”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及
       </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.5.8节</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><font style="vertical-align: inherit;">“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><font style="vertical-align: inherit;">“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;">mysqlshow</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><font style="vertical-align: inherit;"> - 显示数据库，表格和列信息”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="default-privileges"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.4确保初始MySQL帐户的安全</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528181654032"></a><a class="indexterm" name="idm140528181652576"></a><a class="indexterm" name="idm140528181651088"></a><a class="indexterm" name="idm140528181650016"></a><a class="indexterm" name="idm140528181648944"></a><a class="indexterm" name="idm140528181647456"></a><a class="indexterm" name="idm140528181646384"></a><a class="indexterm" name="idm140528181644896"></a><a class="indexterm" name="idm140528181643408"></a><a class="indexterm" name="idm140528181641920"></a><a class="indexterm" name="idm140528181640848"></a><a class="indexterm" name="idm140528181639360"></a><a class="indexterm" name="idm140528181637872"></a><a class="indexterm" name="idm140528181636384"></a><a class="indexterm" name="idm140528181634896"></a><a class="indexterm" name="idm140528181633408"></a><a class="indexterm" name="idm140528181631920"></a><a class="indexterm" name="idm140528181630432"></a><a class="indexterm" name="idm140528181628944"></a><a class="indexterm" name="idm140528181627456"></a><a class="indexterm" name="idm140528181625968"></a><a class="indexterm" name="idm140528181624480"></a><a class="indexterm" name="idm140528181622992"></a><a class="indexterm" name="idm140528181621504"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL安装过程涉及初始化数据目录，包括</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含定义MySQL帐户的授权表</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">有关详细信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后的安装和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何将密码分配给在MySQL安装过程中创建的初始帐户（如果尚未这样做的话）。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows上，您还可以在使用MySQL安装程序进行安装时执行本节中描述的过程（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#mysql-installer" title="2.3.3用于Windows的MySQL安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.3节“用于Windows的MySQL安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">在所有平台上，MySQL发行版包括
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation  - 改进MySQL安装安全性"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_secure_installation</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是一个命令行实用程序，可自动执行保护MySQL安装过程的大部分过程。</font><font style="vertical-align: inherit;">MySQL Workbench在所有平台上都可用，并且还提供了管理用户帐户的功能（请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/workbench.html" title="第30章MySQL Workbench"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第30章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Workbench</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在这些情况下可能已经分配了密码：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          安装在使用MySQL安装程序执行的Windows上，您可以选择分配密码。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Linux上使用服务器RPM或Debian发行版从Oracle进行安装。</font><font style="vertical-align: inherit;">请参阅
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm" title="2.5.5在Linux上安装MySQL使用Oracle的RPM软件包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.5节“使用Oracle的RPM软件包在Linux上安装MySQL”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum存储库</font></font></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-debian" title="2.5.6使用Oracle的Debian软件包在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL </font></font></a><font style="vertical-align: inherit;"><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;">，
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-debian" title="2.5.6使用Oracle的Debian软件包在Linux上安装MySQL"><font style="vertical-align: inherit;">第2.5.6节“使用Debian在Linux上安装MySQL来自Oracle的软件包“</font></a><font style="vertical-align: inherit;">或
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-apt-repo" title="2.5.3使用MySQL APT存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.3节”在Linux上使用MySQL APT存储库安装MySQL“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解如何查找随机生成的密码（用于RPM安装）或如何设置密码（用于Debian安装）。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从MySQL 5.7.6开始，如果使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手动初始化数据目录，则</font><font style="vertical-align: inherit;">应该为初始帐户生成一个随机密码; </font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”</font></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">授权表定义了初始MySQL用户账户和其访问权限。</font><font style="vertical-align: inherit;">当前版本的MySQL 5.7只创建一个
       </font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户，但对于早期版本，可能有多个帐户，如下所述：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          某些帐户具有用户名</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些超级用户帐户拥有所有权限并且可以执行任何操作。</font><font style="vertical-align: inherit;">如果这些</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户有空密码，任何人都可以连接到MySQL服务器，因为
           </font></font><code class="literal">root</code> <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有密码</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且被授予所有权限。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在Windows上，</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建帐户只允许来自本地主机的连接。</font><font style="vertical-align: inherit;">可以通过指定主机名
               </font></font><code class="literal">localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，IP地址
               </font></font><code class="literal">127.0.0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或IPv6地址进行连接
               </font></font><code class="literal">::1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果用户</font><font style="vertical-align: inherit;">在安装过程中</font><font style="vertical-align: inherit;">选择“ </font></font><span class="guilabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用远程计算机</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
               </font><span class="guilabel"><font style="vertical-align: inherit;">超级用户权限”</font></span><font style="vertical-align: inherit;">选项，则Windows安装程序会创建另一个</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              帐户，以允许来自任何主机的连接
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在Unix上，每个</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户都允许来自本地主机的连接。</font><font style="vertical-align: inherit;">可以通过指定主机名</font></font><code class="literal">localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，IP地址</font></font><code class="literal">127.0.0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，IPv6地址</font></font><code class="literal">::1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或实际主机名或IP地址进行连接。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户在</font></font><code class="literal">mysql.proxies_priv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">还有一行</font><font style="vertical-align: inherit;">可以授予</font><font style="vertical-align: inherit;">所有用户和所有主机</font><font style="vertical-align: inherit;">的
               </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_proxy"><code class="literal">PROXY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限
               </font></font><code class="literal">''@''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这使得</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够设置代理用户，并且能够委派给其他账户设置代理用户的权限。</font><font style="vertical-align: inherit;">参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#proxy-users" title="6.3.10代理用户"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3.10节“代理用户”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idm140528181582752"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

          如果创建了匿名用户帐户，则这些帐户具有空的用户名。</font><font style="vertical-align: inherit;">匿名帐户没有密码，所以任何人都可以使用它们连接到MySQL服务器。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在Windows上，有一个匿名帐户允许来自本地主机的连接。</font><font style="vertical-align: inherit;">可以通过指定主机名来进行连接</font></font><code class="literal">localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在Unix上，每个匿名帐户都允许来自本地主机的连接。</font><font style="vertical-align: inherit;">可以通过</font></font><code class="literal">localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为其中一个帐户</font><font style="vertical-align: inherit;">指定主机名</font><font style="vertical-align: inherit;">，或为另一个帐户指定实际主机名或IP地址来进行连接。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<h4><a name="idm140528181577216"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查存在哪些帐户</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果服务器没有运行，请启动服务器。</font><font style="vertical-align: inherit;">有关说明，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#starting-server" title="2.10.2启动服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.2节“启动服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设没有</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配密码，您应该能够连接到服务器，
       </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是一个：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysql -u root</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      连接后，确定</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">存在哪些帐户
       </font><font style="vertical-align: inherit;">以及密码是否为空：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从MySQL 5.7.6开始，使用以下语句：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT User, Host, HEX(authentication_string) FROM mysql.user;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该语句使用，</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_hex"><code class="literal">HEX()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          因为存储在</font></font><code class="literal">authentication_string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中的</font><font style="vertical-align: inherit;">密码
           </font><font style="vertical-align: inherit;">可能包含无法正确显示的二进制数据。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在MySQL 5.7.6之前，请使用以下语句：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT User, Host, Password FROM mysql.user;</code></strong>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明结果可能会因你的MySQL安装方法的版本而异。</font><font style="vertical-align: inherit;">以下示例输出包括几个
       </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名用户帐户，其中没有一个具有密码：
    </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ ------ + -------------------- + ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">用户| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">密码|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + -------------------- + ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">myhost.example.com | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">127.0.0.1 | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root | </font><font style="vertical-align: inherit;">:: 1 | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">myhost.example.com | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + -------------------- + ---------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果系统上的输出显示任何带有空密码的账户，那么在安装MySQL之前，您的MySQL安装是不受保护的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为每个</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          没有</font><font style="vertical-align: inherit;">密码的MySQL </font><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">分配一个密码</font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要防止客户端以匿名用户身份连接而无需密码，请为每个匿名帐户分配密码或删除帐户。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      另外，某些安装方法会创建一个
       </font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库并向</font></font><code class="literal">mysql.db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">添加行，以
       </font><font style="vertical-align: inherit;">允许所有帐户访问该数据库和其他以开头的名称的数据库</font></font><code class="literal">test_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">即使对于没有特殊权限的帐户（例如默认匿名帐户）也是如此。</font><font style="vertical-align: inherit;">这对测试非常方便，但不适用于生产服务器。</font><font style="vertical-align: inherit;">希望数据库访问的管理员仅限于为此目的明确授予权限的帐户应删除这些
       </font></font><code class="literal">mysql.db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格行。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下说明介绍如何为初始MySQL帐户设置密码，首先为任何</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      帐户</font><font style="vertical-align: inherit;">设置密码</font><font style="vertical-align: inherit;">，然后为匿名帐户</font><font style="vertical-align: inherit;">设置密码</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">说明还包括如何删除匿名帐户，如果您不想允许匿名访问，并介绍如何删除对测试数据库的宽容访问权限。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      将</font></font><em class="replaceable"><code>new_password</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例中的密码</font><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">为您要使用的密码。</font><font style="vertical-align: inherit;">替换
       </font></font><em class="replaceable"><code>host_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为服务器主机的名称。</font><font style="vertical-align: inherit;">您可以从</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前面显示</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">的输出中确定此名称
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于显示的输出，</font></font><em class="replaceable"><code>host_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
       </font></font><code class="literal">myhost.example.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关设置密码的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#assigning-passwords" title="6.3.6分配帐户密码"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3.6节“分配帐户密码”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在设置密码后</font><font style="vertical-align: inherit;">忘记
         </font><font style="vertical-align: inherit;">密码，请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/error-handling.html#resetting-permissions" title="B.5.3.2如何重置根密码"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第B.5.3.2节“如何重置根密码”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要设置更多帐户，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#adding-users" title="6.3.2添加用户帐户"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3.2节“添加用户帐户”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可能希望推迟设置密码，以避免在执行其他设置或测试时指定密码。</font><font style="vertical-align: inherit;">但是，在将其用于生产目的之前，请务必设置它们。
</font></font></p>
<h4><a name="idm140528181540768"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配root帐户密码</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要为帐户分配密码，请</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font><font style="vertical-align: inherit;">连接到服务器
       </font><font style="vertical-align: inherit;">并发出相应的SQL语句：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从MySQL 5.7.6开始，使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER语法"><code class="literal">ALTER
          USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER <em class="replaceable"><code>user</code></em> IDENTIFIED BY '<em class="replaceable"><code>new_password</code></em>';</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在5.7.6之前，使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD语法"><code class="literal">SET PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET PASSWORD FOR <em class="replaceable"><code>user</code></em> = PASSWORD('<em class="replaceable"><code>new_password</code></em>');</code></strong>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下说明使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER语法"><code class="literal">ALTER
      USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您的MySQL版本早于5.7.6，则替换等效</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD语法"><code class="literal">SET PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      语句。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要为</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">分配</font><font style="vertical-align: inherit;">密码，请按以下方式连接到服务器</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>mysql -u root</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      然后发表</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER语法"><code class="literal">ALTER USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>new_password</code></em>';</code></strong>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER语法"><code class="literal">ALTER USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      为</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中没有密码的</font><font style="vertical-align: inherit;">其他</font><font style="vertical-align: inherit;">帐户</font><font style="vertical-align: inherit;">
      发出类似的</font><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（适当地改变主机名称。）
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在帐户分配了密码后，无论何时使用帐户连接到服务器，都必须提供该密码。</font><font style="vertical-align: inherit;">例如，要使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭服务器
       </font><font style="vertical-align: inherit;">，请使用以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下说明中</font><font style="vertical-align: inherit;">
      的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令包含一个</font></font><code class="option">-p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，它基于您已</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用前面的说明</font><font style="vertical-align: inherit;">分配了</font><font style="vertical-align: inherit;">帐户密码</font><font style="vertical-align: inherit;">的假设，</font><font style="vertical-align: inherit;">并且在连接到服务器时必须指定该密码。
</font></font></p>
<h4><a name="idm140528181507776"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配匿名帐户密码</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL 5.7中，创建匿名帐户的安装方法往往适用于</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER语法"><code class="literal">ALTER USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能用于分配密码的</font><font style="vertical-align: inherit;">早期版本
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，本节中的说明使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD语法"><code class="literal">SET PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要为</font></font><code class="literal">''@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匿名帐户</font><font style="vertical-align: inherit;">分配</font><font style="vertical-align: inherit;">密码，请按以下方式连接到服务器</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      然后发表</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD语法"><code class="literal">SET PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      声明：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>new_password</code></em>');</code></strong>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD语法"><code class="literal">SET PASSWORD</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      为您的</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中没有密码的</font><font style="vertical-align: inherit;">任何其他匿名帐户</font><font style="vertical-align: inherit;">
      发出类似的</font><font style="vertical-align: inherit;">声明
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（适当地改变主机名称。）
</font></font></p>
<h4><a name="idm140528181493776"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除匿名帐户</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您希望删除任何匿名帐户而不是分配密码，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#drop-user" title="13.7.1.3 DROP USER语法"><code class="literal">DROP
      USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要删除该</font></font><code class="literal">''@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      帐户，请按以下方式连接到服务器</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      然后发表</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#drop-user" title="13.7.1.3 DROP USER语法"><code class="literal">DROP USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#drop-user" title="13.7.1.3 DROP USER语法"><code class="literal">DROP USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为您想要放弃的任何其他匿名帐户</font><font style="vertical-align: inherit;">
      发布类似的</font><font style="vertical-align: inherit;">声明。</font><font style="vertical-align: inherit;">（适当地改变主机名称。）
</font></font></p>
<h4><a name="idm140528181482608"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护测试数据库</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一些安装方法创建</font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据库并设置访问权限。</font><font style="vertical-align: inherit;">如果在您的系统上这是真的，那么该</font></font><code class="literal">mysql.db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表将包含允许任何用户访问</font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据库和其他以数据库开头的数据库的行
       </font></font><code class="literal">test_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（这些行有一个空
       </font></font><code class="literal">User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列值，用于访问检查目的匹配任何用户名。）这意味着即使是没有权限的帐户也可以使用这些数据库。</font><font style="vertical-align: inherit;">如果您想删除任何用户对测试数据库的访问权限，请按如下所示进行操作：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><em class="replaceable"><code>(enter root password here)</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>DELETE FROM mysql.db WHERE Db LIKE 'test%';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#flush" title="13.7.6.3 FLUSH语法"><code class="literal">FLUSH</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句使服务器重新读取授权表。</font><font style="vertical-align: inherit;">没有它，服务器将不会注意到特权更改，直到您重新启动为止。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      通过上述更改，只有具有为</font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">明确授予的全局数据库特权或权限的用户
       </font><font style="vertical-align: inherit;">才能使用它。</font><font style="vertical-align: inherit;">但是，如果您更喜欢数据库根本不存在，请删除它：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>DROP DATABASE test;</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="automatic-start"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.10.5自动启动和停止MySQL</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528181467808"></a><a class="indexterm" name="idm140528181466336"></a><a class="indexterm" name="idm140528181464848"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节讨论启动和停止MySQL服务器的方法。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      通常，您</font><font style="vertical-align: inherit;">可以通过以下某种方式</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接</font><font style="vertical-align: inherit;">
          调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这适用于任何平台。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Windows上，您可以设置在Windows启动时自动运行的MySQL服务。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-start-service" title="2.3.5.8将Windows作为Windows服务启动"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.5.8节“将MySQL作为Windows服务启动”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Unix和类Unix系统上，您可以调用
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它会尝试确定</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的正确选项</font><font style="vertical-align: inherit;">，然后使用这些选项运行它。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.3.2节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL服务器启动脚本”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在支持systemd的Linux系统上，您可以使用它来控制服务器。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在使用System V风格运行目录（即
           </font></font><code class="filename">/etc/init.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行级特定目录）的系统上，调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该脚本主要用于系统启动和关闭。</font><font style="vertical-align: inherit;">它通常安装在名称下</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本开始通过调用服务器</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.3.3节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  MySQL服务器启动脚本”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在OS X上，安装launchd守护程序以在系统启动时启用自动MySQL启动。</font><font style="vertical-align: inherit;">守护进程通过调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动服务器</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关详细信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-launchd" title="2.4.3安装MySQL启动守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.3节“安装MySQL启动守护进程”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">MySQL首选项面板还通过系统首选项提供了启动和停止MySQL的控制。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#osx-installation-prefpane" title="2.4.4安装和使用MySQL首选面板"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.4.4节“安装和使用MySQL首选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Solaris上，使用服务管理框架（SMF）系统来启动和控制MySQL的启动。

</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      systemd，可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本，Solaris SMF以及OS X启动项（或MySQL首选项窗格）手动启动服务器，也可以在系统启动时自动启动服务器。</font><font style="vertical-align: inherit;">systemd，
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和Startup Item也可以用来停止服务器。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      下表显示了服务器和启动脚本从选项文件中读取哪些选项组。
</font></font></p>
<div class="table">
<a name="startup-scripts-server-option-groups"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.14 MySQL启动脚本和支持的服务器选项组</font></font></b></p>
<div class="table-contents">
<table summary="MySQL startup scripts and the server option groups they support."><colgroup><col width="20%"><col width="80%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项组</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a></td>
          <td><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">[server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
            </font></font><code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td>
        </tr><tr>
          <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe的</font></font></strong></span></a></td>
          <td><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">[server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
            </font></font><code class="literal">[mysqld_safe]</code></td>
        </tr><tr>
          <td scope="row"><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server的</font></font></strong></span></a></td>
          <td><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">[mysql.server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
            </font></font><code class="literal">[server]</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      意味着，如姓名组
       </font></font><code class="literal">[mysqld-5.6]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">[mysqld-5.7]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由具有版本5.6.x，5.7.x等服务器读取。</font><font style="vertical-align: inherit;">此功能可用于指定只能由给定版本系列中的服务器读取的选项。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      为了向后兼容，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-server" title="4.3.3 mysql.server  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql.server</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也读取该</font></font><code class="literal">[mysql_server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组，并且
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也读取该
       </font></font><code class="literal">[safe_mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组。</font><font style="vertical-align: inherit;">为了保持最新状态，您应该更新您的选项文件以改为使用
       </font></font><code class="literal">[mysql.server]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关MySQL配置文件及其结构和内容的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#option-files" title="4.2.6使用选项文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.6节“使用选项文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="upgrading-downgrading"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11升级或降级MySQL</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#upgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#downgrading"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.2降级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#rebuilding-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.3重建或修复表或索引</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#copying-databases"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.4将MySQL数据库复制到另一台机器</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528181401184"></a><a class="indexterm" name="idm140528181400144"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本节介绍升级或降级MySQL安装的步骤。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    升级是一种常见的过程，因为您可以在相同的MySQL版本系列中选择错误修复，或在主要MySQL版本之间选择重要功能。</font><font style="vertical-align: inherit;">您首先在一些测试系统上执行此过程，以确保一切正常，然后在生产系统上运行。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    降级不太常见。</font><font style="vertical-align: inherit;">通常，由于生产系统上发生的某些兼容性或性能问题，您可以撤消升级，并且在测试系统的初始升级验证期间未发现升级。</font><font style="vertical-align: inherit;">与升级过程一样，在使用生产系统之前，首先在一些测试系统上执行并验证降级过程。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="upgrading"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1升级MySQL</font></font></h3>

</div>

</div>

</div>

<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#upgrading-strategies"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.1 MySQL升级策略</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.2影响升级到MySQL的更改5.7</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#updating-yum-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.3使用MySQL Yum存储库升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#updating-apt-repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.4使用MySQL APT存储库升级MySQL</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#updating-direct-rpms"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.5使用直接下载的RPM软件包升级MySQL</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528181395968"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何升级到新的MySQL版本。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="upgrading-strategies"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.1 MySQL升级策略</font></font></h4>

</div>

</div>

</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-methods" title="升级方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级方法</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-paths" title="升级路径"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级路径</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你开始之前</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-troubleshooting" title="升级故障排除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级故障排除</font></font></a></p></li></ul>
</div>

<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下讨论中，必须使用具有管理权限的MySQL帐户运行的MySQL </font><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">包括
           </font><font style="vertical-align: inherit;">在命令行上以指定MySQL </font><font style="vertical-align: inherit;">用户。</font><font style="vertical-align: inherit;">需要密码的命令</font><font style="vertical-align: inherit;">
          也包含一个</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">由于
           </font><font style="vertical-align: inherit;">没有选项值，因此这些命令会提示输入密码。</font><font style="vertical-align: inherit;">出现提示时键入密码，然后按Enter键。
        </font></font><code class="option">-u <code class="literal">root</code></code><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font><code class="option">-p</code><font style="vertical-align: inherit;"></font><code class="option">-p</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行客户端</font><font style="vertical-align: inherit;">执行SQL语句
           </font><font style="vertical-align: inherit;">（连接
           </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确保您具有必要的权限）。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-methods"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级方法</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          支持的升级方法包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：涉及关闭旧的MySQL版本，用新版本替换旧的MySQL二进制文件或包，在现有的数据目录下重新启动MySQL，并运行
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：涉及使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从旧的MySQL版本导出现有数据
              </font><font style="vertical-align: inherit;">，安装新的MySQL版本，将转储文件加载到新的MySQL版本，并运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关就地和逻辑升级过程，请参阅
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您在Windows上运行MySQL服务器，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#windows-upgrading" title="2.3.8在Windows上升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.3.8节“在Windows上升级MySQL”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述的升级过程</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您当前的MySQL安装是使用MySQL Yum存储库安装在Enterprise Linux平台或Fedora上，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.3节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL Yum存储库</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;">升级MySQL”</font></a><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您使用MySQL APT存储库在Ubuntu上安装了当前的MySQL安装，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-apt-repo" title="2.11.1.4使用MySQL APT存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.4节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用MySQL APT存储库
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-apt-repo" title="2.11.1.4使用MySQL APT存储库升级MySQL"><font style="vertical-align: inherit;">升级MySQL”</font></a><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-paths"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级路径</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              仅在通用可用性（GA）版本之间支持升级。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持从MySQL 5.6升级到5.7。</font><font style="vertical-align: inherit;">在升级到下一个版本之前，建议升级到最新版本。</font><font style="vertical-align: inherit;">例如，在升级到MySQL 5.7之前升级到最新的MySQL 5.6版本。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              不支持跳过版本的升级。</font><font style="vertical-align: inherit;">例如，不支持从MySQL 5.5直接升级到5.7。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持发布系列中的升级。</font><font style="vertical-align: inherit;">例如，从MySQL 5.7升级。</font></font><em class="replaceable"><code>x</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到5.7。</font></font><em class="replaceable"><code>y</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被支持。</font><font style="vertical-align: inherit;">跳过发布也支持。</font><font style="vertical-align: inherit;">例如，从MySQL 5.7升级。</font></font><em class="replaceable"><code>x</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到5.7。</font></font><em class="replaceable"><code>z</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被支持。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-before-you-begin"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你开始之前</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          升级之前，请查看以下信息并执行建议的步骤：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在升级之前，通过创建当前数据库和日志文件的备份来保护您的数据。</font><font style="vertical-align: inherit;">备份应包含</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统数据库，其中包含MySQL系统表。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/backup-and-recovery.html#backup-methods" title="7.2数据库备份方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第7.2节“数据库备份方法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              查看
               </font></font><a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中提供了有关MySQL 5.7中新增功能的信息，或与早期MySQL版本中的功能不同。</font><font style="vertical-align: inherit;">其中一些更改可能导致不兼容。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关在MySQL 5.7中删除的MySQL服务器功能的说明，请参阅
               </font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#mysql-nutshell-removals" title="特性在MySQL 5.7中删除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL 5.7中删除的功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您使用其中任何一项功能，升级需要对这些功能进行更改。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关在MySQL 5.7中添加，弃用或删除的MySQL服务器变量和选项列表，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#added-removed-variables-options" title="1.5服务器和状态变量和选项在MySQL 5.7中添加，取消或删除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1.5节“在MySQL 5.7中添加，弃用或删除服务器和状态变量和选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您使用这些项目中的任何一项，则升级需要配置更改。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              复习</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.2节“影响升级到MySQL 5.7的更改”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本节介绍在升级之前或之后可能需要采取操作的更改。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您使用复制，请查看
               </font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-upgrade" title="16.4.3升级复制设置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.4.3节“升级复制设置”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您使用XA事务</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
              RECOVER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在升级之前</font><font style="vertical-align: inherit;">运行</font><font style="vertical-align: inherit;">以检查未提交的XA事务。</font><font style="vertical-align: inherit;">如果返回结果，则通过发出</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
              COMMIT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
              ROLLBACK</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">来提交或回滚XA事务</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您的MySQL安装包含大量数据，而这些数据在就地升级后可能需要很长时间进行转换，您可能会发现创建
               </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库实例以评估可能需要的转换以及涉及的工作执行它们。</font><font style="vertical-align: inherit;">制作包含完整副本的MySQL实例的副本</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              数据库以及所有其他没有数据的数据库。</font><font style="vertical-align: inherit;">在此虚拟实例上运行升级过程以查看可能需要执行的操作，以便您可以更好地评估在原始数据库实例上执行实际数据转换时涉及的工作。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              建议您在安装或升级到新的MySQL版本时重建和重新安装MySQL语言界面。</font><font style="vertical-align: inherit;">这适用于MySQL接口，例如PHP </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展，Perl
               </font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块和Python
               </font></font><code class="literal">MySQLdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-procedure-inplace"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本节介绍如何执行
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-methods" title="升级方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">检查</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始之前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后再继续。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果升级最初通过安装多个RPM软件包生成的安装，则升级所有软件包，而不仅仅是升级所有软件包。</font><font style="vertical-align: inherit;">例如，如果您以前安装了服务器和客户端RPM，请不要仅升级服务器RPM。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于某些Linux平台，从RPM或Debian软件包安装的MySQL包括用于管理MySQL服务器启动和关闭的systemd支持。</font><font style="vertical-align: inherit;">在这些平台上，
             </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，请使用systemd进行服务器启动和关闭，而不是使用以下说明中使用的方法。</font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要执行就地升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              查看</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.2节“影响升级到MySQL 5.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的更改”中所述的更改，以
               </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;">了解升级</font></a><font style="vertical-align: inherit;">前要执行的步骤。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过设置</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为将
               </font><font style="vertical-align: inherit;">MySQL配置为执行缓慢关闭
               </font></font><code class="literal">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql -u root -p --execute =“SET GLOBAL innodb_fast_shutdown = 0”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过缓慢关闭，</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在关闭之前执行全面清除和更改缓冲区合并，从而确保数据文件在发行版之间的文件格式差异情况下完全准备好。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              关闭旧的MySQL服务器。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              升级MySQL二进制安装或包。</font><font style="vertical-align: inherit;">如果升级二进制安装，请解压缩新的MySQL二进制分发包。</font><font style="vertical-align: inherit;">请参阅
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#binary-installation-unpack" title="获取并解压分发"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取和解包分配</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于基于软件包的安装，请将旧软件包替换为新软件包。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于受支持的Linux发行版，替换MySQL软件包的首选方法是使用MySQL软件存储库; </font><font style="vertical-align: inherit;">请参见
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.3节“使用MySQL Yum存储库升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                 </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-apt-repo" title="2.11.1.4使用MySQL APT存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.4节“使用MySQL APT存储库</font></font></a><font style="vertical-align: inherit;"></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/#repo-qg-sles-upgrading" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级MySQL </font></font></a><font style="vertical-align: inherit;"><a class="xref" href="/mysql-5.7-google-zh/installing.html#updating-apt-repo" title="2.11.1.4使用MySQL APT存储库升级MySQL"><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;">或
                 </font><a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/#repo-qg-sles-upgrading" target="_top"><font style="vertical-align: inherit;">使用MySQL SLES存储库升级MySQL以</font></a><font style="vertical-align: inherit;">获取指示信息。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用现有的数据目录启动MySQL 5.7服务器。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/existing-datadir</code></em>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade -u root -p
</font></font></pre><p>
              <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查所有数据库中的所有表与当前版本的MySQL不兼容。</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还升级</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统数据库，以便您可以利用新的权限或功能。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
                <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会升级帮助表的内容。</font><font style="vertical-align: inherit;">有关升级说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-side-help-support" title="5.1.11服务器端帮助"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.11节“服务器端帮助”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              关闭并重新启动MySQL服务器以确保对系统表所做的任何更改都会生效。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/existing-datadir</code></em>
</pre></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-procedure-logical"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本节介绍如何执行
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-methods" title="升级方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">检查
           </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始之前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后再继续。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于某些Linux平台，从RPM或Debian软件包安装的MySQL包括用于管理MySQL服务器启动和关闭的systemd支持。</font><font style="vertical-align: inherit;">在这些平台上，
             </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，请使用systemd进行服务器启动和关闭，而不是使用以下说明中使用的方法。</font><font style="vertical-align: inherit;">请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要执行逻辑升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              查看</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1.2节“影响升级到MySQL 5.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的更改”中所述的更改，以
               </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;">了解升级</font></a><font style="vertical-align: inherit;">前要执行的步骤。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从以前的MySQL版本导出现有数据：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump -u root -p</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  --add-drop-table  - 例程 - 事件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  --all-databases --force&gt; data-for-upgrade.sql</font></font><font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的数据库包含存储的程序，</font><font style="vertical-align: inherit;">
                请在</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;">mysqldump中</font></strong></span></a><font style="vertical-align: inherit;">使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_routines"><code class="option">--routines</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
                 </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_events"><code class="option">--events</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
                 </font><font style="vertical-align: inherit;">（如上所示）。</font><font style="vertical-align: inherit;">该
                 </font><font style="vertical-align: inherit;">选项包括转储中的所有数据库，包括</font><font style="vertical-align: inherit;">保存系统表</font><font style="vertical-align: inherit;">的
                 </font><font style="vertical-align: inherit;">数据库。
</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a><font style="vertical-align: inherit;"></font><code class="literal">mysql</code><font style="vertical-align: inherit;"></font></p>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果您的表包含生成的列，请使用</font><font style="vertical-align: inherit;">随MySQL 5.7.9或更高版本提供</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序来创建您的转储文件。</font><font style="vertical-align: inherit;">早期版本中提供</font><font style="vertical-align: inherit;">的
                 </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序对生成的列定义使用不正确的语法（错误＃20769542）。</font><font style="vertical-align: inherit;">您可以使用该
                 </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#columns-table" title="24.4 INFORMATION_SCHEMA COLUMNS表"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表格来识别生成列的表格。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              关闭旧的MySQL服务器。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              安装MySQL 5.7。</font><font style="vertical-align: inherit;">有关安装说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html" title="第2章安装和升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装和升级MySQL</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              初始化新的数据目录，如
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization" title="2.10.1初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1节“初始化数据目录”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize --datadir =</font></font><em class="replaceable"><code>/path/to/5.7-datadir</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              将</font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              显示</font><font style="vertical-align: inherit;">的临时</font><font style="vertical-align: inherit;">密码</font><font style="vertical-align: inherit;">复制</font><font style="vertical-align: inherit;">到屏幕或写入错误日志中以备将来使用。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用新的数据目录启动MySQL 5.7服务器。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/5.7-datadir</code></em>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              重置</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><strong class="userinput"><code>****</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  &lt; - 输入临时的root密码
</font></font></pre><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>ALTER USER USER() IDENTIFIED BY '<em class="replaceable"><code>your new password</code></em>';</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              将之前创建的转储文件加载到新的MySQL服务器中。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql -u root -p --force &lt;data-for-upgrade.sql
</font></font></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_gtid_mode"><code class="literal">gtid_mode=ON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的转储文件包含系统表，</font><font style="vertical-align: inherit;">
                则不建议在服务器（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">上启用GTID时加载转储文件</font><font style="vertical-align: inherit;">。
                </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为使用非事务性MyISAM存储引擎的系统表发出DML指令，并且在启用GTID时不允许使用此组合。</font><font style="vertical-align: inherit;">另外请注意，将启用了GTID的服务器中的转储文件加载到启用了GTID的另一台服务器中会导致生成不同的事务标识符。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade -u root -p
</font></font></pre><p>
              <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查所有数据库中的所有表与当前版本的MySQL不兼容。</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还升级</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统数据库，以便您可以利用新的权限或功能。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
                <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会升级帮助表的内容。</font><font style="vertical-align: inherit;">有关升级说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-side-help-support" title="5.1.11服务器端帮助"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.11节“服务器端帮助”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              关闭并重新启动MySQL服务器以确保对系统表所做的任何更改都会生效。</font><font style="vertical-align: inherit;">例如：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/5.7-datadir</code></em>
</pre></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-troubleshooting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级故障排除</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果发生问题，例如新的
               </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器未启动，请验证</font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              您之前的安装</font><font style="vertical-align: inherit;">中是否没有旧</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">你可以用这个</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_general_print-defaults"><code class="option">--print-defaults</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选项</font><font style="vertical-align: inherit;">来检查它</font><font style="vertical-align: inherit;">（例如，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --print-defaults</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">如果此命令显示除程序名称以外的任何其他内容，则会有一个</font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">影响服务器或客户端操作</font><font style="vertical-align: inherit;">的活动
               </font><font style="vertical-align: inherit;">文件。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果在升级后遇到编译客户机程序的问题（例如</font></font><code class="literal">Commands out of
              sync</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或意外的核心转储），那么在编译程序时可能使用了旧的头文件或库文件。</font><font style="vertical-align: inherit;">在这种情况下，请检查</font></font><code class="filename">mysql.h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件和
               </font></font><code class="filename">libmysqlclient.a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font><font style="vertical-align: inherit;">的日期
               </font><font style="vertical-align: inherit;">以确认它们来自新的MySQL分发版。</font><font style="vertical-align: inherit;">如果没有，请使用新的头文件和库重新编译程序。</font><font style="vertical-align: inherit;">如果库的主版本号已更改（例如，从纂修可能也有必要对共享客户端库编译的程序</font></font><code class="filename">libmysqlclient.so.15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
               </font></font><code class="filename">libmysqlclient.so.16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您创建了具有给定名称的用户定义函数（UDF），并将MySQL升级到实现具有相同名称的新内置函数的版本，则UDF将无法访问。</font><font style="vertical-align: inherit;">要解决此问题，请使用
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#drop-function" title="13.1.24 DROP FUNCTION语法"><code class="literal">DROP FUNCTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除UDF，然后使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-function" title="13.1.13 CREATE FUNCTION语法"><code class="literal">CREATE
              FUNCTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他非冲突名称重新创建UDF。</font><font style="vertical-align: inherit;">如果新版本的MySQL实现了与现有存储函数同名的内置函数，情况也是如此。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">描述服务器如何解释对不同类型函数的引用的规则</font></font><a class="xref" href="/mysql-5.7-google-zh/language-structure.html#function-resolution" title="9.2.4函数名称解析和解析"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
               </font><a class="xref" href="/mysql-5.7-google-zh/language-structure.html#function-resolution" title="9.2.4函数名称解析和解析"><font style="vertical-align: inherit;">第9.2.4节“函数名称解析和解析”</font></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="upgrading-from-previous-series"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.2影响升级到MySQL的更改5.7</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        升级到MySQL 5.7之前，请查看本节中描述的更改，以确定适用于当前MySQL安装和应用程序的升级问题。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除本节中概述的更改外，请查阅
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始之前中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述的其他重要信息
           </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        标记为“ </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知问题”</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或“ </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容更改”的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与早期版本的MySQL不兼容，并且</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在升级之前</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能需要您注意</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们的目标是避免这些变化，但偶尔他们有必要纠正比发布之间不兼容更糟糕的问题。</font><font style="vertical-align: inherit;">如果适用于您的安装的升级问题涉及需要特殊处理的不兼容性，请按照不兼容性说明中的说明进行操作。</font><font style="vertical-align: inherit;">有时这涉及转储和重新加载表格，或者使用诸如</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font><font style="vertical-align: inherit;">的语句</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关转储和重新加载说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#rebuilding-tables" title="2.11.3重建或修复表或索引"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.3节“重建或修复表或索引”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">涉及</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
         </font></font><code class="literal">USE_FRM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项的</font><font style="vertical-align: inherit;">任何过程
         </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在升级之前完成。</font><font style="vertical-align: inherit;">使用这个语句的MySQL版本不同于用于创建表的那个（即在升级后使用它）可能会损坏表。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.7.2.5节“REPAIR TABLE语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-configuration-changes" title="配置更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-system-table-changes" title="系统表更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-server-changes" title="服务器更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-innodb-changes" title="InnoDB的变化"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB的变化</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-sql-changes" title="SQL更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL更改</font></font></a></p></li></ul>
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="upgrade-configuration-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置更改</font></font></h5>

</div>

</div>

</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的变化</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.12开始，默认
              </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为空。</font><font style="vertical-align: inherit;">要加载</font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              插件，必须使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有非空值</font><font style="vertical-align: inherit;">的显式
              </font><font style="vertical-align: inherit;">选项。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在MySQL 5.7.11中，默认
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值是</font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件库文件</font><font style="vertical-align: inherit;">的名称</font><font style="vertical-align: inherit;">，所以该插件默认加载。
              </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密需要在</font><font style="vertical-align: inherit;">初始化</font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前加载插件</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此这种默认</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值的</font><font style="vertical-align: inherit;">更改会导致
               </font><font style="vertical-align: inherit;">从5.7.11升级到5.7.12或更高版本时的不兼容性。</font><font style="vertical-align: inherit;">已加密</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间的</font><font style="vertical-align: inherit;">管理员
               </font><font style="vertical-align: inherit;">必须采取明确的措施以确保持续加载
               </font></font><code class="literal">keyring_file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件：使用。启动服务器</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选项来命名插件库文件。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#keyring-installation" title="6.5.4.1安装Keyring插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.4.1节“安装Keyring插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
              </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含系统和状态变量信息的表（请参见
              </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#variables-table" title="24.10 INFORMATION_SCHEMA GLOBAL_VARIABLES和SESSION_VARIABLES表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.10节“INFORMATION_SCHEMA GLOBAL_VARIABLES和SESSION_VARIABLES表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
              </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#status-table" title="24.9 INFORMATION_SCHEMA GLOBAL_STATUS和SESSION_STATUS表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.9节“INFORMATION_SCHEMA GLOBAL_STATUS和SESSION_STATUS表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">从MySQL 5.7.6开始，性能模式还包含系统和状态变量表（请参见
              </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-system-variable-tables" title="25.11.13性能模式系统变量表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.11.13节“性能模式系统变量表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
              </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.11.14节“性能模式状态变量表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">性能模式表旨在取代
              </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表，这些表从MySQL 5.7.6开始不推荐使用，并且将在未来的MySQL版本中删除。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关将</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">从</font><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">迁移
               </font><font style="vertical-align: inherit;">到性能模式表的建议，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-variable-table-migration" title="25.19迁移到性能模式系统和状态变量表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.19节“迁移到性能模式系统和状态变量表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了帮助进行迁移，可以使用
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              系统变量，该变量影响系统和状态变量信息由
               </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">性能架构表以及</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-variables" title="13.7.5.39 SHOW VARIABLES语法"><code class="literal">SHOW
              VARIABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-status" title="13.7.5.35 SHOW STATUS语法"><code class="literal">SHOW
              STATUS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句提供的方式。
              </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在5.7.6和5.7.7中默认启用，并且在MySQL 5.7.8中默认为禁用。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关效果的详细信息
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-system-variables" title="5.1.5服务器系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.5节“服务器系统变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了更好地理解，强烈建议您阅读以下部分：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-system-variable-tables" title="25.11.13性能模式系统变量表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.11.13节“性能模式系统变量表”</font></font></a>
                </p></li><li class="listitem"><p>
                  <a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.11.14节“性能模式状态变量表”</font></font></a>
                </p></li><li class="listitem"><p>
                  <a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-summary-tables" title="25.11.15.10状态变量汇总表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.11.15.10节“状态变量汇总表”</font></font></a>
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.6开始，对于某些Linux平台，当使用RPM和Debian软件包安装MySQL时，现在使用systemd而不是</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来管理服务器启动和关闭
              </font><font style="vertical-align: inherit;">，并且
              </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这可能需要对指定服务器选项的方式进行一些调整。</font><font style="vertical-align: inherit;">有关详细信息，请参见
              </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在MySQL 5.7.5中，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的可执行二进制版本
              </font><font style="vertical-align: inherit;">位于
              </font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装目录中，而Perl版本位于
              </font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装目录中。</font><font style="vertical-align: inherit;">对于从旧版本的MySQL升级，您可能会在两个目录中找到版本。</font><font style="vertical-align: inherit;">为避免混淆，请删除</font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">中的版本</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于全新安装的MySQL 5.7.5或更高版本，
              </font><font style="vertical-align: inherit;">只能在该</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">找到
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且该
              </font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录不再存在。</font><font style="vertical-align: inherit;">期望找到的应用程序
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
              </font></font><code class="filename">scripts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中应该更新在看</font></font><code class="filename">bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录来代替。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从</font><font style="vertical-align: inherit;">
              MySQL 5.7.6开始</font><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的位置</font><font style="vertical-align: inherit;">变得不那么重要，因为从那个版本开始，它不赞成使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize-insecure</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#data-directory-initialization-mysqld" title="2.10.1.1使用mysqld手动初始化数据目录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10.1.1节“使用mysqld手动初始化数据目录”</font></font></a>
            </p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在MySQL 5.7.5中，进行了这些SQL模式更改：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  事务性存储引擎（</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">严格SQL模式</font><font style="vertical-align: inherit;">现在默认启用。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  SQL模式的</font><font style="vertical-align: inherit;">
                  实现
                   </font><font style="vertical-align: inherit;">已经变得更加复杂，不再拒绝先前被拒绝的确定性查询。</font><font style="vertical-align: inherit;">因此，
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  现在默认启用，以禁止包含不确定性表达式的不确定性查询在组内唯一确定。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  到默认的SQL模式导致违约的变化</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  与这些模式的系统变量值启用：
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  该
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  模式现在也包含在由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_ansi"><code class="literal">ANSI</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL模式</font><font style="vertical-align: inherit;">组成的</font><font style="vertical-align: inherit;">模式中。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您发现已
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              启用导致现有应用程序的查询被拒绝，则这些操作中的任何一个都应该恢复操作：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  如果可以修改违规查询，请这么做，以便非确定性非聚集列在功能上依赖于</font></font><code class="literal">GROUP
                  BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列，或者通过使用</font><font style="vertical-align: inherit;">非聚集列</font><font style="vertical-align: inherit;">引用
                   </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  如果无法修改违规查询（例如，如果它是由第三方应用程序生成的），请</font></font><code class="literal">sql_mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  在服务器启动时</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为不启用
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关SQL模式和</font></font><code class="literal">GROUP
              BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询的</font><font style="vertical-align: inherit;">更多信息</font><font style="vertical-align: inherit;">，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.8节“服务器SQL模式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
               </font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#group-by-handling" title="12.19.3 MySQL处理GROUP BY"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.19.3节“MySQL处理GROUP BY”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-system-table-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">的
              </font></font><code class="literal">Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
              </font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.7.6中被删除。</font><font style="vertical-align: inherit;">所有凭证都存储在</font></font><code class="literal">authentication_string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中，包括以前存储在</font></font><code class="literal">Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列</font><font style="vertical-align: inherit;">中的凭证
              </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果执行就地升级到MySQL 5.7.6或更高版本，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按照</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级过程的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指导</font><font style="vertical-align: inherit;">运行</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"> mysql_upgrade</font></strong></span></a><font style="vertical-align: inherit;">以将</font></font><code class="literal">Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列内容</font><font style="vertical-align: inherit;">迁移
              </font><font style="vertical-align: inherit;">到
              </font></font><code class="literal">authentication_string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">5.7.6以前的MySQL安装中</font><font style="vertical-align: inherit;">的</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;">mysqldump</font></strong></span></a><font style="vertical-align: inherit;">转储文件</font><font style="vertical-align: inherit;">执行
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则必须遵守以下</font><font style="vertical-align: inherit;">
              用于生成转储文件</font><font style="vertical-align: inherit;">的</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;">mysqldump</font></strong></span></a><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">条件</font><font style="vertical-align: inherit;">：
</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  您必须包含该
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_add-drop-table"><code class="option">--add-drop-table</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  选项
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  您不得包含该
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  选项
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如
               </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-logical" title="逻辑升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑升级过程所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前，将5.7.6之前的转储文件加载到5.7.6（或更高版本）的服务器中
               </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-server-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器更改</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.5开始，支持使用旧的4.1之前的密码散列格式的密码将被删除，其中涉及以下更改。</font><font style="vertical-align: inherit;">使用任何不再支持的功能的应用程序必须进行修改。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">mysql_old_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用4.1之前密码哈希值</font><font style="vertical-align: inherit;">
                  的</font><font style="vertical-align: inherit;">身份验证插件被删除。</font><font style="vertical-align: inherit;">使用此插件的帐户在启动时被禁用，并且服务器将</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未知插件</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息</font><font style="vertical-align: inherit;">写入
                   </font><font style="vertical-align: inherit;">错误日志。</font><font style="vertical-align: inherit;">有关升级使用此插件的帐户的说明，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#account-upgrades" title="6.5.1.3从4.1之前的密码散列和mysql_old_password插件迁移"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.1.3节“从4.1之前的密码散列和mysql_old_password插件迁移”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_old_passwords"><code class="literal">old_passwords</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  系统变量，不再允许值1（产生4.1之前的散列值）。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="option">--secure-auth</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和客户端程序</font><font style="vertical-align: inherit;">
                  的</font><font style="vertical-align: inherit;">选项是默认选项，但现在是不可操作的。</font><font style="vertical-align: inherit;">它被弃用，将在未来的MySQL版本中被删除。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="option">--skip-secure-auth</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和客户端程序</font><font style="vertical-align: inherit;">
                  的</font><font style="vertical-align: inherit;">选项不再受支持，并且使用它会产生错误。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  所述</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_secure_auth"><code class="literal">secure_auth</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  系统变量只允许值1; </font><font style="vertical-align: inherit;">值0不再被允许。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  该</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  功能被删除。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在MySQL 5.6.6中，</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#year" title="11.3.3年份类型"><code class="literal">YEAR(2)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              数据类型已被弃用。</font><font style="vertical-align: inherit;">在MySQL 5.7.5中，支持
              </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#year" title="11.3.3年份类型"><code class="literal">YEAR(2)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被删除。</font><font style="vertical-align: inherit;">升级到MySQL 5.7.5或更高版本后，</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#year" title="11.3.3年份类型"><code class="literal">YEAR(2)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须将</font><font style="vertical-align: inherit;">其余任何
              </font><font style="vertical-align: inherit;">列转换为</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#year" title="11.3.3年份类型"><code class="literal">YEAR(4)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可再次使用。</font><font style="vertical-align: inherit;">有关转换策略，请参见
              </font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#migrating-to-year4" title="11.3.4年（2）限制和迁移到年（4）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.3.4节“年（2）限制和迁移到年（4）”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">升级后</font><font style="vertical-align: inherit;">运行
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是可能的转换策略之一。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从MySQL 5.7.7的，
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE
              ... FOR UPGRADE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告的表为需要重建，如果它包含在预5.6.4格式老时间列（</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#time" title="11.3.2时间类型"><code class="literal">TIME</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
               </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#datetime" title="11.3.1 DATE，DATETIME和TIMESTAMP类型"><code class="literal">DATETIME</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
               </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#datetime" title="11.3.1 DATE，DATETIME和TIMESTAMP类型"><code class="literal">TIMESTAMP</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列不为小数精度秒支持）和
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              系统变量被禁用。</font><font style="vertical-align: inherit;">这有助于
               </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测并升级包含旧时间列的表。</font><font style="vertical-align: inherit;">如果
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用，则</font></font><code class="literal">FOR UPGRADE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略表中存在的旧时间列; </font><font style="vertical-align: inherit;">因此，
               </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会升级它们。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从MySQL 5.7.7开始，</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR
              TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果表格包含5.6.4版之前的旧时态列并且</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              系统变量被禁用</font><font style="vertical-align: inherit;">，则</font><font style="vertical-align: inherit;">升级表
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用，则</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              忽略表中存在的旧时态列，但不升级它们。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              要检查包含这些时间列并需要重建的表，请</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在执行前
               </font><font style="vertical-align: inherit;">禁用
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE
              ... FOR UPGRADE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              要升级包含这些时间列的表，请</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_avoid_temporal_upgrade"><code class="literal">avoid_temporal_upgrade</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在执行</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR
              TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前</font><font style="vertical-align: inherit;">禁用
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.2开始，服务器需要</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中的</font><font style="vertical-align: inherit;">帐户行
              </font><font style="vertical-align: inherit;">具有非空
              </font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列值，并禁用具有空值的帐户。</font><font style="vertical-align: inherit;">这要求您升级您的</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表以填写所有</font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">从MySQL 5.7.6开始，使用这个过程：
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您打算使用现有MySQL安装中的数据目录进行升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  停止旧的（MySQL 5.6）服务器
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  通过用旧的二进制文件替换旧的二进制文件来升级MySQL二进制文件
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  正常启动MySQL 5.7服务器（无特殊选项）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级系统表
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  重新启动MySQL 5.7服务器
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您计划通过重新加载从现有MySQL安装生成的转储文件进行升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  要生成转储文件，请</font><font style="vertical-align: inherit;">使用
                   </font><font style="vertical-align: inherit;">
                  选项</font><font style="vertical-align: inherit;">运行
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_add-drop-table"><code class="option">--add-drop-table</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不使用该
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  选项
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  停止旧的（MySQL 5.6）服务器
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  升级MySQL二进制文件（将旧的二进制文件替换为新的二进制文件）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  正常启动MySQL 5.7服务器（无特殊选项）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  重新加载转储文件（</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql &lt;
                  </font></font><em class="replaceable"><code>dump_file</code></em></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级系统表
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  重新启动MySQL 5.7服务器
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在MySQL 5.7.6之前，程序涉及更多：
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您打算使用现有MySQL安装中的数据目录进行升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  停止旧的（MySQL 5.6）服务器
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  升级MySQL二进制文件（将旧的二进制文件替换为新的二进制文件）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  禁用特权检查选项
                 </font><font style="vertical-align: inherit;">重新启动服务器
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级系统表
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  正常重启服务器（不带
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您计划通过重新加载从现有MySQL安装生成的转储文件进行升级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  要生成转储文件，请运行
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump，</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但不要
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  选项
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  停止旧的（MySQL 5.6）服务器
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  升级MySQL二进制文件（将旧的二进制文件替换为新的二进制文件）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  禁用特权检查选项
                 </font><font style="vertical-align: inherit;">重新启动服务器
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  重新加载转储文件（</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql &lt;
                  </font></font><em class="replaceable"><code>dump_file</code></em></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级系统表
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  正常重启服务器（不带
                   </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p></li></ol>
</div>
<p>
              <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认作为MySQL</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户运行。</font><font style="vertical-align: inherit;">对于前面的过程，如果</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时密码已过期</font><font style="vertical-align: inherit;">，您将看到一条消息，表明密码已过期，并且
              </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysql_upgrade因此</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败。</font><font style="vertical-align: inherit;">要解决这个问题，请重置</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码以</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解除</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码并</font><font style="vertical-align: inherit;">
              再次</font><font style="vertical-align: inherit;">运行</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"> mysql_upgrade</font></strong></span></a><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>mysql -u root -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><strong class="userinput"><code>****</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  &lt; - 在此输入root密码</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>ALTER USER USER() IDENTIFIED BY 'root-password';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃MySQL 5.7.6及更高版本</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>SET PASSWORD = PASSWORD('root-password');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        ＃在MySQL 5.7.6之前</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>quit</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>mysql_upgrade -p</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码：</font></font><strong class="userinput"><code>****</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  &lt; - 在此输入root密码
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果服务器启动时密码重置语句通常不起作用
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但第一次调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              刷新权限，所以当你运行
               </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql时</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，语句被接受。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本身
               </font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;">超过</font></strong></span></a></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码，则需要以相同的方式重新设置密码。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在遵循前面的说明之后，DBA还建议转换使用</font></font><code class="literal">mysql_old_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份验证插件的</font><font style="vertical-align: inherit;">帐户
               </font></font><code class="literal">mysql_native_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              ，因为支持
               </font></font><code class="literal">mysql_old_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已被删除。</font><font style="vertical-align: inherit;">有关帐户升级说明，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#account-upgrades" title="6.5.1.3从4.1之前的密码散列和mysql_old_password插件迁移"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.1.3节“从4.1之前的密码散列和mysql_old_password插件迁移”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对于</font><font style="vertical-align: inherit;">表创建时</font></font><code class="literal">DEFAULT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值，</font><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">值可能有效，
              </font><font style="vertical-align: inherit;">但</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入或更新行时值可能</font><font style="vertical-align: inherit;">无效
              </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET sql_mode ='';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE t（d DATE DEFAULT 0）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET sql_mode ='NO_ZERO_DATE，STRICT_ALL_TABLES';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t（d）VALUES（DEFAULT）;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在这种情况下，0应被接受，
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但被拒绝</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，之前服务器并未评估
               </font></font><code class="literal">DEFAULT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于插入或更新当前值的值</font></font><code class="literal">sql_mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在该示例中，</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              成功并插入</font></font><code class="literal">'0000-00-00'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#datetime" title="11.3.1 DATE，DATETIME和TIMESTAMP类型"><code class="literal">DATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从MySQL 5.7.2开始，服务器应用适当的
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查以在插入或更新时生成警告或错误。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果使用基于语句的日志记录（</font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_binlog_format"><code class="literal">binlog_format=STATEMENT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），则</font><font style="vertical-align: inherit;">导致复制的复制不兼容性</font><font style="vertical-align: inherit;">是，如果升级从属节点，则非升级的主节点将执行上述示例而不会出错，而从属节点
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将失败，并且复制将停止。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为了解决这个问题，停止对主人的所有新的陈述，并等待奴隶赶上。</font><font style="vertical-align: inherit;">然后升级从站，然后升级主站。</font><font style="vertical-align: inherit;">或者，如果您无法停止新语句，请临时更改为master（</font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_binlog_format"><code class="literal">binlog_format=ROW</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">上的基于行的日志记录，</font><font style="vertical-align: inherit;">并等到所有从节点都处理完此次更改时生成的所有二进制日志。</font><font style="vertical-align: inherit;">然后升级主站，然后将主站更改回基于语句的日志记录。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对审计日志插件进行了一些更改，以便与Oracle Audit Vault更好地兼容。</font><font style="vertical-align: inherit;">为了升级目的，主要问题是审计日志文件的默认格式已经改变：</font></font><code class="literal">&lt;AUDIT_RECORD&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在使用属性写入的元素中的</font><font style="vertical-align: inherit;">信息</font><font style="vertical-align: inherit;">现在是使用子元素写入的。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              旧</font></font><code class="literal">&lt;AUDIT_RECORD&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              格式</font><font style="vertical-align: inherit;">示例</font><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;AUDIT_RECORD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 TIMESTAMP = “2013-04-15T15：27：27”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 NAME = “查询”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 CONNECTION_ID = “3”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 STATUS = “0”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 SQLTEXT =“选择1”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              新格式示例：
            </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;AUDIT_RECORD&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;TIMESTAMP&gt; 2013-04-15T15：27：27 UTC &lt;/ TIMESTAMP&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;RECORD_ID&gt; 3998_2013-04-15T15：27：27 &lt;/ RECORD_ID&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;NAME&gt;查询&lt;/ NAME&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;CONNECTION_ID&gt; 3 &lt;/ CONNECTION_ID&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;STATUS&gt; 0 &lt;/ STATUS&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;STATUS_CODE&gt; 0 &lt;/ STATUS_CODE&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;USER&gt; root [root] @ localhost [127.0.0.1] &lt;/ USER&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;OS_LOGIN&gt; &lt;/ OS_LOGIN&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;HOST&gt;本地主机&lt;/ HOST&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;IP&gt; 127.0.0.1 &lt;/ IP&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;COMMAND_CLASS&gt;选择&lt;/ COMMAND_CLASS&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 &lt;SQLTEXT&gt; SELECT 1 &lt;/ SQLTEXT&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/ AUDIT_RECORD&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您以前使用旧版本的审计日志插件，请使用此过程来避免将新格式的日志条目写入包含旧格式条目的现有日志文件：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  停止服务器。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  手动重命名当前审计日志文件。</font><font style="vertical-align: inherit;">该文件将只包含旧格式的日志条目。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  更新服务器并重新启动它。</font><font style="vertical-align: inherit;">审计日志插件将创建一个新的日志文件，其中将只包含新格式的日志条目。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关审计日志插件的信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#audit-log" title="6.5.5 MySQL企业审计"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.5.5节“MySQL企业审计”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-innodb-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB的变化</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：为了简化</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃恢复期间的表空间发现，MySQL 5.7.5中引入了新的重做日志记录类型。</font><font style="vertical-align: inherit;">此增强功能会更改重做日志格式。</font><font style="vertical-align: inherit;">执行就地升级之前，请使用</font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              设置</font><font style="vertical-align: inherit;">执行干净关闭
              </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
              </font><font style="vertical-align: inherit;">是</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;">就地升级中</font></a><font style="vertical-align: inherit;">的推荐步骤
              </font><font style="vertical-align: inherit;">。
            </font></font><code class="literal">0</code><font style="vertical-align: inherit;"></font><code class="literal">1</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：MySQL 5.7.8和5.7.9撤消日志可能包含有关空间列的信息不足，这可能会导致升级失败（错误＃21508582）。</font><font style="vertical-align: inherit;">在执行从MySQL 5.7.8或5.7.9到5.7.10或更高版本的就地升级之前，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除撤消日志来</font><font style="vertical-align: inherit;">执行缓慢关闭
              </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
              </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的推荐步骤
              </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：MySQL 5.7.8撤消日志可能包含有关虚拟列和虚拟列索引的足够信息，这可能会导致升级失败（错误＃21869656）。</font><font style="vertical-align: inherit;">在执行从MySQL 5.7.8到MySQL 5.7.9或更高版本的就地升级之前，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除撤消日志来</font><font style="vertical-align: inherit;">执行缓慢关闭
              </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
              </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的推荐步骤
              </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的更改</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从MySQL 5.7.9开始，第一个重做日志文件（</font></font><code class="filename">ib_logfile0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的重做日志头</font><font style="vertical-align: inherit;">包含一个格式版本标识符和一个标识创建重做日志文件的MySQL版本的文本字符串。</font><font style="vertical-align: inherit;">这种增强功能改变了重做日志格式，要求使用</font><font style="vertical-align: inherit;">
              MySQL 5.7.9或更高版本的就地升级</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              设置</font></font><code class="literal">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code class="literal">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行就地升级之前</font><font style="vertical-align: inherit;">干净地关闭
              </font><font style="vertical-align: inherit;">MySQL。</font><font style="vertical-align: inherit;">使用缓慢关机
              </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrade-procedure-inplace" title="就地升级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地升级中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的推荐步骤
              </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在MySQL 5.7.9中，</font></font><code class="literal">DYNAMIC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换
               </font></font><code class="literal">COMPACT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font><font style="vertical-align: inherit;">的隐式默认行格式</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">新的配置选项
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定默认的</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行格式。</font><font style="vertical-align: inherit;">允许的值包括
               </font></font><code class="literal">DYNAMIC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（默认值）
               </font></font><code class="literal">COMPACT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
               </font></font><code class="literal">REDUNDANT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              升级到5.7.9后，</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              除非明确定义行格式（</font></font><code class="literal">ROW_FORMAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">否则您</font><font style="vertical-align: inherit;">创建的任何新表都使用由其
               </font><font style="vertical-align: inherit;">定义的行格式</font><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于没有明确定义</font></font><code class="literal">ROW_FORMAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项或使用的
               </font><font style="vertical-align: inherit;">现有表，
               </font></font><code class="literal">ROW_FORMAT=DEFAULT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重建表的任何操作也会静默地将表格的行格式更改为由其定义的格式
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，现有表格保留其当前行格式设置。</font><font style="vertical-align: inherit;">有关更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-row-format-specification" title="14.11.2指定表格的行格式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.11.2节“指定表格的行格式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从MySQL 5.7.6开始，</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              存储引擎为使用</font><font style="vertical-align: inherit;">创建的任何新分区表使用</font><font style="vertical-align: inherit;">自己的内置（</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本机</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）分区处理程序
               </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以前版本的MySQL中创建的</font><font style="vertical-align: inherit;">分区
               </font><font style="vertical-align: inherit;">表不会自动升级。</font><font style="vertical-align: inherit;">您可以</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下任一方法</font><font style="vertical-align: inherit;">轻松升级这些表以</font><font style="vertical-align: inherit;">在MySQL 5.7.9或更高版本中</font><font style="vertical-align: inherit;">使用
               </font><font style="vertical-align: inherit;">本地分区：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  要将通用分区处理程序中的单个表升级到
                   </font></font><em class="replaceable"><code>InnoDB</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本地分区，请执行该语句
                   </font><font style="vertical-align: inherit;">。
                </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER
                  TABLE <em class="replaceable"><code>table_name</code></em> UPGRADE
                  PARTITIONING</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  要升级所有</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用通用分区处理程序的表来使用本地分区处理程序，请运行
                   </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="upgrade-sql-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL更改</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不兼容的变化</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该
              </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能在MySQL 5.7.5中使用元数据锁定（MDL）子系统重新实现，其功能已扩展：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  以前，</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  一次只允许获取一个指定的锁，第二个
                   </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼叫则释放任何现有的锁。</font><font style="vertical-align: inherit;">现在
                   </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许获取多个同时命名的锁并且不释放现有的锁。
                </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  依赖于</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">释放任何先前锁</font><font style="vertical-align: inherit;">的行为的应用程序
                   </font><font style="vertical-align: inherit;">必须针对新行为进行修改。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  获取多个锁的能力引入了客户端之间的死锁的可能性。</font><font style="vertical-align: inherit;">MDL子系统检测到死锁并</font></font><a class="link" href="/mysql-5.7-google-zh/error-handling.html#error_er_user_lock_deadlock"><code class="literal">ER_USER_LOCK_DEADLOCK</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  在发生这种情况时</font><font style="vertical-align: inherit;">返回
                   </font><font style="vertical-align: inherit;">错误。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  MDL子系统对锁名称限制为64个字符，所以此限制现在也适用于指定的锁。</font><font style="vertical-align: inherit;">以前，没有强制执行长度限制。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在</font><font style="vertical-align: inherit;">
                  获取的锁
                   </font><font style="vertical-align: inherit;">现在出现在性能模式
                   </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#metadata-locks-table" title="25.11.12.1 metadata_locks表"><code class="literal">metadata_locks</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中。</font><font style="vertical-align: inherit;">该
                   </font></font><code class="literal">OBJECT_TYPE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表示
                   </font></font><code class="literal">USER LEVEL LOCK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                   </font></font><code class="literal">OBJECT_NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表示锁名称。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  一个新的函数
                   </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_release-all-locks"><code class="literal">RELEASE_ALL_LOCKS()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  允许一次释放所有获得的命名锁。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#miscellaneous-functions" title="12.20杂项功能"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.20节“其他函数”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              优化器现在</font></font><code class="literal">FROM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以一致的方式</font><font style="vertical-align: inherit;">处理</font><font style="vertical-align: inherit;">子句中的</font><font style="vertical-align: inherit;">派生表和视图，
               </font><font style="vertical-align: inherit;">以便更好地避免不必要的实现，并支持使用生成更高效执行计划的推送条件。</font><font style="vertical-align: inherit;">但是，对于诸如</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#delete" title="13.2.2 DELETE语法"><code class="literal">DELETE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改表的</font><font style="vertical-align: inherit;">语句，对
               </font><font style="vertical-align: inherit;">之前已实现的派生表使用合并策略可能会导致
               </font></font><a class="link" href="/mysql-5.7-google-zh/error-handling.html#error_er_update_table_used"><code class="literal">ER_UPDATE_TABLE_USED</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              错误：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>DELETE FROM t1</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt; </font></font><strong class="userinput"><code>WHERE id IN (SELECT id</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt; </font></font><strong class="userinput"><code>             FROM (SELECT t1.id</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt; </font></font><strong class="userinput"><code>                   FROM t1 INNER JOIN t2 USING (id)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;</font></font><strong class="userinput"><code>                   WHERE t2.status = 0) AS t);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
错误1093（HY000）：您无法指定目标表't1'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用于FROM子句中的更新</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              将派生表合并到外部查询块时会发生错误，该错误会导致从中选择并修改表的语句。</font><font style="vertical-align: inherit;">（实现不会导致问题，因为它实际上会将派生表转换为单独的表。）为避免此错误，请</font><font style="vertical-align: inherit;">在执行语句之前</font><font style="vertical-align: inherit;">禁用</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的</font></font><code class="literal">derived_merge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志
               </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET optimizer_switch ='derived_merge = off';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><code class="literal">derived_merge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志控制优化程序是否尝试将</font></font><code class="literal">FROM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句</font><font style="vertical-align: inherit;">中的子查询和视图合并</font><font style="vertical-align: inherit;">到外部查询块中，假定没有其他规则会阻止合并。</font><font style="vertical-align: inherit;">默认情况下，该标志</font></font><code class="literal">on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于启用合并。</font><font style="vertical-align: inherit;">设置标志</font></font><code class="literal">off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              防止合并并避免刚描述的错误。</font><font style="vertical-align: inherit;">有关更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/optimization.html#derived-table-optimization" title="8.2.2.3优化派生表和视图引用"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第8.2.2.3节“优化派生表和视图引用”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              一些关键字可能在MySQL 5.7中保留，而不是在MySQL 5.6中保留。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/language-structure.html#keywords" title="9.3关键字和保留字"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第9.3节“关键字和保留字”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这可能会导致以前用作标识符的单词变为非法。</font><font style="vertical-align: inherit;">要修复受影响的语句，请使用标识符引用。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/language-structure.html#identifiers" title="9.2模式对象名称"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第9.2节“模式对象名称”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              升级之后，建议您测试应用程序代码中指定的优化器提示，以确保仍然需要提示才能实现所需的优化策略。</font><font style="vertical-align: inherit;">优化器增强有时可能会使某些优化器提示不必要。</font><font style="vertical-align: inherit;">在某些情况下，不必要的优化器提示甚至可能适得其反。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#union" title="13.2.9.3 UNION语法"><code class="literal">UNION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明中，要应用</font></font><code class="literal">ORDER BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
               </font></font><code class="literal">LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向个人
               </font><font style="vertical-align: inherit;">申请</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将该子句放在括号中的括号内
               </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（SELECT a FROM t1 WHERE a = 10 AND B = 1 ORDER BY a LIMIT 10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
联盟</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（SELECT a FROM t2 WHERE a = 11 AND B = 2 ORDER BY a LIMIT 10）;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              以前的MySQL版本可能允许没有括号的语句。</font><font style="vertical-align: inherit;">在MySQL 5.7中，强制执行括号的要求。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-yum-repo"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.3使用MySQL Yum存储库升级MySQL</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180831216"></a><a class="indexterm" name="idm140528180830176"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于受支持的基于Yum的平台（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-yum-repo" title="2.5.1使用MySQL Yum存储库在Linux上安装MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.1节“在Linux上使用MySQL Yum资源库安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），您可以执行MySQL的就地升级（即替换旧版本，然后使用MySQL Yum存储库从旧数据文件运行新版本）。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
笔记
</font></font></div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在执行任何MySQL更新之前，请仔细按照</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading" title="2.11.1升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1节“升级MySQL”中的说明进行操作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在那里讨论的其他指令中，在更新之前备份数据库尤为重要。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              以下说明假设您已经使用MySQL Yum存储库或直接从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL开发人员专区的MySQL下载页面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载的RPM软件包安装了MySQL
               </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">如果情况并非如此，请按照
               </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#replace-third-party-yum" title="2.5.2使用MySQL Yum Repository替换MySQL的第三方分发"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.2节“使用MySQL Yum Repository替换MySQL的第三方分发”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<p>
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h5><a name="idm140528180820064"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择一个目标系列</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              默认情况下，MySQL Yum存储库会将MySQL更新为您在安装期间</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择的版本系列中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的最新版本（请参阅
               </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;">选择发布系列</font></a><font style="vertical-align: inherit;">以了解详细信息），例如，5.6.x安装将不会更新为5.7 .x自动发布。</font><font style="vertical-align: inherit;">要更新到其他版本系列，您需要先禁用已选择的系列的子库（默认情况下或者由您自己），并为您的目标系列启用子库。</font><font style="vertical-align: inherit;">为此，请参阅</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;">选择发布系列中</font></a><font style="vertical-align: inherit;">的一般说明
              </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于从MySQL 5.6升级到5.7，执行与</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;">选择发布系列中</font></a><font style="vertical-align: inherit;">所示步骤</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相反</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的步骤</font><font style="vertical-align: inherit;">，禁用MySQL 5.6系列的子库并启用MySQL 5.7系列的子库。
            </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-select-series" title="选择一个发布系列"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              作为一般规则，要从一个发行版系列升级到另一个发行版系列，请转到下一个系列，而不是跳过系列。</font><font style="vertical-align: inherit;">例如，如果您当前正在运行MySQL 5.5并希望升级到5.7，请在升级到5.7之前先升级到MySQL 5.6。
</font></font></p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                有关从MySQL 5.6升级到5.7的重要信息，请参阅
                 </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#upgrading-from-previous-series" title="2.11.1.2影响升级到MySQL的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从MySQL 5.6升级到5.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li><li class="listitem">
<h5><a name="idm140528180812016"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级MySQL</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于未启用dnf的平台，通过以下命令升级MySQL及其组件：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo yum更新mysql-server
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

              对于启用了dnf的平台：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo dnf升级mysql-server
</font></font></pre><p>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              或者，您可以通过告诉Yum更新系统中的所有内容来更新MySQL，这可能需要相当多的时间; </font><font style="vertical-align: inherit;">对于不支持dnf的平台：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo yum更新
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

              对于启用了dnf的平台：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo dnf升级
</font></font></pre><p>
</p></li><li class="listitem">
<h5><a name="idm140528180805840"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新启动MySQL</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL服务器总是在Yum更新后重新启动。</font><font style="vertical-align: inherit;">一旦服务器重新启动，运行
               </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查并可能解决旧数据和升级软件之间的任何不兼容问题。</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还执行其他功能; </font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
               </font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;">第4.4.7节“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;">mysql_upgrade</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"> - 检查并升级MySQL表”</font></a><font style="vertical-align: inherit;">。
</font></font></p></li></ol>
</div>
<p>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您也可以只更新一个特定的组件。</font><font style="vertical-align: inherit;">使用以下命令列出MySQL组件的所有已安装软件包（对于启用了dnf的系统，请</font><font style="vertical-align: inherit;">使用</font><span class="command"><strong><font style="vertical-align: inherit;">dnf</font></strong></span><font style="vertical-align: inherit;">替换
         </font><font style="vertical-align: inherit;">该命令中的
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：

</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo yum list安装| </font><font style="vertical-align: inherit;">grep“^ mysql”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

        在识别出您选择的组件的软件包名称后，对于未启用dnf的平台，请使用以下命令更新软件包，替换
         </font></font><em class="replaceable"><code>package-name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为软件包名称：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo yum更新 </font></font><em class="replaceable"><code>package-name</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

        对于支持dnf的平台：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo dnf升级 </font></font><em class="replaceable"><code>package-name</code></em>
</pre><p>
</p>
<h5><a name="updating-yum-repo-client-lib"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级共享客户端库</font></font></h5>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用Yum存储库更新MySQL之后，使用旧版本的共享客户端库编译的应用程序应继续工作。
      </font></font></p><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您重新编译应用程序并将其与更新的库进行动态链接： </font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于新版本的共享库而言，新旧版本的库在新旧版本库之间存在差异或增加了符号版本（例如，较新的标准5.7共享客户端库与共享库的某些较早版本或变体版本本地由Linux发行版的软件存储库或其他来源提供），使用更新的更新的共享库进行编译的任何应用程序都需要在部署应用程序的系统上更新这些库。</font><font style="vertical-align: inherit;">而且，正如预期的那样，如果这些库不存在，那么需要共享库的应用程序将会失败。</font><font style="vertical-align: inherit;">因此，请确保在这些系统上部署来自MySQL的共享库的软件包。</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-repo-setup" title="添加MySQL Yum存储库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加MySQL Yum存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并按照使用</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#yum-install-components" title="用Yum安装额外的MySQL产品和组件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yum安装其他MySQL产品和组件中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出的说明安装最新的共享库</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-apt-repo"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.4使用MySQL APT存储库升级MySQL</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180787920"></a><a class="indexterm" name="idm140528180786880"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Debian和Ubuntu平台上，您可以使用MySQL APT存储库对MySQL及其组件进行就地升级。</font><font style="vertical-align: inherit;">见
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-upgrading" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与MySQL APT库升级MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个快速指南使用MySQL APT库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-direct-rpms"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.1.5使用直接下载的RPM软件包升级MySQL</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180781872"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最好使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#updating-yum-repo" title="2.11.1.3使用MySQL Yum存储库升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Yum存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL SLES Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在基于RPM的平台上升级MySQL。</font><font style="vertical-align: inherit;">但是，如果您必须使用从</font></font><a class="ulink" href="http://dev.mysql.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL开发人员专区</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接下载的RPM软件包升级MySQL </font><font style="vertical-align: inherit;">（请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#linux-installation-rpm" title="2.5.5在Linux上安装MySQL使用Oracle的RPM软件包"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.5节“使用Oracle的RPM软件包在Linux上安装MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取有关软件包的信息），请转到包含所有下载的软件包（并且最好没有其他具有相似名称的RPM软件包），并发出以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum install mysql-community- {server，client，common，libs}  -  *
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更换</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        用于SLES系统，并与</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNF</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用了DNF的系统。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        虽然它是非常优选的是使用像高级别软件包管理工具</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">荫</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装的软件包，谁优选的直接用户</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的转速</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        命令可以替换</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百胜安装</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用命令</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转速-Uvh</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令; </font><font style="vertical-align: inherit;">但是，</font><font style="vertical-align: inherit;">由于安装过程可能会遇到潜在的依赖性问题，因此</font><font style="vertical-align: inherit;">使用
         </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm -Uvh</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替使安装过程更容易失败。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于使用RPM软件包的升级安装，如果升级安装开始时运行，MySQL服务器将在安装结束时自动重新启动。</font><font style="vertical-align: inherit;">如果升级安装开始时服务器未运行，则必须在升级安装完成后自行重新启动服务器; </font><font style="vertical-align: inherit;">例如，使用以下命令执行此操作：

</font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务mysqld启动
</font></font></pre><p>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一旦服务器重新启动，运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        检查并可能解决旧数据和升级软件之间的任何不兼容问题。
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还执行其他功能; </font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;">第4.4.7节“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;">mysql_upgrade</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><font style="vertical-align: inherit;"> - 检查并升级MySQL表”</font></a><font style="vertical-align: inherit;">。

</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            由于RPM软件包之间的依赖关系，所有安装的软件包必须具有相同的版本。</font><font style="vertical-align: inherit;">因此，请始终更新所有为MySQL安装的软件包。</font><font style="vertical-align: inherit;">例如，不要在不升级客户端，服务器和客户端库的公共文件等情况下更新服务器。
</font></font></p>
</div>
<p>
      </p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从旧版RPM软件包安装迁移和升级。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          一些较早版本的MySQL服务器RPM软件包具有MySQL- *形式的名称（例如，MySQL-server- *和MySQL-client- *）。</font><font style="vertical-align: inherit;">当使用标准软件包管理工具（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）进行安装时，</font><font style="vertical-align: inherit;">最新版本的RPM可以</font><font style="vertical-align: inherit;">无缝地升级这些较旧的安装，从而无需在安装新软件包之前卸载这些旧软件包。</font><font style="vertical-align: inherit;">以下是旧版和当前RPM软件包之间的一些行为差异：

</font></font></p>
<div class="table">
<a name="idm140528180758480"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表2.15用于安装MySQL的先前和当前RPM软件包之间的差异</font></font></b></p>
<div class="table-contents">
<table frame="all" summary="The differences between the previous and current RPM Packages for installing MySQL."><colgroup><col width="40%"><col width="30%"><col width="30%"></colgroup><thead><tr>
                <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font></th>
                <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先前软件包的行为</font></font></th>
                <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前包的行为</font></font></th>
              </tr></thead><tbody><tr>
                <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务在安装完成后开始</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否，除非它是升级安装，并且在升级开始时服务器正在运行。</font></font></td>
              </tr><tr>
                <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务名称</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的</font></font></td>
                <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    对于RHEL，Oracle Linux，CentOS和Fedora：
                     </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a>
                  </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    对于SLES：</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a>
                  </p></td>
              </tr><tr>
                <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误日志文件</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
                  </font></font><code class="filename">/var/lib/mysql/<em class="replaceable"><code>hostname</code></em>.err</code></td>
                <td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    对于RHEL，Oracle Linux，CentOS和Fedora：at
                    </font></font><code class="filename">/var/log/mysqld.log</code>
                  </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    对于SLES：at
                    </font></font><code class="filename">/var/log/mysql/mysqld.log</code>
                  </p></td>
              </tr><tr>
                <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随</font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件一起提供</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
              </tr><tr>
                <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multilib支持</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr></tbody></table>
</div>

</div>
<p><br class="table-break">

</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用较早的软件包安装以前版本的MySQL可能会创建一个名为的配置文件
               </font></font><code class="filename">/usr/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">强烈建议您检查文件的内容并将所需的设置内部迁移到文件
               </font></font><code class="filename">/etc/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中，然后删除
               </font></font><code class="filename">/usr/my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p>
        </p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级到MySQL企业服务器。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从社区版本升级到商业版本的MySQL需要先卸载社区版本，然后再安装商业版本。</font><font style="vertical-align: inherit;">在这种情况下，升级后必须手动重新启动服务器。
        </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与操作系统本地MySQL软件包的互操作性。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          许多Linux发行版都将MySQL作为操作系统的集成部分。</font><font style="vertical-align: inherit;">当使用标准软件包管理工具（</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yum</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dnf</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zypper</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）进行</font><font style="vertical-align: inherit;">安装时，Oracle的最新版本</font><font style="vertical-align: inherit;">将无缝升级并替换操作系统附带的MySQL版本，软件包管理器将自动替换系统兼容性软件包如
           </font></font><code class="filename">mysql-community-libs-compat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关的新版本。
        </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从非本地MySQL包升级。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您已经使用第三方软件包而不是从您的Linux发行版本地软件存储库（例如，从供应商直接下载的软件包）安装MySQL，则需要先卸载所有这些软件包，然后才能使用Oracle软件包进行升级。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="downgrading"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.2降级MySQL</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.2.1影响从MySQL降级的更改5.7</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528180714592"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何降级到较旧的MySQL版本。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-methods" title="降级方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级方法</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-paths" title="降级路径"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级路径</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你开始之前</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地降级</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-logical" title="逻辑降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑降级</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-troubleshooting" title="降级故障排除"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级故障排除</font></font></a>
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在以下讨论中，必须使用具有管理权限的MySQL帐户运行的MySQL </font><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">包括
         </font><font style="vertical-align: inherit;">在命令行上以指定MySQL </font><font style="vertical-align: inherit;">用户。</font><font style="vertical-align: inherit;">需要密码的命令</font><font style="vertical-align: inherit;">也包含一个
         </font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">由于</font><font style="vertical-align: inherit;">没有选项值，因此这些命令会提示输入密码。</font><font style="vertical-align: inherit;">出现提示时键入密码，然后按Enter键。
      </font></font><code class="option">-u <code class="literal">root</code></code><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font><code class="literal">root</code><font style="vertical-align: inherit;"></font><code class="option">-p</code><font style="vertical-align: inherit;"></font><code class="option">-p</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行客户端</font><font style="vertical-align: inherit;">执行SQL语句
         </font><font style="vertical-align: inherit;">（连接
         </font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确保您具有必要的权限）。
</font></font></p>
</div>
<h4><a name="downgrade-methods"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级方法</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      支持的降级方法包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地降级</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：涉及关闭新的MySQL版本，用旧版本替换新的MySQL二进制文件或软件包，并在现有的数据目录上重新启动旧的MySQL版本。</font><font style="vertical-align: inherit;">相同版本系列中的GA版本之间的降级支持就地降级。</font><font style="vertical-align: inherit;">例如，就地降级支持从5.7.10降级到5.7.9。
        </font></font></p></li><li class="listitem"><p>
          <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑降级</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：涉及使用
          </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从新的MySQL版本转储所有表，然后将转储文件加载到旧的MySQL版本中。</font><font style="vertical-align: inherit;">逻辑降级支持在同一发行版系列中的GA版本之间进行降级，以及在发布级别之间进行降级。</font><font style="vertical-align: inherit;">例如，逻辑降级支持从5.7.10降级到5.7.9，并将降级从5.7降级到5.6。
</font></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL APT，SLES和Yum存储库安装不支持就地降级。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关过程，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-logical" title="逻辑降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="downgrade-paths"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级路径</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          仅在通用可用性（GA）版本之间支持降级。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑降级</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          方法</font><font style="vertical-align: inherit;">支持从MySQL 5.7降级到5.6 </font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          不支持跳过版本的降级。</font><font style="vertical-align: inherit;">例如，不支持直接从MySQL 5.7降级到5.5。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          支持发布系列中的降级。</font><font style="vertical-align: inherit;">例如，从MySQL 5.7降级。</font></font><em class="replaceable"><code>z</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到5.7。</font></font><em class="replaceable"><code>y</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被支持。</font><font style="vertical-align: inherit;">跳过发布也支持。</font><font style="vertical-align: inherit;">例如，从MySQL 5.7降级。</font></font><em class="replaceable"><code>z</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到5.7。</font></font><em class="replaceable"><code>x</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被支持。
</font></font></p></li></ul>
</div>
<h4><a name="downgrade-before-you-begin"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你开始之前</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在降级之前，建议采取以下步骤：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          查看</font><font style="vertical-align: inherit;">您要降级的MySQL版本</font><font style="vertical-align: inherit;">的
           </font></font><a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以确保没有您真正需要的功能或修复程序。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          复习</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.2.1节“影响从MySQL 5.7降级的更改”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本节介绍在降级之前或之后可能需要采取操作的更改。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以下各节中描述的降级过程假定您正在使用较新的MySQL版本创建或修改的数据文件进行降级。</font><font style="vertical-align: inherit;">但是，如果在升级后未修改数据，</font><font style="vertical-align: inherit;">则建议</font><font style="vertical-align: inherit;">使用</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级到新的MySQL版本</font><span class="emphasis"><em><font style="vertical-align: inherit;">之前</font></em></span><font style="vertical-align: inherit;">使用备份进行降级</font><font style="vertical-align: inherit;">。</font><span class="emphasis"><em><font style="vertical-align: inherit;">在</font></em></span><font style="vertical-align: inherit;">升级到新的MySQL版本</font><span class="emphasis"><em><font style="vertical-align: inherit;">之前</font></em></span><font style="vertical-align: inherit;">使用备份进行降级时</font><font style="vertical-align: inherit;">，</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.2.1节“降级影响从MySQL 5.7降级”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述的许多更改在
             </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;">降级</font></a><font style="vertical-align: inherit;">之前或之后需要采取操作时都不适用
             </font><font style="vertical-align: inherit;">。
</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"></font></em></span><font style="vertical-align: inherit;"></font></p>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在降级之前，请始终备份当前的数据库和日志文件。</font><font style="vertical-align: inherit;">备份应该包含
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库，其中包含MySQL系统表。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/backup-and-recovery.html#backup-methods" title="7.2数据库备份方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第7.2节“数据库备份方法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用新功能，新配置选项或以前版本不支持的新配置选项值可能会导致降级错误或失败。</font><font style="vertical-align: inherit;">在降级之前，建议您反转使用新功能所导致的更改，并删除您要降级的版本不支持的配置设置。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您使用XA事务</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
          RECOVER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在降级之前</font><font style="vertical-align: inherit;">运行
           </font><font style="vertical-align: inherit;">以检查未提交的XA事务。</font><font style="vertical-align: inherit;">如果返回结果，则通过发出</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
          COMMIT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#xa-statements" title="13.3.7.1 XA事务SQL语法"><code class="literal">XA
          ROLLBACK</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">来提交或回滚XA事务
           </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<h4><a name="downgrade-procedure-inplace"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就地降级</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      相同版本系列中的GA版本之间的降级支持就地降级。</font><font style="vertical-align: inherit;">在继续
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前，请阅读开始之前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于某些Linux平台，从RPM或Debian软件包安装的MySQL包括用于管理MySQL服务器启动和关闭的systemd支持。</font><font style="vertical-align: inherit;">在这些平台上，
         </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，请使用systemd进行服务器启动和关闭，而不是使用以下说明中使用的方法。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要执行原地降级，请执行以下操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          查看</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.2.1节“影响从MySQL 5.7降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的更改”中所述的更改
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1 Changes Affecting Downgrades from MySQL 5.7"><font style="vertical-align: inherit;">，</font></a><font style="vertical-align: inherit;">以了解在降级之前要执行的步骤。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过设置</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为将
           </font><font style="vertical-align: inherit;">MySQL配置为执行缓慢关闭
           </font></font><code class="literal">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql -u root -p --execute =“SET GLOBAL innodb_fast_shutdown = 0”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过缓慢关闭，</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在关闭之前执行全面清除和更改缓冲区合并，从而确保数据文件在发行版之间的文件格式差异情况下完全准备好。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          关闭较新的MySQL服务器。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          缓慢关闭后，</font><font style="vertical-align: inherit;">从</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">删除</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          重做日志文件（</font></font><code class="filename">ib_logfile*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件），</font></font><code class="filename">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以避免与在发行版之间发生的重做日志文件格式更改相关的降级问题。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rm ib_logfile *
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过用较旧的二进制文件或软件包替换旧版本的二进制文件或软件包来降级MySQL二进制文件或软件包。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用现有的数据目录启动旧的（降级的）MySQL服务器。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/existing-datadir</code></em>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade -u root -p
</font></font></pre><p>
          <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查所有数据库中的所有表与当前版本的MySQL不兼容，并在发现问题时尝试修复表。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          关闭并重新启动MySQL服务器以确保对系统表所做的任何更改都会生效。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/existing-datadir</code></em>
</pre></li></ol>
</div>
<h4><a name="downgrade-procedure-logical"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑降级</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在同一发行版系列中的发行版之间降级并降级到以前的发行版级别时，支持逻辑降级。</font><font style="vertical-align: inherit;">只支持通用可用性（GA）版本之间的降级。</font><font style="vertical-align: inherit;">在继续
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-before-you-begin" title="在你开始之前"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前，请阅读开始之前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于某些Linux平台，从RPM或Debian软件包安装的MySQL包括用于管理MySQL服务器启动和关闭的systemd支持。</font><font style="vertical-align: inherit;">在这些平台上，
         </font><font style="vertical-align: inherit;">未安装</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，请使用systemd进行服务器启动和关闭，而不是使用以下说明中使用的方法。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#using-systemd" title="2.5.10使用systemd管理MySQL服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.5.10节“使用systemd管理MySQL服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于MySQL APT，SLES和Yum存储库安装，仅支持降级到以前的版本级别。</font><font style="vertical-align: inherit;">如果指令要求初始化较旧的实例，请使用软件包管理实用程序删除MySQL 5.7软件包并安装MySQL 5.6软件包。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要执行逻辑降级：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          查看</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.2.1节“影响从MySQL 5.7降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的更改”中所述的更改
           </font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrading-to-previous-series" title="2.11.2.1影响从MySQL降级的更改5.7"><font style="vertical-align: inherit;">，</font></a><font style="vertical-align: inherit;">以了解在降级之前要执行的步骤。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          转储所有数据库。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump -u root -p</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  --add-drop-table  - 例程 - 事件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  --all-databases --force&gt; data-for-downgrade.sql</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          关闭较新的MySQL服务器。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用新的数据目录初始化较旧的MySQL实例。</font><font style="vertical-align: inherit;">例如，要初始化MySQL 5.6实例，请使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts / mysql_install_db --user = mysql
</font></font></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从MySQL 5.7.6开始已弃用，因为它的功能已被集成到</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mysqld中</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要初始化一个MySQL 5.7的实例，使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize --user = mysql
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用新的数据目录启动旧的MySQL服务器。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/new-datadir</code></em>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将转储文件加载到较旧的MySQL服务器中。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql -u root -p --force &lt;data-for-upgrade.sql
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          运行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade -u root -p
</font></font></pre><p>
          <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查所有数据库中的所有表与当前版本的MySQL不兼容，并在发现问题时尝试修复表。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          关闭并重新启动MySQL服务器以确保对系统表所做的任何更改都会生效。</font><font style="vertical-align: inherit;">例如：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -u root -p关闭</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld_safe --user = mysql --datadir =</font></font><em class="replaceable"><code>/path/to/new-datadir</code></em>
</pre></li></ol>
</div>
<h4><a name="downgrade-troubleshooting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">降级故障排除</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您从一个发行版系列降级到另一个发行版系列，表格存储格式中可能存在不兼容问题。</font><font style="vertical-align: inherit;">在这种情况下，使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在降级之前转储您的表。</font><font style="vertical-align: inherit;">降级后，使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlimport" title="4.5.5 mysqlimport  - 数据导入程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlimport</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新</font><font style="vertical-align: inherit;">加载转储文件
       </font><font style="vertical-align: inherit;">以重新创建表格。</font><font style="vertical-align: inherit;">有关示例，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#copying-databases" title="2.11.4将MySQL数据库复制到另一台机器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.4节“将MySQL数据库复制到另一台机器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      降级时，向下不兼容的表格格式的典型症状会发生变化，即您无法打开表格。</font><font style="vertical-align: inherit;">在这种情况下，请使用以下步骤：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          停止您要降级的旧版MySQL服务器。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          重新启动您要降级的较新的MySQL服务器。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建转储文件，转储</font><font style="vertical-align: inherit;">旧服务器无法访问的所有表</font><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          停止较新的MySQL服务器并重新启动较旧的服务器。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将转储文件重新加载到旧服务器中。</font><font style="vertical-align: inherit;">你的表格应该可以访问。
</font></font></p></li></ol>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="downgrading-to-previous-series"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.2.1影响从MySQL降级的更改5.7</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在从MySQL 5.7降级之前，请查看本节中描述的更改。</font><font style="vertical-align: inherit;">降级之前或之后，有些更改可能需要采取措施。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-system-table-changes" title="系统表更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-innodb-changes" title="InnoDB的变化"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB的变化</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-logging-changes" title="记录更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录更改</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-sql-changes" title="SQL更改"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL更改</font></font></a></p></li></ul>
</div>
<h5><a name="downgrade-system-table-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改</font></font></h5>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在MySQL 5.7.13中，存储user @ host字符串值的系统表列增加了长度。</font><font style="vertical-align: inherit;">在降级到以前的版本之前，请确保没有超出前面77个字符长度限制的user @ host值，并执行以下</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表变更：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.proc MODIFY definer char（77）CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.event MODIFY definer char（77）CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.tables_priv MODIFY Grantor char（77）COLLATE utf8_bin NOT NULL DEFAULT'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.procs_priv MODIFY Grantor char（77）COLLATE utf8_bin NOT NULL DEFAULT'';</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在MySQL 5.7.8中，MySQL用户名的最大长度从16个字符增加到32个字符。</font><font style="vertical-align: inherit;">在降级到先前发行版之前，请确保没有长度超过16个字符的用户名，并执行以下</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.tables_priv MODIFY用户char（16）NOT NULL默认'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.columns_priv MODIFY用户char（16）NOT NULL默认'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.user MODIFY用户char（16）NOT NULL默认'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.db MODIFY用户char（16）NOT NULL默认'';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.procs_priv MODIFY用户char（16）二进制DEFAULT''NOT NULL;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">的</font></font><code class="literal">Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
             </font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.7.6中被删除。</font><font style="vertical-align: inherit;">所有凭证都存储在</font></font><code class="literal">authentication_string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中，包括以前存储在</font></font><code class="literal">Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            列</font><font style="vertical-align: inherit;">中的凭证
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要使</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表与以前的版本兼容，请在降级之前执行以下更改：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.user ADD密码char（41）字符集latin1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  collat​​e latin1_bin NOT NULL默认''AFTER用户;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPDATE mysql.user SET password = authentication_string WHERE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  LENGTH（authentication_string）= 41 AND plugin ='mysql_native_password';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPDATE mysql.user SET authentication_string =''WHERE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  LENGTH（authentication_string）= 41 AND plugin ='mysql_native_password';</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">help_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">time_zone*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表更改
             </font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.7.5。</font><font style="vertical-align: inherit;">在降级到以前的版本之前，</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            通过运行以下语句</font><font style="vertical-align: inherit;">将每个受影响的表更改回来</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.help_category ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.help_keyword ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.help_relation ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.help_topic ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.time_zone ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.time_zone_leap_second ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.time_zone_name ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.time_zone_transition ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.time_zone_transition_type ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">servers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            系统表更改</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
             </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.7.6。</font><font style="vertical-align: inherit;">在降级到以前的版本之前，</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过运行以下语句</font><font style="vertical-align: inherit;">将每个受影响的表更改回来
             </font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.plugin ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE mysql.servers ENGINE ='MyISAM'STATS_PERSISTENT = DEFAULT;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL 5.7中表中</font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">
            的定义</font></font><code class="literal">mysql.user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同。</font><font style="vertical-align: inherit;">在降级到版本5.6.23及更高版本的MySQL 5.6服务器之前，</font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用以下语句</font><font style="vertical-align: inherit;">更改</font><font style="vertical-align: inherit;">列定义：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.user MODIFY插件CHAR（64）COLLATE utf8_bin</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  DEFAULT'mysql_native_password';</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在降级到MySQL 5.6.22或更低版本的服务器之前，请</font></font><code class="literal">plugin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下语句</font><font style="vertical-align: inherit;">更改</font><font style="vertical-align: inherit;">列定义：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE mysql.user MODIFY插件CHAR（64）COLLATE utf8_bin DEFAULT'';
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.7开始，</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据目录安装过程中默认安装模式。</font><font style="vertical-align: inherit;">在降级到以前的版本之前，建议您删除该</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DROP DATABASE sys;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果要降级到包含</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font><font style="vertical-align: inherit;">的发行版
             </font><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade会</font></font></strong></span></a><font style="vertical-align: inherit;"></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以兼容的格式</font><font style="vertical-align: inherit;">重新创建
             </font><font style="vertical-align: inherit;">模式。</font><font style="vertical-align: inherit;">该
             </font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式不包含在MySQL 5.6中。
</font></font></p></li></ul>
</div>
<h5><a name="downgrade-innodb-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB的变化</font></font></h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.5开始，</font></font><code class="literal">FIL_PAGE_FLUSH_LSN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            写入每个</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统表空间文件</font><font style="vertical-align: inherit;">的第一页</font><font style="vertical-align: inherit;">并
             </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">撤销表空间文件</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">字段
             </font><font style="vertical-align: inherit;">仅写入</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            系统表空间</font><font style="vertical-align: inherit;">的第一个文件</font><font style="vertical-align: inherit;">（页码0：0）。</font><font style="vertical-align: inherit;">因此，如果您有多文件系统表空间并决定从MySQL 5.7降级到MySQL 5.6，则可能会在MySQL 5.6启动时遇到无效消息，指出
             </font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日志序列号
             </font></font><em class="replaceable"><code>x</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><em class="replaceable"><code>y</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ibdata文件与日志序列不匹配数字</font></font><em class="replaceable"><code>y</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在ib_logfiles中</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果遇到此消息，请重新启动MySQL 5.6。</font><font style="vertical-align: inherit;">无效的消息不应再出现。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为了简化</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃恢复期间的表空间发现，MySQL 5.7.5中引入了新的重做日志记录类型。</font><font style="vertical-align: inherit;">此增强功能会更改重做日志格式。</font><font style="vertical-align: inherit;">在执行MySQL 5.7.5或更高版本的就地降级之前，使用</font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置</font><font style="vertical-align: inherit;">执行干净关闭
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
             </font><font style="vertical-align: inherit;">是</font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;">In-Place降级</font></a><font style="vertical-align: inherit;">的推荐步骤
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">0</code><font style="vertical-align: inherit;"></font><code class="literal">1</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL 5.7.8和5.7.9撤消日志可能包含有关空间列的信息不足（错误＃21508582）。</font><font style="vertical-align: inherit;">在执行从MySQL 5.7.10或更高版本到MySQL 5.7.9或更低版本的就地降级之前，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除撤消日志来</font><font style="vertical-align: inherit;">执行缓慢关闭
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
             </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In-Place降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的推荐步骤
             </font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL 5.7.8撤消日志可能包含有关虚拟列和虚拟列索引的不足信息（错误＃21869656）。</font><font style="vertical-align: inherit;">在执行从MySQL 5.7.9或更高版本到MySQL 5.7.8或更低版本的就地降级之前，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除撤消日志来</font><font style="vertical-align: inherit;">执行缓慢关闭
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用缓慢关机
             </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In-Place降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的推荐步骤
             </font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从MySQL 5.7.9开始，第一个重做日志文件（</font></font><code class="filename">ib_logfile0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的重做日志头</font><font style="vertical-align: inherit;">包含一个格式版本标识符和一个文本字符串，用于标识创建重做日志文件的MySQL版本。</font><font style="vertical-align: inherit;">此增强功能会更改重做日志格式。</font><font style="vertical-align: inherit;">为了防止在MySQL 5.7.9或更高版本中创建的重做日志文件启动旧版本的MySQL，重做日志检查点页面的校验和已更改。</font><font style="vertical-align: inherit;">因此，</font></font><code class="filename">ib_logfile*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在执行就地降级之前</font><font style="vertical-align: inherit;">，您必须执行MySQL的缓慢关闭（使用innodb_fast_shutdown = 0）并删除重做日志文件（</font><font style="vertical-align: inherit;">文件）。</font><font style="vertical-align: inherit;">使用缓慢关机
            </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且删除重做日志文件是</font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#downgrade-procedure-inplace" title="就地降级"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In-Place降级</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的推荐步骤
             </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<h5><a name="downgrade-logging-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录更改</font></font></h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            支持</font></font><code class="literal">syslog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.7.5及更高版本中</font><font style="vertical-align: inherit;">发送服务器错误日志
             </font><font style="vertical-align: inherit;">与旧版本不同。</font><font style="vertical-align: inherit;">如果您使用</font></font><code class="literal">syslog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并降级到5.7.5以前的版本，则必须停止使用相关的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量，并改用相应的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令选项。</font><font style="vertical-align: inherit;">假设您
             </font></font><code class="literal">syslog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过在</font></font><code class="literal">[mysqld]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件组中</font><font style="vertical-align: inherit;">设置这些系统变量来使用</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_syslog = ON</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_syslog_tag = mytag</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要降级，请删除这些设置并在</font></font><code class="literal">[mysqld_safe]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件组中</font><font style="vertical-align: inherit;">添加选项设置</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[mysqld_safe的]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
系统日志</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
系统记录标签= mytag</font></font><font></font>
</pre><p>
            <code class="literal">syslog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关的系统变量没有相应的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，降级后无法使用。
</font></font></p></li></ul>
</div>
<h5><a name="downgrade-sql-changes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL更改</font></font></h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            触发器可以触发事件（的不同组合触发</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#delete" title="13.2.2 DELETE语法"><code class="literal">DELETE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和动作时间（</font></font><code class="literal">BEFORE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">AFTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），然而MySQL 5.7.2之前，不能有具有相同的触发事件和动作时间多个触发器。</font><font style="vertical-align: inherit;">MySQL 5.7.2解除了这个限制，允许多个触发器。</font><font style="vertical-align: inherit;">这一变化对降级有影响。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您将支持多个触发器的服务器降级为旧版本，则降级会产生以下效果：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于每个具有触发器的表，所有触发器定义都保留在</font></font><code class="filename">.TRG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">文件中。</font><font style="vertical-align: inherit;">但是，如果有多个具有相同触发事件和操作时间的触发器，则当发生触发器事件时，服务器仅执行其中的一个触发器。</font><font style="vertical-align: inherit;">有关</font></font><code class="literal">.TRG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的</font><font style="vertical-align: inherit;">信息</font><font style="vertical-align: inherit;">，请参阅
                 </font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/sp-storage.html#sp-storage-trigger" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格触发器存储</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果在降级后添加或删除表的触发器，则服务器会重写表的</font></font><code class="filename">.TRG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">重写的文件在触发事件和动作时间的组合中仅保留一个触发器; </font><font style="vertical-align: inherit;">其他人都失去了。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为了避免这些问题，请在降级之前修改触发器。</font><font style="vertical-align: inherit;">对于每个组合触发事件和动作时间都有多个触发器的表，请按如下方式将每个这样的触发器组转换为一个触发器：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于每个触发器，创建一个包含触发器中所有代码的存储例程。</font><font style="vertical-align: inherit;">值使用访问
                 </font></font><code class="literal">NEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">OLD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可传递到日常使用的参数。</font><font style="vertical-align: inherit;">如果触发器需要代码中的单个结果值，则可以将代码放入存储函数中并让该函数返回值。</font><font style="vertical-align: inherit;">如果触发器需要代码中的多个结果值，则可以将代码放入存储过程中，并使用</font></font><code class="literal">OUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">返回值
                 </font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                删除表格的所有触发器。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                为调用刚刚创建的存储例程的表创建一个新的触发器。</font><font style="vertical-align: inherit;">因此该触发器的效果与其替换的多重触发器相同。
</font></font></p></li></ol>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="rebuilding-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.3重建或修复表或索引</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180473952"></a><a class="indexterm" name="idm140528180472496"></a><a class="indexterm" name="idm140528180471008"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何重建或修复表或索引，这可能是必需的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          更改MySQL如何处理数据类型或字符集。</font><font style="vertical-align: inherit;">例如，排序中的错误可能已得到纠正，因此需要重建表以更新使用排序规则的字符列的索引。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所需的表修理或升级的报道
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlcheck" title="4.5.3 mysqlcheck  - 一个表维护程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlcheck的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      重建表的方法包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#rebuilding-tables-dump-reload" title="转储和重新加载方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转储和重新加载方法</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#rebuilding-tables-alter-table" title="ALTER TABLE方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE方法</font></font></a></p></li><li class="listitem"><p><a class="xref" href="/mysql-5.7-google-zh/installing.html#rebuilding-tables-repair-table" title="修理表方法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理表方法</font></font></a></p></li></ul>
</div>

<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="rebuilding-tables-dump-reload"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转储和重新加载方法</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您正在重建表，因为不同版本的MySQL在二进制（就地）升级或降级后无法处理它们，则必须使用dump-and-reload方法。</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级或降级</font><span class="emphasis"><em><font style="vertical-align: inherit;">之前</font></em></span><font style="vertical-align: inherit;">使用原始版本的MySQL </font><font style="vertical-align: inherit;">转储表</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级或降级</font><span class="emphasis"><em><font style="vertical-align: inherit;">后</font></em></span><font style="vertical-align: inherit;">重新加载表格
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果仅将重建表的转储重装方法用于重建索引，则可以在升级或降级之前或之后执行转储。</font><font style="vertical-align: inherit;">之后必须重新加载。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您需要重建</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表，因为</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作表明需要升级表，请使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建转储文件并使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新加载文件。</font><font style="vertical-align: inherit;">如果
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作表明存在损坏或导致</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        失败，请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#forcing-innodb-recovery" title="14.21.2强制InnoDB恢复"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.21.2节“强制InnoDB恢复”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取有关使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_force_recovery"><code class="literal">innodb_force_recovery</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项重新启动的信息</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要了解</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能遇到</font><font style="vertical-align: inherit;">的问题的类型</font><font style="vertical-align: inherit;">，请参见</font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><font style="vertical-align: inherit;">第13.7.2.2节“CHECK TABLE语法”中</font></a><font style="vertical-align: inherit;">的</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注释
         </font><font style="vertical-align: inherit;">。
      </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要通过转储并重新加载来重建表，请使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建转储文件并使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新加载文件：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t1&gt; dump.sql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;dump.sql
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要重建单个数据库中的所有表，请指定没有任何下表名称的数据库名称：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; dump.sql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;dump.sql
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要重建所有数据库中的所有表，请使用以下
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump --all-databases&gt; dump.sql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql &lt;dump.sql</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="rebuilding-tables-alter-table"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE方法</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        重建一个表</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER
        TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”的</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变化; </font><font style="vertical-align: inherit;">也就是说</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表以使用其已有的存储引擎。</font><font style="vertical-align: inherit;">例如，如果</font></font><code class="literal">t1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表，请使用以下语句：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t1 ENGINE = InnoDB;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您不确定要在</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句中</font><font style="vertical-align: inherit;">指定哪个存储引擎
         </font><font style="vertical-align: inherit;">，请使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-table" title="13.7.5.10 SHOW CREATE TABLE语法"><code class="literal">SHOW CREATE TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来显示表定义。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="rebuilding-tables-repair-table"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理表方法</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法只适用于</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">ARCHIVE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">CSV</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果表检查操作表明存在腐败或需要升级。</font><font style="vertical-align: inherit;">例如，要修复
         </font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格，请使用以下语句：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理表t1;
</font></font></pre><p>
        <a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlcheck" title="4.5.3 mysqlcheck  - 一个表维护程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlcheck --repair</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了对</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE语法"><code class="literal">REPAIR TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        语句的</font><font style="vertical-align: inherit;">命令行访问</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这可以是修复表的更方便的方法，因为您可以使用
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqlcheck_databases"><code class="option">--databases</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
        </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysqlcheck_all-databases"><code class="option">--all-databases</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项分别修复特定数据库或所有数据库中的所有表：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlcheck  - 修复</font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlcheck --repair --all-databases</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="copying-databases"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.11.4将MySQL数据库复制到另一台机器</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180406192"></a><a class="indexterm" name="idm140528180404736"></a><a class="indexterm" name="idm140528180403664"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在需要在不同体系结构之间传输数据库的情况下，可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建包含SQL语句的文件。</font><font style="vertical-align: inherit;">然后，您可以将文件传输到其他机器，并将其作为输入提供给
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump --help</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看可用的选项。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在两台机器之间移动数据库的最简单（尽管不是最快的）方法是在数据库所在的机器上运行以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin -h' </font></font><em class="replaceable"><code>other_hostname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'创建</font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqldump </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">mysql -h' </font></font><em class="replaceable"><code>other_hostname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'</font></font><em class="replaceable"><code>db_name</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果要通过慢速网络从远程计算机复制数据库，可以使用以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin创建</font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqldump -h' </font></font><em class="replaceable"><code>other_hostname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'--compress </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">MySQL的</font></font><em class="replaceable"><code>db_name</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您还可以将转储存储在文件中，将文件传输到目标机器，然后将文件加载到数据库中。</font><font style="vertical-align: inherit;">例如，您可以将数据库转储到源计算机上的压缩文件，如下所示：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump --quick </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">gzip&gt; </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.gz
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      将包含数据库内容的文件传输到目标机器，并在其中运行以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin创建</font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gunzip &lt; </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.gz | </font><font style="vertical-align: inherit;">MySQL的</font></font><em class="replaceable"><code>db_name</code></em>
</pre><a class="indexterm" name="idm140528180385120"></a><a class="indexterm" name="idm140528180384048"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      你也可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlimport" title="4.5.5 mysqlimport  - 数据导入程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlimport</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来传输数据库。</font><font style="vertical-align: inherit;">对于大型表格，这比使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快得多
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在以下命令中，
       </font></font><em class="replaceable"><code>DUMPDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示用于存储</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出的目录的完整路径名
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      首先，为输出文件创建目录并转储数据库：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mkdir </font></font><em class="replaceable"><code>DUMPDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqldump --tab =</font></font><em class="replaceable"><code>DUMPDIR</code></em> <em class="replaceable"><code>db_name</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      然后将</font></font><em class="replaceable"><code>DUMPDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      目录中</font><font style="vertical-align: inherit;">的文件传输</font><font style="vertical-align: inherit;">到目标机器上的相应目录，并将文件加载到MySQL中：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin创建</font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">           ＃创建数据库</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cat </font></font><em class="replaceable"><code>DUMPDIR</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/*.sql | </font><font style="vertical-align: inherit;">mysql </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   ＃在数据库中创建表</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlimport </font><font style="vertical-align: inherit;">/*.txt＃将数据加载到表中
</font></font><em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>DUMPDIR</code></em><font style="vertical-align: inherit;"></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      不要忘记复制</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库，因为这是存储授权表的地方。</font><font style="vertical-align: inherit;">您可能必须</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在新计算机上</font><font style="vertical-align: inherit;">以MySQL </font><font style="vertical-align: inherit;">用户</font><font style="vertical-align: inherit;">身份运行命令，</font><font style="vertical-align: inherit;">直到您拥有</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新计算机上</font><font style="vertical-align: inherit;">导入</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">后</font><font style="vertical-align: inherit;">，执行</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin flush-privileges，</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以便服务器重新加载授权表信息。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以复制</font></font><code class="filename">.frm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="filename">.MYI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="filename">.MYD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持相同浮点格式的不同架构之间的表。</font><font style="vertical-align: inherit;">（MySQL负责处理任何字节交换问题。）请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/storage-engines.html#myisam-storage-engine" title="15.2 MyISAM存储引擎"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第15.2节“MyISAM存储引擎”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="perl-support"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12 Perl安装说明</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#perl-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.1在Unix上安装Perl</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#activestate-perl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.2在Windows上安装ActiveState Perl</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/installing.html#perl-support-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.3使用Perl DBI / DBD接口的问题</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528180359024"></a><a class="indexterm" name="idm140528180357536"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Perl </font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块为数据库访问提供了一个通用接口。</font><font style="vertical-align: inherit;">您可以编写一个可以在</font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不改变的情况下与多种不同数据库引擎一起工作</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">脚本 </font><font style="vertical-align: inherit;">要使用</font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您必须安装该
     </font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块，以及针对要访问的每种数据库服务器的数据库驱动程序（DBD）模块。</font><font style="vertical-align: inherit;">对于MySQL，这个驱动程序是</font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      Perl支持不包含在MySQL发行版中。</font><font style="vertical-align: inherit;">您可以从</font></font><a class="ulink" href="http://search.cpan.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://search.cpan.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取Unix </font><font style="vertical-align: inherit;">的必要模块
       </font><font style="vertical-align: inherit;">，或者</font><font style="vertical-align: inherit;">在Windows上</font><font style="vertical-align: inherit;">使用ActiveState </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ppm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序。</font><font style="vertical-align: inherit;">以下各节介绍如何执行此操作。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    的</font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="literal">DBD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口要求Perl 5.6.0，5.6.1和或更高是优选的。</font><font style="vertical-align: inherit;">如果您拥有较旧版本的Perl，则</font><font style="vertical-align: inherit;">DBI </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不起作用</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">你应该使用
     </font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.009或更高。</font><font style="vertical-align: inherit;">虽然早期版本可用，但它们不支持MySQL 5.7的全部功能。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.1在Unix上安装Perl</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL Perl支持要求您安装了MySQL客户端编程支持（库和头文件）。</font><font style="vertical-align: inherit;">大多数安装方法会安装必要的文件。</font><font style="vertical-align: inherit;">如果您从Linux上的RPM文件安装MySQL，请务必安装开发人员RPM。</font><font style="vertical-align: inherit;">客户端程序位于客户端RPM中，但客户端编程支持位于开发者RPM中。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您需要Perl支持的文件可以从</font></font><a class="ulink" href="http://search.cpan.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://search.cpan.org上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的CPAN（Comprehensive Perl Archive Network）获得
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Unix上安装Perl模块的最简单方法是使用
       </font></font><code class="literal">CPAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>perl -MCPAN -e shell</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cpan&gt; </font></font><strong class="userinput"><code>install DBI</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cpan&gt;</font></font><strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备运行大量的测试。</font><font style="vertical-align: inherit;">这些测试尝试使用默认用户名和密码连接到本地MySQL服务器。</font><font style="vertical-align: inherit;">（默认的用户名是在Unix上的登录名，并</font></font><code class="literal">ODBC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows上，默认密码为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有密码。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）如果您无法连接到使用这些值（例如，如果你的账户有密码），测试服务器失败。</font><font style="vertical-align: inherit;">您可以使用
       </font></font><code class="literal">force install DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略失败的测试。
    </font></font></p><p>
      <code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要
       </font></font><code class="literal">Data::Dumper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块。</font><font style="vertical-align: inherit;">它可能被安装; </font><font style="vertical-align: inherit;">如果没有，你应该在安装之前安装它
       </font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      也可以以压缩的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tar</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档文件</font><font style="vertical-align: inherit;">的形式下载模块分发</font><font style="vertical-align: inherit;">并手动构建模块。</font><font style="vertical-align: inherit;">例如，要解包并构建DBI分发，请使用以下过程：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将分发解包到当前目录中：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该命令创建一个名为的目录
           </font><font style="vertical-align: inherit;">。
        </font></font><code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将位置更改为解包分发的顶层目录：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          建立分布并编译一切：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; </font></font><strong class="userinput"><code>perl Makefile.PL</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>make</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt; </font></font><strong class="userinput"><code>make test</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
shell&gt;</font></font><strong class="userinput"><code>make install</code></strong>
</pre></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化妆测试</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令很重要，因为它验证模块正在工作。</font><font style="vertical-align: inherit;">请注意，在</font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font><font style="vertical-align: inherit;">过程中运行该命令</font><font style="vertical-align: inherit;">以练习接口代码时，MySQL服务器必须正在运行或测试失败。
    </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论何时安装新版本的MySQL </font><font style="vertical-align: inherit;">
      ，重建和重新安装</font><font style="vertical-align: inherit;">分发版</font><font style="vertical-align: inherit;">都是一个好主意
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这可确保正确安装最新版本的MySQL客户端库。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您没有在系统目录中安装Perl模块的访问权限，或者您想要安装本地Perl模块，则以下参考可能会有用：</font><a class="ulink" href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;"> :
       </font></font><a class="ulink" href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//learn.perl.org/faq/perlfaq8.html#How- DO-I-保我，自己的模块库，目录-</font></font></a>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="activestate-perl"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.2在Windows上安装ActiveState Perl</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180312672"></a><a class="indexterm" name="idm140528180311216"></a><a class="indexterm" name="idm140528180309728"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在Windows上，您应该执行以下操作以</font></font><code class="literal">DBD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用ActiveState Perl </font><font style="vertical-align: inherit;">安装MySQL
       </font><font style="vertical-align: inherit;">模块：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从</font></font><a class="ulink" href="http://www.activestate.com/Products/ActivePerl/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.activestate.com/Products/ActivePerl/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取ActiveState Perl
           </font><font style="vertical-align: inherit;">
          并进行安装。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          打开一个控制台窗口。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如有必要，请设置</font></font><code class="literal">HTTP_proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量。</font><font style="vertical-align: inherit;">例如，你可以尝试像这样的设置：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启动PPM程序：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\&gt; </font></font><strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您之前没有这样做，请安装
           </font></font><code class="literal">DBI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPM&gt; </font></font><strong class="userinput"><code>install DBI</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果成功，请运行以下命令：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPM&gt; </font></font><strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这个过程应该适用于ActiveState Perl 5.6或更高版本。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果无法使程序正常工作，则应该安装ODBC驱动程序，并通过ODBC连接到MySQL服务器：
    </font></font></p><pre data-lang="perl" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用DBI;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ dbh = DBI-&gt; connect（“DBI：ODBC：$ dsn”，$ user，$ password）||</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  死“当连接到$ dsn时出现错误$ DBI :: errstr \ n”;</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-support-problems"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.12.3使用Perl DBI / DBD接口的问题</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528180289248"></a><a class="indexterm" name="idm140528180287792"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果Perl报告它找不到该
       </font></font><code class="filename">../mysql/mysql.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块，则问题可能是Perl无法找到
       </font></font><code class="filename">libmysqlclient.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共享库。</font><font style="vertical-align: inherit;">您应该能够通过以下方法之一解决此问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          复制</font></font><code class="filename">libmysqlclient.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到其他共享库所在的目录（可能
           </font></font><code class="filename">/usr/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="filename">/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          修改</font></font><code class="option">-L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于编译
           </font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以反映实际位置的选项</font></font><code class="filename">libmysqlclient.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在Linux上，您可以将所在目录的路径名添加
           </font></font><code class="filename">libmysqlclient.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
           </font></font><code class="filename">/etc/ld.so.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。
        </font></font></p></li><li class="listitem"><p>
          <a class="indexterm" name="idm140528180275392"></a>

          <a class="indexterm" name="idm140528180274304"></a>

          <a class="indexterm" name="idm140528180272816"></a>

          <a class="indexterm" name="idm140528180271728"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

          将所在目录的路径名添加
           </font></font><code class="filename">libmysqlclient.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
           </font></font><code class="literal">LD_RUN_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量中。</font><font style="vertical-align: inherit;">有些系统使用</font></font><code class="literal">LD_LIBRARY_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      请注意，</font></font><code class="option">-L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果链接程序找不到其他库，则</font><font style="vertical-align: inherit;">可能还需要修改这些</font><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">例如，如果由于连接器</font></font><code class="literal">libc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处于in </font></font><code class="filename">/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      和链接命令指定而</font><font style="vertical-align: inherit;">无法找到链接器
       </font></font><code class="option">-L/usr/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请将该</font></font><code class="option">-L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">更改</font><font style="vertical-align: inherit;">为</font></font><code class="option">-L/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或添加
       </font></font><code class="option">-L/lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到现有链接命令。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果你从下面的错误
       </font></font><code class="literal">DBD::mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，你可能正在使用
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的gcc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或使用编译的旧的二进制
       </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GCC</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
    </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / bin / perl：无法解析符号'__moddi3'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / perl：无法解析符号'__divdi3'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      添加</font></font><code class="option">-L/usr/lib/gcc-lib/... -lgcc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到链接命令时，</font></font><code class="filename">mysql.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库被建（检查从输出</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化妆</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
       </font></font><code class="filename">mysql.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，当你编译Perl客户端）。</font><font style="vertical-align: inherit;">该</font></font><code class="option">-L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项应指定</font></font><code class="filename">libgcc.a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统上所在</font><font style="vertical-align: inherit;">目录的路径名称</font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这个问题的另一个原因可能是Perl和MySQL都不是用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gcc编译的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这种情况下，您可以通过使用</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gcc</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译来解决不匹配问题</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/introduction.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a></td>
<td width="20%" align="center"><a accesskey="u" href="/mysql-5.7-google-zh/installing.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/tutorial.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1章一般信息</font></font></td>
<td width="20%" align="center"><a accesskey="h" href="/mysql-5.7-google-zh/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></td>
<td width="40%" align="right" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第3章教程</font></font></td>
</tr>
</tbody></table>
</div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./images/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>