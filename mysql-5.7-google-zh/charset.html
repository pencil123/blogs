<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0056)/mysql-5.7-google-zh/charset.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>第10章字符集，排序规则，Unicode</title>
<link rel="stylesheet" href="./images/mvl.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
<link rel="start" href="/mysql-5.7-google-zh/index.html" title="{书名}">
<link rel="up" href="/mysql-5.7-google-zh/charset.html" title="">
<link rel="prev" href="/mysql-5.7-google-zh/language-structure.html" title="第9章语言结构">
<link rel="next" href="/mysql-5.7-google-zh/data-types.html" title="第11章数据类型">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./images/translateelement.css"></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10章字符集，排序规则，Unicode</font></font></th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/language-structure.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a>&nbsp;</td>
<th width="60%" align="center"></th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/data-types.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
</tbody></table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="charset"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10章字符集，排序规则，Unicode</font></font></h1>

</div>

</div>

</div>
<div class="toc">
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></b></p><dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-general"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.1一般字符集和排序规则</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-mysql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2 MySQL中的字符集和排序规则</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-repertoire"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.1字符集汇编</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-metadata"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.2用于元数据的UTF-8</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3指定字符集和排序规则</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.1整理命名约定</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.2服务器字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-database"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.3数据库字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.4表格字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-column"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.5列字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-literal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.6字符串文字字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-national"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.7国家字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-introducer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.8字符集介绍器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.9字符集和校对分配的例子</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-compatibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.10与其他DBMS的兼容性</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-connection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.4连接字符集和排序规则</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-applications"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.5配置应用程序字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-errors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.6错误消息字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-conversion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.7列字符集转换</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8整理问题</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.1在SQL语句中使用COLLATE</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collate-precedence"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.2 COLLATE子句优先级</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-compatibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.3字符集和校对兼容性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-coercibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.4表达式中的排序强制性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-binary-collations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.5二进制归类与_bin归类比较</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-effect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.6整理效果的例子</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.7在INFORMATION_SCHEMA搜索中使用排序规则</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9 Unicode支持</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.1 utf8mb4字符集（4字节UTF-8 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.2 utf8mb3字符集（3字节UTF-8 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.3 utf8字符集（utf8mb3的别名）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-ucs2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.4 ucs2字符集（UCS-2 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.5 utf16字符集（UTF-16 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf16le"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.6 utf16le字符集（UTF-16LE Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.7 utf32字符集（UTF-32 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-conversion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.8转换3字节和4字节的Unicode字符集</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-charsets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10支持的字符集和排序规则</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.1 Unicode字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-we-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.2西欧字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-ce-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.3中欧字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-se-me-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.4南欧和中东字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-baltic-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.5波罗的海字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-cyrillic-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.6西里尔文字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-asian-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7亚洲字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-binary-set"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.8二进制字符集</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#error-message-language"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11设置错误消息语言</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-character-set"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12添加字符集</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#character-arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.1字符定义数组</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#string-collating"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.2复杂字符集的字符串整理支持</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#multibyte-characters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.3复杂字符集的多字节字符支持</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13将排序规则添加到字符集</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-implementations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.1整理实施类型</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-choosing-id"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.2选择整理ID</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-simple-8bit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.3为8位字符集添加简单归类</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-unicode-uca"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4将UCA归类添加到Unicode字符集</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-configuration"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.14字符集配置</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#locale-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.15 MySQL服务器区域设置支持</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528097294160"></a><a class="indexterm" name="idm140528097293120"></a><a class="indexterm" name="idm140528097292048"></a><a class="indexterm" name="idm140528097290976"></a><a class="indexterm" name="idm140528097289904"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL包含字符集支持，使您能够使用各种字符集存储数据，并根据各种排序规则执行比较。</font><font style="vertical-align: inherit;">您可以在服务器，数据库，表和列级别指定字符集。</font><font style="vertical-align: inherit;">MySQL支持使用的字符集的</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
     </font></font><code class="literal">MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本章讨论以下主题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是字符集和排序规则？
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符集赋值的多级缺省系统。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        用于指定字符集和归类的语法。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        受影响的功能和操作。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Unicode支持。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可用的字符集和归类，以及注释。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选择错误消息的语言。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选择日期和月份名称的区域设置。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    字符集问题不仅影响数据存储，还影响客户端程序与MySQL服务器之间的通信。</font><font style="vertical-align: inherit;">如果您希望客户端程序使用与默认不同的字符集与服务器进行通信，则需要指明哪一个。</font><font style="vertical-align: inherit;">例如，要使用</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode字符集，请在连接到服务器后发出以下语句：
  </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES'utf8';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    有关为客户端/服务器通信中的应用程序使用和字符集相关问题配置字符集的更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-applications" title="10.5配置应用程序字符集和校对"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.5节“配置应用程序字符集和校对”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
     </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和校对”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-general"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.1一般字符集和排序规则</font></font></h2>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      甲</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一组符号和编码。</font><font style="vertical-align: inherit;">甲
       </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为在一个字符集的字符进行比较的一组规则。</font><font style="vertical-align: inherit;">让我们用虚构字符集的例子来明确区分。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设我们有四个字母的字母表：
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们给每个字母的数：
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 0，</font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 1，
       </font></font><code class="literal">a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 2，</font></font><code class="literal">b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 3信
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个符号，数字0是
       </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对</font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且所有四个字母和它们的编码的组合是一个
       </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设我们想比较两个字符串值
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最简单的方法是查看编码：0 </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      和1 </font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因为0小于1，我们说
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小于</font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们刚才所做的是将一个排序规则应用于我们的字符集。</font><font style="vertical-align: inherit;">排序规则是一组规则（在这种情况下只有一个规则）：</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较编码。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们把这个最简单的所有可能的归类称为</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      归类。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      但是如果我们想说小写字母和大写字母是相同的呢？</font><font style="vertical-align: inherit;">然后，我们将至少有两个规则：（1）治疗的小写字母</font></font><code class="literal">a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等同于</font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">（2）然后比较编码。</font><font style="vertical-align: inherit;">我们称之为</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不区分大小写的</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      整理。</font><font style="vertical-align: inherit;">这比二进制排序规则稍微复杂一些。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在现实生活中，大多数字符集有许多字符：不仅仅是
       </font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但整个字母，有时多个字母或数千个字符的东部书写系统，具有许多特殊符号和标点符号一起。</font><font style="vertical-align: inherit;">同样在现实生活中，大多数排序规则都有许多规则，不仅仅是为了区分lettercase，还是为了区分重音符号（</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重音符号</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是德语中</font></font><code class="literal">Ö</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font><font style="vertical-align: inherit;">字符相连的标记</font><font style="vertical-align: inherit;">）以及多字符映射（如该规则
       </font></font><code class="literal">Ö</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font><code class="literal">OE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在两个德国归类之一）。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL可以为你做这些事情：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用各种字符集存储字符串。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          比较使用各种排序规则的字符串。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在同一台服务器，同一个数据库或甚至同一个表中混合具有不同字符集或排序规则的字符串。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在任何级别启用字符集和归类规范。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要有效地使用这些功能，您必须知道可用的字符集和归类，如何更改默认值以及它们如何影响字符串运算符和函数的行为。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-mysql"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2 MySQL中的字符集和排序规则</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-repertoire"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.1字符集汇编</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-metadata"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.2用于元数据的UTF-8</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL服务器支持多个字符集。</font><font style="vertical-align: inherit;">要显示可用的字符集，请使用
       </font></font><code class="literal">INFORMATION_SCHEMA</code>
      <a class="link" href="/mysql-5.7-google-zh/information-schema.html#character-sets-table" title="24.1 INFORMATION_SCHEMA CHARACTER_SETS表"><code class="literal">CHARACTER_SETS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。</font><font style="vertical-align: inherit;">部分列表如下。</font><font style="vertical-align: inherit;">有关更完整的信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-charsets" title="10.10支持的字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.10节“支持的字符集和归类”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW CHARACTER SET;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + --------------------------------- + ---- ----------------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">说明| </font><font style="vertical-align: inherit;">默认排序| </font><font style="vertical-align: inherit;">Maxlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + --------------------------------- + ---- ----------------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">big5 | </font><font style="vertical-align: inherit;">Big5繁体中文| </font><font style="vertical-align: inherit;">big5_chinese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">cp1252西欧| </font><font style="vertical-align: inherit;">latin1_swedish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin2 | </font><font style="vertical-align: inherit;">ISO 8859-2中欧| </font><font style="vertical-align: inherit;">latin2_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf8 | </font><font style="vertical-align: inherit;">UTF-8 Unicode | </font><font style="vertical-align: inherit;">utf8_general_ci | </font><font style="vertical-align: inherit;">3 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">UCS-2 Unicode | </font><font style="vertical-align: inherit;">ucs2_general_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf8mb4 | </font><font style="vertical-align: inherit;">UTF-8 Unicode | </font><font style="vertical-align: inherit;">utf8mb4_general_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">二进制| </font><font style="vertical-align: inherit;">二进制伪字符集| </font><font style="vertical-align: inherit;">二进制| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      语句显示所有可用的字符集。</font><font style="vertical-align: inherit;">它需要一个可选</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><code class="literal">WHERE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句来指示要匹配的字符集名称。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW CHARACTER SET LIKE 'latin%';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ----------------------------- + --------- ---------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">说明| </font><font style="vertical-align: inherit;">默认排序| </font><font style="vertical-align: inherit;">Maxlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ----------------------------- + --------- ---------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">cp1252西欧| </font><font style="vertical-align: inherit;">latin1_swedish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin2 | </font><font style="vertical-align: inherit;">ISO 8859-2中欧| </font><font style="vertical-align: inherit;">latin2_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin5 | </font><font style="vertical-align: inherit;">ISO 8859-9土耳其语| </font><font style="vertical-align: inherit;">latin5_turkish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin7 | </font><font style="vertical-align: inherit;">ISO 8859-13波罗的海| </font><font style="vertical-align: inherit;">latin7_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ----------------------------- + --------- ---------- + -------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      给定的字符集总是至少有一个排序规则，并且大多数字符集都有几个排序规则。</font><font style="vertical-align: inherit;">要列出字符集的显示归类，请使用</font></font><code class="literal">INFORMATION_SCHEMA</code>
      <a class="link" href="/mysql-5.7-google-zh/information-schema.html#collations-table" title="24.2 INFORMATION_SCHEMA COLLATIONS表"><code class="literal">COLLATIONS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      语句显示所有可用的排序规则。</font><font style="vertical-align: inherit;">它采用可选
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">WHERE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      子句来指示要显示的排序规则名称。</font><font style="vertical-align: inherit;">例如，要查看默认字符集</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（cp1252 West European）</font><font style="vertical-align: inherit;">的排序
       </font><font style="vertical-align: inherit;">规则，请使用以下语句：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW COLLATION WHERE Charset = 'latin1';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + --------- + ---- + --------- + ---- ------ + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">整理| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">Id | </font><font style="vertical-align: inherit;">默认| </font><font style="vertical-align: inherit;">编译| </font><font style="vertical-align: inherit;">Sortlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + --------- + ---- + --------- + ---- ------ + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_german1_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">5 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_swedish_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">8 | </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_danish_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">15 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_german2_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">31 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_bin | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">47 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_general_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">48 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_general_cs | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">49 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_spanish_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">94 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + --------- + ---- + --------- + ---- ------ + --------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类有以下含义。
</font></font></p><a class="indexterm" name="idm140528097213680"></a><a class="indexterm" name="idm140528097212592"></a><a class="indexterm" name="idm140528097211504"></a><a class="indexterm" name="idm140528097210416"></a>
<div class="informaltable">
<table summary="latin1 character set collations, as described in the preceding example, and the meaning of each collation."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含义</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">latin1_bin</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码的</font><font style="vertical-align: inherit;">二进制</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_danish_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丹麦/挪威</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_general_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多种语言（西欧）</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_general_cs</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多种语言（ISO西欧），区分大小写</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_german1_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德语DIN-1（字典顺序）</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_german2_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德国DIN-2（电话簿订购）</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_spanish_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现代西班牙</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">latin1_swedish_ci</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞典/芬兰</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      排序规则具有以下一般特征：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          两个不同的字符集不能具有相同的排序规则。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每个字符集都有</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认的排序规则</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，对于默认排序规则
           </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
           </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别。</font><font style="vertical-align: inherit;">该
           </font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#character-sets-table" title="24.1 INFORMATION_SCHEMA CHARACTER_SETS表"><code class="literal">CHARACTER_SETS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句指示每个字符集的默认排序规则。</font><font style="vertical-align: inherit;">该
           </font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#collations-table" title="24.2 INFORMATION_SCHEMA COLLATIONS表"><code class="literal">COLLATIONS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句中有一栏表示对每个比无论是它的字符集的默认（</font></font><code class="literal">Yes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果是的话，空如果不是）。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          整理名称始于与它们相关联的字符集的名称，通常后跟一个或多个表示其他整理特征的后缀。</font><font style="vertical-align: inherit;">有关命名约定的更多信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-names" title="10.3.1整理命名约定"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.3.1节“整理命名约定”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      当字符集具有多个归类时，可能不清楚哪种归类最适合给定的应用程序。</font><font style="vertical-align: inherit;">为避免选择不适当的排序规则，请使用具有代表性的数据值进行一些比较，以确保给定排序规则按您期望的方式排序值。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-repertoire"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.1字符集汇编</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528097163328"></a><a class="indexterm" name="idm140528097161872"></a><a class="indexterm" name="idm140528097160384"></a><a class="indexterm" name="idm140528097158896"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剧目</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集是在字符集的集合。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符串表达式有一个库属性，可以有两个值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表达式可以包含以Unicode范围中的字符</font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来
             </font></font><code class="literal">U+007F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表达式可以包含以Unicode字符范围</font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来
             </font></font><code class="literal">U+10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这包括基本多语言平面（BMP）范围（</font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font></font><code class="literal">U+FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中的字符以及BMP范围（</font></font><code class="literal">U+01000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font></font><code class="literal">U+10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">之外的补充字符</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围是范围的一个子集
         </font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以安全地转换</font><font style="vertical-align: inherit;">带有</font><font style="vertical-align: inherit;">所有曲目</font><font style="vertical-align: inherit;">的字符串，
         </font><font style="vertical-align: inherit;">而不会丢失任何带有</font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有曲目的</font><font style="vertical-align: inherit;">字符串</font><font style="vertical-align: inherit;">或字符集的字符集的信息</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（所有的MySQL字符集都是超集，</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了</font></font><code class="literal">swe7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重复使用瑞典重音字符的一些标点符号）。使用表达式可以在表达式中使用字符集转换，否则MySQL会以其他方式返回
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非法混合的排序规则</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下面的讨论提供了表达式及其全部内容的例子，并且描述了如何使用表达式来改变字符串表达式的评估：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符串常量的全部内容取决于字符串内容，并可能与字符串字符集的全部内容不同。</font><font style="vertical-align: inherit;">考虑这些陈述：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES utf8; </font><font style="vertical-align: inherit;">SELECT'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8'def';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT N'MySQL';</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            虽然字符集</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在前面的每个案例中，但字符串实际上并不包含ASCII范围之外的任何字符，因此它们的曲目</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是
             </font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于其字符集，</font><font style="vertical-align: inherit;">
            具有该</font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集的</font><font style="vertical-align: inherit;">列具有</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全部内容。</font><font style="vertical-align: inherit;">在下表中，</font></font><code class="literal">c1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有组成部分：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t1（c1 CHAR（1）CHARACTER SET ascii）;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以下示例说明了如何在没有存储库的情况下发生错误时能够确定结果：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t1（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  c1 CHAR（1）字符集latin1，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  c2 CHAR（1）CHARACTER SET ascii</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t1 VALUES（'a'，'b'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT CONCAT（c1，c2）FROM t1;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有曲目，会发生此错误：
          </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误1267（HY000）：非法混合排序（latin1_swedish_ci，IMPLICIT）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和（ascii_general_ci，IMPLICIT）用于操作'concat'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用汇辑，</font><font style="vertical-align: inherit;">可以发生</font><font style="vertical-align: inherit;">超集（</font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）转换的</font><font style="vertical-align: inherit;">子集</font><font style="vertical-align: inherit;">并返回结果：
          </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CONCAT（c1，c2）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ab |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            带有一个字符串参数的函数会继承其参数的全部内容。</font><font style="vertical-align: inherit;">由于它的论证具有</font><font style="vertical-align: inherit;">所有</font><font style="vertical-align: inherit;">的特点，因此</font><font style="vertical-align: inherit;">
            具有</font><font style="vertical-align: inherit;">所有曲目</font><font style="vertical-align: inherit;">的结果
             </font><font style="vertical-align: inherit;">。
          </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_upper"><code class="literal">UPPER(_utf8'<em class="replaceable"><code>abc</code></em>')</code></a><font style="vertical-align: inherit;"></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于返回一个字符串，但没有字符串参数和使用功能
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为结果的字符集，结果曲目
             </font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果
             </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
             </font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以其他方式：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式（</font></font><em class="replaceable"><code>numeric_column</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，4）;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            剧目的使用改变了MySQL如何评估下面的例子：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES ascii;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE t1（a INT，b VARCHAR（10）CHARACTER SET latin1）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t1 VALUES（1，'b'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT CONCAT（FORMAT（a，4），b）FROM t1;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有曲目，会发生此错误：
          </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误1267（HY000）：非法混合排序（ascii_general_ci，COERCIBLE）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和（latin1_swedish_ci，IMPLICIT）用于操作'concat'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着曲目，返回结果：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CONCAT（格式（a，4），b）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1.0000b |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- +</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            带有两个或多个字符串参数的</font><font style="vertical-align: inherit;">函数对结果库</font><font style="vertical-align: inherit;">使用
             </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最宽</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数库（</font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比之宽
             </font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">考虑以下
             </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_concat"><code class="literal">CONCAT()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼叫：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONCAT（_ucs2 X'0041'，_ucs2 X'0042'）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CONCAT（_ucs2 X'0041'，_ucs2 X'00C2'）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于第一次调用，曲目是
             </font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为两个参数都在</font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">范围内</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于第二次调用，曲目是
             </font></font><code class="literal">UNICODE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为第二个参数超出了</font></font><code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集范围。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            函数返回值的表达式仅根据影响结果字符集和归类的参数库来确定。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF（第1栏&lt;第2栏，'更小'，'更大'）
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            结果曲目是</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为两个字符串参数（第二个参数和第三个参数）都有参数</font></font><code class="literal">ASCII</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">即使表达式使用字符串值，第一个参数对结果库不重要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-metadata"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.2.2用于元数据的UTF-8</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528097093424"></a><a class="indexterm" name="idm140528097091936"></a><a class="indexterm" name="idm140528097090448"></a><p>
        <span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元数据</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于数据的数据。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">东西
         </font><font style="vertical-align: inherit;">都是元数据</font><font style="vertical-align: inherit;">，而不是数据库的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，列名称，数据库名称，用户名称，版本名称以及大多数字符串结果
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show" title="13.7.5 SHOW语法"><code class="literal">SHOW</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都是元数据。</font><font style="vertical-align: inherit;">对于表中的内容也是如此，
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这些表按定义包含有关数据库对象的信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        元数据的表示必须满足以下要求：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所有元数据必须位于相同的字符集中。</font><font style="vertical-align: inherit;">否则，</font><font style="vertical-align: inherit;">由于这些操作的结果的同一列中的不同行将使用不同的字符集，所以</font><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show" title="13.7.5 SHOW语法"><code class="literal">SHOW</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句和</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">都</font><font style="vertical-align: inherit;">不能</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正常工作。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            元数据必须包含所有语言的所有字符。</font><font style="vertical-align: inherit;">否则，用户将无法使用自己的语言为列和表命名。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了满足这两个要求，MySQL将元数据存储在一个Unicode字符集中，即UTF-8。</font><font style="vertical-align: inherit;">如果您从不使用重音或非拉丁字符，这不会造成任何中断。</font><font style="vertical-align: inherit;">但是，如果你这样做，你应该知道元数据是UTF-8。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        元数据的要求意味着的返回值
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_user"><code class="literal">USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_database"><code class="literal">DATABASE()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_version"><code class="literal">VERSION()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能有UTF-8字符的默认设置。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        服务器将
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量设置为元数据字符集的名称：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'character_set_system';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- + ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- + ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_system | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- + ------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用Unicode存储元数据</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        意味着服务器</font><font style="vertical-align: inherit;">默认情况下会</font><font style="vertical-align: inherit;">返回列标题和</font><font style="vertical-align: inherit;">字符集中</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#describe" title="13.8.1 DESCRIBE语法"><code class="literal">DESCRIBE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
         </font><font style="vertical-align: inherit;">的结果</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当您使用时</font></font><code class="literal">SELECT column1 FROM
        t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，名称</font></font><code class="literal">column1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本身从服务器返回到由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的值确定的字符集中的客户端，该值
         </font><font style="vertical-align: inherit;">具有默认值
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您希望服务器将元数据结果传递回另一个字符集，请使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句强制服务器执行字符集转换。
        </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和其他相关的系统变量。</font><font style="vertical-align: inherit;">（看到
        </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。或者，客户端程序可以在收到服务器的结果后执行转换。</font><font style="vertical-align: inherit;">客户端执行转换效率更高，但该选项并非总是适用于所有客户端。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则不执行转换，并且服务器使用其原始字符集（由指示的集合</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">返回元数据
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        与元数据一样，从服务器返回给客户端的错误消息将自动转换为客户端字符集。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_user"><code class="literal">USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在单个语句</font><font style="vertical-align: inherit;">中使用（例如）
         </font><font style="vertical-align: inherit;">函数进行比较或分配，请不要担心。</font><font style="vertical-align: inherit;">MySQL为你执行一些自动转换。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT * FROM t1 WHERE USER（）= latin1_column;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是有效的，因为</font></font><code class="literal">latin1_column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在比较之前，</font><font style="vertical-align: inherit;">内容
         </font><font style="vertical-align: inherit;">会自动转换为UTF-8。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INSERT INTO t1（latin1_column）SELECT USER（）;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是有效的，因为内容
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_user"><code class="literal">USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会自动转换为</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配之前。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        尽管自动转换不在SQL标准中，但该标准确实表示每个字符集（以支持的字符表示）是</font><font style="vertical-align: inherit;">Unicode </font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于超集的内容适用于子集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这一</font><font style="vertical-align: inherit;">原则是众所周知的</font><span class="quote"><span class="quote"><font style="vertical-align: inherit;">，因此</font></span></span><font style="vertical-align: inherit;">我们相信Unicode的排序规则可用于与非Unicode字符串的比较。</font><font style="vertical-align: inherit;">有关强制字符串的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-coercibility" title="10.8.4表达式中的排序强制性"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.4节“表达式中的整理强制性”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-syntax"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3指定字符集和排序规则</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.1整理命名约定</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.2服务器字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-database"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.3数据库字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.4表格字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-column"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.5列字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-literal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.6字符串文字字符集和校对</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-national"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.7国家字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-introducer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.8字符集介绍器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.9字符集和校对分配的例子</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-compatibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.10与其他DBMS的兼容性</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有四个级别的字符集和归类默认设置：服务器，数据库，表和列。</font><font style="vertical-align: inherit;">以下各节中的描述可能看起来很复杂，但实践中发现，多级缺省会导致自然而明显的结果。
    </font></font></p><p>
      <code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定字符集的子句。</font></font><code class="literal">CHARSET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以作为一个同义词使用</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      字符集问题不仅影响数据存储，还影响客户端程序与MySQL服务器之间的通信。</font><font style="vertical-align: inherit;">如果您希望客户端程序使用与默认不同的字符集与服务器进行通信，则需要指明哪一个。</font><font style="vertical-align: inherit;">例如，要使用</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode字符集，请在连接到服务器后发出以下语句：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES'utf8';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关客户端/服务器通信中与字符集相关的问题的更多信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-names"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.1整理命名约定</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528097029584"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL整理名称遵循以下约定：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序规则名称以与其关联的字符集的名称开头，后跟一个或多个表示其他排序规则特征的后缀。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
             </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用于排序规则
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            分别字符集，。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集有一个单一的整理，也叫
             </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，没有后缀。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            特定于语言的整理包括语言名称。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">utf8_turkish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">utf8_hungarian_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序为人物
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用土耳其和匈牙利的规则，分别字符集。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            归类后缀指示归类是大小写还是区分重音，还是二进制。</font><font style="vertical-align: inherit;">下表显示了用于表示这些特征的后缀。
</font></font></p><a class="indexterm" name="idm140528097017936"></a><a class="indexterm" name="idm140528097016864"></a><a class="indexterm" name="idm140528097015376"></a><a class="indexterm" name="idm140528097014304"></a><a class="indexterm" name="idm140528097012816"></a><a class="indexterm" name="idm140528097011744"></a><a class="indexterm" name="idm140528097010256"></a><a class="indexterm" name="idm140528097009184"></a><a class="indexterm" name="idm140528097007696"></a><a class="indexterm" name="idm140528097006624"></a>
<div class="table">
<a name="charset-collation-sensitivity-suffixes"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.1整理大小写敏感性后缀</font></font></b></p>
<div class="table-contents">
<table summary="Collation suffixes that indicate case and accent sensitivity."><colgroup><col width="20%"><col width="80%"></colgroup><thead><tr>
                <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后缀</font></font></th>
                <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含义</font></font></th>
              </tr></thead><tbody><tr>
                <td scope="row"><code class="literal">_ai</code></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">口音不敏感</font></font></td>
              </tr><tr>
                <td scope="row"><code class="literal">_as</code></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">口音敏感</font></font></td>
              </tr><tr>
                <td scope="row"><code class="literal">_ci</code></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不区分大小写</font></font></td>
              </tr><tr>
                <td scope="row"><code class="literal">_cs</code></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区分大小写</font></font></td>
              </tr><tr>
                <td scope="row"><code class="literal">_bin</code></td>
                <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于不指定重音敏感度的非二进制排序规则名称，则由区分大小写决定。</font><font style="vertical-align: inherit;">如果归类名不包含</font></font><code class="literal">_ai</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
             </font></font><code class="literal">_as</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其名称所暗示</font></font><code class="literal">_ai</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code class="literal">_cs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其名称所暗示</font></font><code class="literal">_as</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，
             </font></font><code class="literal">latin1_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明确区分大小写且隐含不区分重音，并
             </font></font><code class="literal">latin1_general_cs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明确区分大小写且隐含重音。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于</font><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">的</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类
             </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，比较基于数字字节值。</font><font style="vertical-align: inherit;">对于</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非二进制字符集</font><font style="vertical-align: inherit;">的
             </font><font style="vertical-align: inherit;">归类，比较基于数字字符代码值，它与多字节字符的字节值不同。</font><font style="vertical-align: inherit;">有关更多信息，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-binary-collations" title="10.8.5二进制归类与_bin归类比较"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.5节“二进制归类与_bin归类比较”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于Unicode字符集，排序规则名称可能包含一个版本号，以指示排序规则基于的Unicode排序算法（UCA）的版本。</font><font style="vertical-align: inherit;">名称中没有版本号的基于UCA的排序规则使用版本4.0.0 UCA权重键。</font><font style="vertical-align: inherit;">例如：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">utf8_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于UCA 5.2.0权重键（</font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（没有版本命名）基于UCA 4.0.0权重键（</font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于Unicode字符集，
             </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_mysql500_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序规则保留原始</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            归类</font><font style="vertical-align: inherit;">之前的5.1.24排序，
             </font><font style="vertical-align: inherit;">并允许在MySQL 5.1.24之前创建的表的升级（错误＃27877）。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.2服务器字符集和校对</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL服务器有一个服务器字符集和服务器排序规则。</font><font style="vertical-align: inherit;">这些可以在服务器启动时在命令行或选项文件中设置，并在运行时更改。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最初，服务器字符集和排序规则取决于启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时使用的选项</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。</font><font style="vertical-align: inherit;">随着它，你可以添加
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理。</font><font style="vertical-align: inherit;">如果你没有指定一个字符集，这与说
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server=latin1</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果仅指定字符集（例如
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）而不是排序规则，则与说法相同，
         </font><font style="vertical-align: inherit;">
        因为</font><font style="vertical-align: inherit;">它是默认排序规则</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，以下三个命令都具有相同的效果：
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server=latin1</code></a>
        <a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server=latin1_swedish_ci</code></a><font style="vertical-align: inherit;"></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"></font><code class="literal">latin1</code><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld --character-set-server = latin1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqld --character-set-server = latin1 \</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  --collat​​ion服务器= latin1_swedish_ci</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        改变设置的一种方法是重新编译。</font><font style="vertical-align: inherit;">要从源构建时更改默认服务器字符集和排序规则，请使用</font><span class="command"><strong><font style="vertical-align: inherit;">CMake</font></strong></span><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_charset"><code class="option">DEFAULT_CHARSET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_collation"><code class="option">DEFAULT_COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake。</font><font style="vertical-align: inherit;">-DDEFAULT_CHARSET = LATIN1
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要么：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake。</font><font style="vertical-align: inherit;">-DEFEFAULT_CHARSET = latin1 \</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  -DDEFAULT_COLLATION = latin1_german1_ci</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        双方</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake的</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        验证字符集/归类组合是有效的。</font><font style="vertical-align: inherit;">如果不是，每个程序都会显示一条错误消息并终止。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果未在</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-database" title="13.1.11 CREATE DATABASE语法"><code class="literal">CREATE DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        语句中</font><font style="vertical-align: inherit;">指定数据库字符集和归类，则使用服务器字符集和归类作为默认值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">他们没有其他目的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当前服务器的字符集和归类可以从的值来确定
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">这些变量可以在运行时更改。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-database"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.3数据库字符集和校对</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个数据库都有一个数据库字符集和一个数据库排序规则。</font><font style="vertical-align: inherit;">该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-database" title="13.1.11 CREATE DATABASE语法"><code class="literal">CREATE DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-database" title="13.1.1 ALTER DATABASE语法"><code class="literal">ALTER DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句有用于指定数据库字符集和校对可选条款：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE DATABASE </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[DEFAULT] CHARACTER SET </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[默认] COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER DATABASE </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[DEFAULT]字符集</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[默认] COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        关键字</font></font><code class="literal">SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以用来代替
         </font></font><code class="literal">DATABASE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有数据库选项都存储在一个名为的文本文件中，该文件
         </font></font><code class="filename">db.opt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在数据库目录中找到。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句可以在同一个MySQL服务器上创建具有不同字符集和排序规则的数据库。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE DATABASE </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHARACTER SET latin1 COLLATE latin1_swedish_ci;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL以下列方式选择数据库字符集和数据库归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果同时</font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">指定，字符集
             </font><font style="vertical-align: inherit;">和校对规则
             </font><font style="vertical-align: inherit;">使用。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">字符集
             </font><font style="vertical-align: inherit;">及其默认归类。</font><font style="vertical-align: inherit;">要查看每个字符集的默认排序规则，请使用该</font><font style="vertical-align: inherit;">语句。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER
            SET</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，则使用</font><font style="vertical-align: inherit;">与</font><font style="vertical-align: inherit;">关联</font><font style="vertical-align: inherit;">和整理
             </font><font style="vertical-align: inherit;">相关的字符集
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            否则（既不</font><font style="vertical-align: inherit;">指定</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也不
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定）使用服务器字符集和服务器排序规则。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        的字符集，并归类为默认数据库可以从的值来确定
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">服务器在默认数据库更改时设置这些变量。</font><font style="vertical-align: inherit;">如果没有默认数据库，变量具有相同的值与相应的服务器级的系统变量，</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要查看给定数据库的默认字符集和归类，请使用以下语句：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USE </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT @@ character_set_database，@@ collat​​ion_database;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，要显示这些值而不更改默认数据库：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT DEFAULT_CHARACTER_SET_NAME，DEFAULT_COLLATION_NAME</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME =' </font></font><em class="replaceable"><code>db_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据库字符集和排序规则会影响服务器操作的这些方面：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句，如果未指定表字符集和归类，则将数据库字符集和归类用作表定义的默认值。</font><font style="vertical-align: inherit;">要覆盖这个，请提供显式</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格选项。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE语法"><code class="literal">LOAD DATA</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不包含</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句的语句，服务器使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            系统变量</font><font style="vertical-align: inherit;">指示的字符集
             </font><font style="vertical-align: inherit;">来解释文件中的信息。</font><font style="vertical-align: inherit;">要覆盖这个，请提供一个明确的</font></font><code class="literal">CHARACTER
            SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于存储的例程（过程和函数），在例程创建时生效的数据库字符集和排序规则被用作字符集和字符数据参数的归类，其声明不包括no </font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font><font style="vertical-align: inherit;">要覆盖这个，请提供显式</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-table"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.4表格字符集和校对</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个表都有一个表格字符集和一个表格整理。</font><font style="vertical-align: inherit;">该
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句对指定表字符集和校对可选条款：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE </font></font><em class="replaceable"><code>tbl_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><em class="replaceable"><code>column_list</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[默认]字符集</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]]</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER TABLE </font></font><em class="replaceable"><code>tbl_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [[DEFAULT]字符集</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t1（...）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
字符集latin1 COLLATE latin1_danish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL按照以下方式选择表格字符集和归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果同时</font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">指定，字符集
             </font><font style="vertical-align: inherit;">和校对规则
             </font><font style="vertical-align: inherit;">使用。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">字符集
             </font><font style="vertical-align: inherit;">及其默认归类。</font><font style="vertical-align: inherit;">要查看每个字符集的默认排序规则，请使用该</font><font style="vertical-align: inherit;">语句。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER
            SET</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，则使用</font><font style="vertical-align: inherit;">与</font><font style="vertical-align: inherit;">关联</font><font style="vertical-align: inherit;">和整理
             </font><font style="vertical-align: inherit;">相关的字符集
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            否则（既不</font><font style="vertical-align: inherit;">指定</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也不
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定），使用数据库字符集和归类。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果未在单个列定义中指定列字符集和归类，则表格字符集和归类将用作列定义的默认值。</font><font style="vertical-align: inherit;">表字符集和整理是MySQL的扩展; </font><font style="vertical-align: inherit;">标准SQL中没有这样的东西。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-column"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.5列字符集和校对</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列（即，类型的一列
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）具有列字符集和列排序规则。</font><font style="vertical-align: inherit;">列定义的语法
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于指定列字符集和归类的可选子句：
      </font></font></p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>col_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{CHAR | </font><font style="vertical-align: inherit;">VARCHAR | </font><font style="vertical-align: inherit;">TEXT}（</font></font><em class="replaceable"><code>col_length</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [字符集</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这些子句也可以用于
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#enum" title="11.4.4 ENUM类型"><code class="literal">ENUM</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#set" title="11.4.5 SET类型"><code class="literal">SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列：
      </font></font></p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>col_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ENUM | </font><font style="vertical-align: inherit;">SET}（</font></font><em class="replaceable"><code>val_list</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [字符集</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    [COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例子：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 VARCHAR（5）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      CHARACTER SET latin1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      COLLATE latin1_german1_ci</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
修改表t1修改</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 VARCHAR（5）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      CHARACTER SET latin1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      COLLATE latin1_swedish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL按以下方式选择列字符集和归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果同时</font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">指定，字符集
             </font><font style="vertical-align: inherit;">和校对规则
             </font><font style="vertical-align: inherit;">使用。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 CHAR（10）CHARACTER SET utf8 COLLATE utf8_unicode_ci</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）字符集latin1 COLLATE latin1_bin;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集和排序规则是为该列指定的，因此它们被使用。</font><font style="vertical-align: inherit;">该列具有字符集
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和归类
             </font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">字符集
             </font><font style="vertical-align: inherit;">及其默认归类。
          </font></font><code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 CHAR（10）CHARACTER SET utf8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）字符集latin1 COLLATE latin1_bin;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集是为列指定的，但排序规则不是。</font><font style="vertical-align: inherit;">该列具有字符集
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和默认排序规则
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是
             </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要查看每个字符集的默认排序规则，请使用该
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font><font style="vertical-align: inherit;">未指定</font><font style="vertical-align: inherit;">，则使用</font><font style="vertical-align: inherit;">与</font><font style="vertical-align: inherit;">关联</font><font style="vertical-align: inherit;">和整理
             </font><font style="vertical-align: inherit;">相关的字符集
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 CHAR（10）COLLATE utf8_polish_ci</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）字符集latin1 COLLATE latin1_bin;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序规则是为列指定的，但字符集不是。</font><font style="vertical-align: inherit;">该列具有归类
             </font></font><code class="literal">utf8_polish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而字符集是与归类关联的那个，即
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            否则（既不</font><font style="vertical-align: inherit;">指定</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也不
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定），使用表字符集和归类。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    col1 CHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）字符集latin1 COLLATE latin1_bin;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对列没有指定字符集和排序规则，所以使用表格默认值。</font><font style="vertical-align: inherit;">该列具有字符集</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和归类
             </font></font><code class="literal">latin1_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
         </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句是标准的SQL。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将列从一个字符集转换为另一个字符集，MySQL会尝试映射数据值，但如果字符集不兼容，则可能会丢失数据。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-literal"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.6字符串文字字符集和校对</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个字符串文字都有一个字符集和一个排序规则。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于简单语句</font><font style="vertical-align: inherit;">，该字符串具有由</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">
        和</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">定义的连接默认字符集和归类</font><font style="vertical-align: inherit;">。
      </font></font><code class="literal">SELECT
        '<em class="replaceable"><code>string</code></em>'</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个字符串文字可以有一个可选的字符集介绍者和</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句，将其指定为使用特定字符集和排序规则的字符串：
      </font></font></p><a class="indexterm" name="idm140528096805184"></a><a class="indexterm" name="idm140528096803696"></a><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[_ </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]' </font></font><em class="replaceable"><code>string</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'[COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符集引入程序和</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        子句是根据标准SQL规范实现的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例子：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _binary'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8'abc'COLLATE utf8_danish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这个</font><font style="vertical-align: inherit;">
        表达形式被称为
         </font><span class="emphasis"><em><font style="vertical-align: inherit;">介绍人</font></em></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它告诉解析器，</font><span class="quote"><font style="vertical-align: inherit;">“下面</font></span><span class="quote"><span class="quote"><font style="vertical-align: inherit;">的字符串使用字符集
         </font></span></span><span class="quote"><span class="quote"><font style="vertical-align: inherit;">。</font></span></span><span class="quote"><font style="vertical-align: inherit;">“</font></span><font style="vertical-align: inherit;">一个介绍人不会像</font><font style="vertical-align: inherit;">将要做的</font><font style="vertical-align: inherit;">那样</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">字符串更改为介绍人字符集
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它不会更改字符串值，尽管可能会出现填充。</font><font style="vertical-align: inherit;">介绍人只是一个信号。
      </font></font><code class="literal">_<em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><span class="emphasis"><em><font style="vertical-align: inherit;"></font></em></span><font style="vertical-align: inherit;"></font><span class="quote"><font style="vertical-align: inherit;"></font><span class="quote"><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_convert"><code class="literal">CONVERT()</code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL通过以下方式确定字符串文字的字符集和整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果同时</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">指定，字符集
             </font><font style="vertical-align: inherit;">和校对规则
             </font><font style="vertical-align: inherit;">使用。
            </font><font style="vertical-align: inherit;">必须是允许的排序规则
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已指定但未
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定，</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">字符集
             </font><font style="vertical-align: inherit;">及其默认归类。</font><font style="vertical-align: inherit;">要查看每个字符集的默认排序规则，请使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER
            SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未指定但</font><font style="vertical-align: inherit;">指定了，</font><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">由</font><font style="vertical-align: inherit;">
            系统变量和归类
             </font><font style="vertical-align: inherit;">给出的连接缺省字符集
             </font><font style="vertical-align: inherit;">。
            </font><font style="vertical-align: inherit;">必须是连接默认字符集的允许排序规则。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            否则（既不</font><font style="vertical-align: inherit;">指定</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            也不</font><font style="vertical-align: inherit;">指定），使用由</font><font style="vertical-align: inherit;">
            系统变量</font><font style="vertical-align: inherit;">
            和</font><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">给出的连接缺省字符集和归类
             </font><font style="vertical-align: inherit;">。
</font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例子：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和</font></font><code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理的</font><font style="vertical-align: inherit;">非二进制字符串</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_latin1'Müller'COLLATE latin1_german1_ci;
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            包含</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和默认排序规则（即
             </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">非二进制字符串</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_utf8'Müller';
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集及其默认排序规则（即
             </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">二进制字符串</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_binary'Müller';
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有连接默认字符集和</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则</font><font style="vertical-align: inherit;">的非二进制字符串</font><font style="vertical-align: inherit;">（如果连接字符集不是，则会失败
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'Müller'COLLATE utf8_general_ci;
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有连接默认字符集和整理的字符串：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'Müller';
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个介绍者指示下列字符串的字符集，但不会改变解析器在字符串中执行转义处理的方式。</font><font style="vertical-align: inherit;">解析器根据给定的字符集总是解释转义
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下示例显示</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使在介绍人在场的</font><font style="vertical-align: inherit;">情况下也可以使用退出处理
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些示例使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论的那样进行</font><font style="vertical-align: inherit;">更改
         </font><font style="vertical-align: inherit;">），并使用该</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_hex"><code class="literal">HEX()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">显示结果字符串，
         </font><font style="vertical-align: inherit;">以便可以看到确切的字符串内容。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例1：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES latin1;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT HEX('à\n'), HEX(_sjis'à\n');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（'à\ n'）| </font><font style="vertical-align: inherit;">HEX（_sjis'à\ n'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">E00A | </font><font style="vertical-align: inherit;">E00A |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在这里，</font></font><code class="literal">à</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（十六进制值
         </font></font><code class="literal">E0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）之后是</font></font><code class="literal">\n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换行符的转义序列。</font><font style="vertical-align: inherit;">转义序列的解释使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来产生文字换行符（十六进制值</font></font><code class="literal">0A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">即使是第二个字符串也会发生这种情况 </font><font style="vertical-align: inherit;">也就是说，</font></font><code class="literal">_sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        介绍者不会影响解析器的转义处理。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例2：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES sjis;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT HEX('à\n'), HEX(_latin1'à\n');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（'à\ n'）| </font><font style="vertical-align: inherit;">HEX（_latin1'à\ n'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">E05C6E | </font><font style="vertical-align: inherit;">E05C6E |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个字符集，其中</font></font><code class="literal">à</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后面跟着
         </font></font><code class="literal">\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（十六进制值</font></font><code class="literal">05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><code class="literal">5C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的序列</font><font style="vertical-align: inherit;">是一个有效的多字节字符。</font><font style="vertical-align: inherit;">因此，字符串的前两个字节被解释为单个</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符，并且
         </font></font><code class="literal">\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不被解释为转义字符。</font><font style="vertical-align: inherit;">以下</font></font><code class="literal">n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（十六进制值
         </font></font><code class="literal">6E</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）不被解释为转义序列的一部分。</font><font style="vertical-align: inherit;">即使对于第二个字符串也是如此; </font><font style="vertical-align: inherit;">在
         </font></font><code class="literal">_latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引导不影响转义处理。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-national"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.7国家字符集</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        标准SQL定义</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">NCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">NATIONAL CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列应该使用某些预定义的字符集。</font><font style="vertical-align: inherit;">MySQL使用
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个预定义的字符集。</font><font style="vertical-align: inherit;">例如，这些数据类型声明是等效的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHAR（10）CHARACTER SET utf8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
国家字符（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NCHAR（10）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如下所示：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VARCHAR（10）字符集utf8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NATIONAL VARCHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NVARCHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NCHAR VARCHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
国民性格变化（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NATIONAL CHAR VARYING（10）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用
         </font><font style="vertical-align: inherit;">（或
         </font><font style="vertical-align: inherit;">）在国家字符集中创建一个字符串。</font><font style="vertical-align: inherit;">这些陈述是等同的：
      </font></font><code class="literal">N'<em class="replaceable"><code>literal</code></em>'</code><font style="vertical-align: inherit;"></font><code class="literal">n'<em class="replaceable"><code>literal</code></em>'</code><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT N'some text';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选择n'some文字';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8'some text';</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-introducer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.8字符集介绍器</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096715360"></a><a class="indexterm" name="idm140528096713904"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符串文字，十六进制文字或位值文字可以具有可选的字符集介绍者和
         </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句，以将其指定为使用特定字符集和整理的字符串：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[_ </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font><em class="replaceable"><code>literal</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[COLLATE </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符集引入程序和</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        子句是根据标准SQL规范实现的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例子：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _binary'abc';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8'abc'COLLATE utf8_danish_ci;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1 X'4D7953514C';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8 0x4D7953514C COLLATE utf8_danish_ci;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1 b'1000001';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8 0b1000001 COLLATE utf8_danish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这个</font><font style="vertical-align: inherit;">
        表达形式被称为
         </font><span class="emphasis"><em><font style="vertical-align: inherit;">介绍人</font></em></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它告诉解析器，</font><span class="quote"><font style="vertical-align: inherit;">“下面</font></span><span class="quote"><span class="quote"><font style="vertical-align: inherit;">的字符串使用字符集
         </font></span></span><span class="quote"><span class="quote"><font style="vertical-align: inherit;">。</font></span></span><span class="quote"><font style="vertical-align: inherit;">“</font></span><font style="vertical-align: inherit;">一个介绍人不会像</font><font style="vertical-align: inherit;">将要做的</font><font style="vertical-align: inherit;">那样</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">字符串更改为介绍人字符集
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它不会更改字符串值，尽管可能会出现填充。</font><font style="vertical-align: inherit;">介绍人只是一个信号。
      </font></font><code class="literal">_<em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"></font><span class="emphasis"><em><font style="vertical-align: inherit;"></font></em></span><font style="vertical-align: inherit;"></font><span class="quote"><font style="vertical-align: inherit;"></font><span class="quote"><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_convert"><code class="literal">CONVERT()</code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于字符串文字，介绍人和字符串之间的空间是允许的但可选的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符串文字可以通过使用</font></font><code class="literal">_binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍者</font><font style="vertical-align: inherit;">指定为二进制字符串</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认情况下，十六进制文字和位值文字是二进制字符串，因此</font></font><code class="literal">_binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是允许的，但不必要。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL按以下方式确定字符串文字，十六进制文字或位值文字的字符集和排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果同时</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">指定，字符集
             </font><font style="vertical-align: inherit;">和校对规则
             </font><font style="vertical-align: inherit;">使用。
            </font><font style="vertical-align: inherit;">必须是允许的排序规则
             </font><font style="vertical-align: inherit;">。
          </font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已指定但未
             </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定，</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则使用</font><font style="vertical-align: inherit;">字符集
             </font><font style="vertical-align: inherit;">及其默认归类。</font><font style="vertical-align: inherit;">要查看每个字符集的默认排序规则，请使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER
            SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未指定但</font><font style="vertical-align: inherit;">指定：
</font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于字符串文字，使用由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                系统变量和归类
                 </font><font style="vertical-align: inherit;">给出的连接缺省字符集
                 </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须是连接默认字符集的允许排序规则。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于十六进制文字或位值文字，唯一允许的排序规则是</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这些类型的文字默认是二进制字符串。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            否则（既</font></font><em class="replaceable"><code>_charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">也</font><font style="vertical-align: inherit;">没有</font><font style="vertical-align: inherit;">）：
</font></font><code class="literal">COLLATE
            <em class="replaceable"><code>collation_name</code></em></code><font style="vertical-align: inherit;"></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于字符串文字，将</font><font style="vertical-align: inherit;">
                使用</font><font style="vertical-align: inherit;">由</font><font style="vertical-align: inherit;">系统变量</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                和
                 </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">给出的连接默认字符集和归类
                 </font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于十六进制文字或位值文字，字符集和整理是
                 </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例子：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和</font></font><code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理的非</font><font style="vertical-align: inherit;">二进制字符串</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_latin1'Müller'COLLATE latin1_german1_ci;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1 X'0A0D'COLLATE latin1_german1_ci;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _latin1 b'0110'COLLATE latin1_german1_ci;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和默认排序</font><font style="vertical-align: inherit;">规则的非二进制字符串</font><font style="vertical-align: inherit;">（即
             </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_utf8'Müller';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8 X'0A0D';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8 b'0110';</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            包含</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集及其默认排序规则的</font><font style="vertical-align: inherit;">二进制字符串</font><font style="vertical-align: inherit;">（即
             </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT_binary'Müller';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT X'0A0D';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT b'0110';</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            十六进制文字和位值文字不需要介绍者，因为它们默认是二进制字符串。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有连接默认字符集和</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则</font><font style="vertical-align: inherit;">的非二进制字符串</font><font style="vertical-align: inherit;">（如果连接字符集不是，则会失败
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'Müller'COLLATE utf8_general_ci;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            此构造（</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅）不适用于十六进制文字或位文字，因为它们的字符集</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不考虑连接字符集，并且</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序规则</font><font style="vertical-align: inherit;">不兼容</font><font style="vertical-align: inherit;">。</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在没有介绍人的情况下，</font><font style="vertical-align: inherit;">唯一允许的</font><font style="vertical-align: inherit;">条款是</font></font><code class="literal">COLLATE
            binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            具有连接默认字符集和整理的字符串：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'Müller';
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于字符集文字，介绍人指示下列字符串的字符集，但不会更改解析器在字符串内执行转义处理的方式。</font><font style="vertical-align: inherit;">解析器根据给定的字符集总是解释转义
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关其他讨论和示例，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-literal" title="10.3.6字符串文字字符集和校对"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.3.6节“字符串文字字符集和校对”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-examples"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.9字符集和校对分配的例子</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下示例显示了MySQL如何确定默认字符集和整理值。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例1：表和列定义</font></font></strong></span>
      </p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    c1 CHAR（10）CHARACTER SET latin1 COLLATE latin1_german1_ci</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）默认字符集latin2 COLLATE latin2_bin;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里我们有一个包含</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和</font></font><code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则的列。</font><font style="vertical-align: inherit;">定义是明确的，所以这很简单。</font><font style="vertical-align: inherit;">请注意，</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="literal">latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">存储</font><font style="vertical-align: inherit;">列时</font><font style="vertical-align: inherit;">没有问题</font><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例2：表和列定义</font></font></strong></span>
      </p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    c1 CHAR（10）CHARACTER SET latin1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）DEFAULT CHARACTER SET latin1 COLLATE latin1_danish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这次我们有一个包含</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符集和默认排序规则的列。</font><font style="vertical-align: inherit;">尽管看起来很自然，但默认排序规则不会从表级别获取。</font><font style="vertical-align: inherit;">相反，由于默认排序规则
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终为
         </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，列
         </font></font><code class="literal">c1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的排序规则为
         </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不
         </font></font><code class="literal">latin1_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例3：表和列定义</font></font></strong></span>
      </p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    c1 CHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）DEFAULT CHARACTER SET latin1 COLLATE latin1_danish_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我们有一个包含默认字符集和默认排序规则的列。</font><font style="vertical-align: inherit;">在这种情况下，MySQL会检查表级以确定列字符集和归类。</font><font style="vertical-align: inherit;">因此，用于柱的字符集</font></font><code class="literal">c1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和其归类
         </font></font><code class="literal">latin1_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例4：数据库，表和列定义</font></font></strong></span>
      </p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE DATABASE d1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    默认字符集latin2 COLLATE latin2_czech_ci;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用d1;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
创建表t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    c1 CHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我们创建一个列而不指定其字符集和归类。</font><font style="vertical-align: inherit;">我们也没有在表级别指定字符集和排序规则。</font><font style="vertical-align: inherit;">在这种情况下，MySQL会检查数据库级别以确定表设置，此后将成为列设置。）因此，列的字符集</font></font><code class="literal">c1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
         </font></font><code class="literal">latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及其排序规则
         </font></font><code class="literal">latin2_czech_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-compatibility"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.3.10与其他DBMS的兼容性</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于MaxDB兼容性，这两个语句是相同的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t1（f1 CHAR（</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）UNICODE）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE t1（f1 CHAR（</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）CHARACTER SET ucs2）;
</font></font></pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-connection"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.4连接字符集和排序规则</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096621424"></a><a class="indexterm" name="idm140528096620000"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      几个字符集和整理系统变量与客户端与服务器的交互有关。</font><font style="vertical-align: inherit;">其中一些已在前面的章节中提到过：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器字符集和校对规则是值
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          字符集和默认的数据库的排序规则是值
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      额外的字符集和整理系统变量涉及处理客户端和服务器之间连接的流量。</font><font style="vertical-align: inherit;">每个客户端都有连接相关的字符集和整理系统变量。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一个</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是当你连接到服务器，你做什么。</font><font style="vertical-align: inherit;">客户端通过连接向服务器发送SQL语句，例如查询。</font><font style="vertical-align: inherit;">服务器通过连接将响应（如结果集或错误消息）发送回客户端。</font><font style="vertical-align: inherit;">这导致了有关客户端连接的字符集和归类处理的几个问题，每个问题都可以通过系统变量来解决：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          什么字符集是客户离开客户时的陈述？
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器将
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量作为客户端发送语句的字符集。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          服务器在接收到语音后应该使用哪种字符集？
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为此，服务器使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">它将客户端发送的语句转换
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，除了具有导入器的字符串文本（例如</font></font><code class="literal">_utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="literal">_latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
          </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于字面串的比较非常重要。</font><font style="vertical-align: inherit;">对于字符串与列值的比较，
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无关紧要，因为列具有自己的归类，归类优先级较高。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在将结果集或错误消息发送回客户端之前，服务器应该转换哪些字符集？
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所述</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          系统变量指示在其中服务器查询结果返回到客户端的字符集。</font><font style="vertical-align: inherit;">这包括结果数据（如列值）和结果元数据（如列名和错误消息）。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      客户可以微调这些变量的设置，或者取决于默认值（在这种情况下，您可以跳过本节的其余部分）。</font><font style="vertical-align: inherit;">如果您不使用默认值，则必须更改</font><span class="emphasis"><em><font style="vertical-align: inherit;">每个到服务器的连接</font></em></span><font style="vertical-align: inherit;">的字符设置</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></em></span>
    </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      两个语句将与连接相关的字符集变量作为一个组来影响：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">SET NAMES '<em class="replaceable"><code>charset_name</code></em>'
          [COLLATE
          '<em class="replaceable"><code>collation_name</code></em>']</code>
        </p><p>
          <a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示客户端将用于将SQL语句发送到服务器的字符集。</font><font style="vertical-align: inherit;">因此，
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES
          'cp1251'</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">告诉服务器，</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自这个客户端的未来传入消息是字符集
           </font></font><code class="literal">cp1251</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它还指定了服务器用于将结果发送回客户端的字符集。</font><font style="vertical-align: inherit;">（例如，如果您使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">，它指示用于列值的字符集
           </font><font style="vertical-align: inherit;">。）
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          一个</font><font style="vertical-align: inherit;">声明等同于这三个陈述：
        </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES
          '<em class="replaceable"><code>charset_name</code></em>'</code></a><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET character_set_client = </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET character_set_results = </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET character_set_connection = </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          设置
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
           </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐式设置
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为默认的排序规则</font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">没有必要明确设置该排序规则。</font><font style="vertical-align: inherit;">要指定特定的排序规则，请使用可选的
           </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NAMES'COLLATE' </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'
</font></font></pre></li><li class="listitem"><p>
          <code class="literal">SET CHARACTER SET
          '<em class="replaceable"><code>charset_name</code></em></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“
        </font></font></p><p>
          <a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-character-set" title="13.7.4.2 SET CHARACTER SET语法"><code class="literal">SET CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似于
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但套
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一个
           </font><font style="vertical-align: inherit;">声明等同于这三个陈述：
        </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-character-set" title="13.7.4.2 SET CHARACTER SET语法"><code class="literal">SET
          CHARACTER SET
          <em class="replaceable"><code>charset_name</code></em></code></a><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET character_set_client = </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET character_set_results = </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET collat​​ion_connection = @@ collat​​ion_database;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          设置</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          也隐式设置
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为与排序规则相关的字符集（相当于正在执行</font></font><code class="literal">SET character_set_connection =
          @@character_set_database</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">没有必要</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          明确</font><font style="vertical-align: inherit;">设置
           </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p>
        <code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能作为客户端字符集，这意味着他们没有为工作</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-character-set" title="13.7.4.2 SET CHARACTER SET语法"><code class="literal">SET CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL客户端程序</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlcheck" title="4.5.3 mysqlcheck  - 一个表维护程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlcheck</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlimport" title="4.5.5 mysqlimport  - 数据导入程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlimport</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlshow" title="4.5.8 mysqlshow  - 显示数据库，表和列信息"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlshow</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      确定使用的默认字符集，如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在没有其他信息的情况下，程序通常使用编译后的默认字符集
           </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          程序可以根据操作系统设置自动检测要使用的字符集，例如</font><font style="vertical-align: inherit;">Unix系统或locale环境变量</font><font style="vertical-align: inherit;">的值
           </font></font><code class="literal">LANG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">LC_ALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows系统上的代码页设置。</font><font style="vertical-align: inherit;">对于可从OS获得语言环境的系统，客户端使用它来设置默认字符集，而不是使用编译的默认设置。</font><font style="vertical-align: inherit;">例如，设置</font></font><code class="literal">LANG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
           </font></font><code class="literal">ru_RU.KOI8-R</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使
           </font></font><code class="literal">koi8r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集被使用。</font><font style="vertical-align: inherit;">因此，用户可以在其环境中配置语言环境以供MySQL客户端使用。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果没有完全匹配，则OS字符集映射到最接近的MySQL字符集。</font><font style="vertical-align: inherit;">如果客户端不支持匹配的字符集，它将使用编译的默认值。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不支持作为连接字符集。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          C应用程序可以</font></font><a class="link" href="/mysql-5.7-google-zh/connectors-apis.html#mysql-options" title="27.8.7.50 mysql_options（）"><code class="literal">mysql_options()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在连接到服务器之前按照以下</font><font style="vertical-align: inherit;">方式调用基于OS设置的字符集自动检测
           </font><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="c" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysql_options（MySQL的，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MYSQL_SET_CHARSET_NAME，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MYSQL_AUTODETECT_CHARSET_NAME）;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          程序支持一个
           </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_default-character-set"><code class="option">--default-character-set</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，该选项使用户能够明确指定字符集来覆盖客户端确定的任何默认值。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      当客户端连接到服务器时，它会发送用于与服务器通信的字符集名称。</font><font style="vertical-align: inherit;">服务器使用的名称，设置
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量。</font><font style="vertical-align: inherit;">实际上，服务器</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用字符集名称</font><font style="vertical-align: inherit;">执行
       </font><font style="vertical-align: inherit;">操作。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端时，为了使用不同于默认值的字符集，</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次启动时都</font><font style="vertical-align: inherit;">可以明确执行
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要更轻松地完成相同的结果，请将</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_default-character-set"><code class="option">--default-character-set</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项设置</font><font style="vertical-align: inherit;">添加
       </font><font style="vertical-align: inherit;">到您的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行或选项文件中。</font><font style="vertical-align: inherit;">例如，下面的选项文件设置会改变</font></font><code class="literal">koi8r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次调用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时
       </font><font style="vertical-align: inherit;">设置的三个连接相关字符集变量</font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[MySQL的]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
默认字符集= koi8r</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您使用</font><font style="vertical-align: inherit;">启用了自动重新连接</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端（不推荐），最好使用该</font></font><code class="literal">charset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令而不是</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>charset utf8</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Charset改变了</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">charset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令发布一条
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句，并且还会更改</font><font style="vertical-align: inherit;">
      连接断开后重新连接时</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的缺省字符集</font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      例如：假设它</font></font><code class="literal">column1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被定义为
       </font></font><code class="literal">CHAR(5) CHARACTER SET latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果你没有说
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-character-set" title="13.7.4.2 SET CHARACTER SET语法"><code class="literal">SET CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么
       </font></font><code class="literal">SELECT column1 FROM t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器就会发回所有</font></font><code class="literal">column1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用客户端连接时指定的字符集</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另一方面，如果您</font><font style="vertical-align: inherit;">在发布该</font><font style="vertical-align: inherit;">语句时</font><font style="vertical-align: inherit;">说</font></font><code class="literal">SET NAMES 'latin1'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><code class="literal">SET CHARACTER SET latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，服务器将</font></font><code class="literal">latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
       </font><font style="vertical-align: inherit;">转换为</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送结果之前。</font><font style="vertical-align: inherit;">如果有不属于两个字符集的字符，转换可能是有损的。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您希望服务器不执行结果集或错误消息的转换，请设置
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
       </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET character_set_results = NULL;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET character_set_results = binary;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要查看适用于连接的字符集和归类系统变量的值，请使用以下语句：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHOW VARIABLES like'character_set％';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SHOW VARIABLES LIKE'collat​​ion％';</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您还必须考虑MySQL应用程序执行的环境。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-applications" title="10.5配置应用程序字符集和校对"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.5节“配置应用程序字符集和校对”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关字符集和错误消息的更多信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-errors" title="10.6错误消息字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.6节“错误消息字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-applications"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.5配置应用程序字符集和校对</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096484192"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于使用默认MySQL字符集和归类（</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">存储数据的应用程序</font><font style="vertical-align: inherit;">，不需要特殊配置。</font><font style="vertical-align: inherit;">如果应用程序需要使用不同的字符集或排序规则进行数据存储，则可以通过几种方式配置字符集信息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为每个数据库指定字符设置 </font><font style="vertical-align: inherit;">例如，使用一个数据库的应用程序可能需要
           </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而使用另一个数据库的应用程序可能需要</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在服务器启动时指定字符设置。</font><font style="vertical-align: inherit;">这会导致服务器对所有不作其他安排的应用程序使用给定的设置。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您从源代码构建MySQL，请在配置时指定字符设置。</font><font style="vertical-align: inherit;">这会导致服务器对所有应用程序使用给定的设置，而无需在服务器启动时指定它们。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      当不同的应用程序需要不同的字符设置时，按数据库技术提供了很大的灵活性。</font><font style="vertical-align: inherit;">如果大多数或所有应用程序使用相同的字符集，则在服务器启动或配置时指定字符设置可能最为方便。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于数据库或服务器启动技术，这些设置控制数据存储的字符集。</font><font style="vertical-align: inherit;">应用程序还必须告诉服务器使用哪种字符集进行客户端/服务器通信，如下面的说明所述。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      此处显示的示例假定使用</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      字符集和</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类。
    </font></font></p><p>
      <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个数据库指定字符设置 </font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要创建一个数据库，以便其表将使用给定的缺省字符集和排序规则来存储数据，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-database" title="13.1.11 CREATE DATABASE语法"><code class="literal">CREATE DATABASE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      类似下面</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">语句：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE DATABASE mydb</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  默认字符集utf8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  DEFAULT COLLATE utf8_general_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在数据库中创建的表将使用</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      和</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认为任意字符列。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      每次连接时，使用数据库的应用程序也应配置与服务器的连接。</font><font style="vertical-align: inherit;">这可以通过</font></font><code class="literal">SET NAMES 'utf8'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接后</font><font style="vertical-align: inherit;">执行</font><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">来完成</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">无论连接方式如何，该语句都可以使用：</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端，PHP脚本等等。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在某些情况下，可以将连接配置为使用其他方式使用所需的字符集。</font><font style="vertical-align: inherit;">例如，对于使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql创建的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接</font><font style="vertical-align: inherit;">，您可以指定</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      命令行选项以实现与之相同的效果</font></font><code class="literal">SET
      NAMES 'utf8'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关配置客户端连接的更多信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和归类”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果更改数据库的缺省字符集或排序规则，则必须删除并重新创建使用数据库缺省值的存储例程，以便它们使用新的缺省值。</font><font style="vertical-align: inherit;">（在存储例程中，如果未明确指定字符集或排序规则，则具有字符数据类型的变量将使用数据库默认值，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-procedure" title="13.1.16 CREATE PROCEDURE和CREATE FUNCTION语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.1.16节“CREATE PROCEDURE和CREATE FUNCTION语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
    </font></font></p><p>
      <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务器启动时指定字符设置。</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在服务器启动时选择字符集和排序规则，请使用
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。</font><font style="vertical-align: inherit;">例如，要在选项文件中指定选项，请包括以下行：
    </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
字符集服务器= UTF8</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
核对服务器= utf8_general_ci</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这些设置应用于服务器范围，并作为由任何应用程序创建的数据库以及在这些数据库中创建的表的默认值应用。
    </font></font></p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如前所述</font><font style="vertical-align: inherit;">
      ，应用程序仍然需要在连接后使用</font><font style="vertical-align: inherit;">或等效</font><font style="vertical-align: inherit;">连接来配置其连接</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可能会试图启动服务器，并</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_init_connect"><code class="option">--init_connect="SET NAMES 'utf8'"</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      选择使</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个连接的客户端自动执行</font><font style="vertical-align: inherit;">的
       </font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，这将产生不一致的结果，因为</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_init_connect"><code class="literal">init_connect</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于具有该</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权的</font><font style="vertical-align: inherit;">用户不会执行</font><font style="vertical-align: inherit;">该
       </font><font style="vertical-align: inherit;">值
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p>
      <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL配置时指定字符设置。</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要从源代码配置和构建MySQL时选择字符集和排序规则，请使用</font><span class="command"><strong><font style="vertical-align: inherit;"> CMake</font></strong></span><font style="vertical-align: inherit;">的
      </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_charset"><code class="option">DEFAULT_CHARSET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
      </font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_collation"><code class="option">DEFAULT_COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项
      </font><font style="vertical-align: inherit;">：
    </font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake。</font><font style="vertical-align: inherit;">-DEFEFAULT_CHARSET = utf8 \</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  -DDEFAULT_COLLATION = utf8_general_ci</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      生成的服务器使用</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
       </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为数据库和表的默认值以及客户端连接。</font><font style="vertical-align: inherit;">在服务器启动时</font><font style="vertical-align: inherit;">不需要使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定这些默认值。</font><font style="vertical-align: inherit;">应用程序</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在连接到服务器后</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">或等效</font><font style="vertical-align: inherit;">连接来配置连接也是不必要
       </font><font style="vertical-align: inherit;">的。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      无论您如何配置应用程序使用的MySQL字符集，您还必须考虑这些应用程序执行的环境。</font><font style="vertical-align: inherit;">如果您将使用从您在编辑器中创建的文件中获取的UTF-8文本发送语句，则应该编辑该文件，并将环境的语言环境设置为UTF-8，以便文件编码正确并使操作系统正确处理它。</font><font style="vertical-align: inherit;">如果你使用
       </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端从终端窗口内，窗口必须配置为使用UTF-8或字符可能无法正确显示。</font><font style="vertical-align: inherit;">对于在Web环境中执行的脚本，脚本必须正确处理字符编码以便与MySQL服务器交互，并且必须生成正确指示编码的页面，以便浏览器知道如何显示页面内容。</font><font style="vertical-align: inherit;">例如，你可以</font></font><code class="literal">&lt;meta&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在你的</font></font><code class="literal">&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素中</font><font style="vertical-align: inherit;">包含这个</font><font style="vertical-align: inherit;">标签
       </font><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="html" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;meta http-equiv =“Content-Type”content =“text / html; charset = utf-8”/&gt;
</font></font></pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-errors"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.6错误消息字符集</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍MySQL服务器如何使用字符集构建错误消息并将其返回给客户端。</font><font style="vertical-align: inherit;">有关错误消息的语言（而不是字符集）的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#error-message-language" title="10.11设置错误消息语言"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.11节“设置错误消息语言”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关配置错误记录的一般信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.4.2节“错误记录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      服务器使用UTF-8构造错误消息并将它们返回给由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">指定的字符集中的客户端
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      服务器按如下方式构造错误消息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          消息模板使用UTF-8。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          消息模板中的参数将替换为适用于特定错误发生的值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              标识符（如表或列名称）在内部使用UTF-8，因此它们按原样复制。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              字符（非二进制）字符串值从其字符集转换为UTF-8。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              二进制字符串值复制是用于字节范围</font></font><code class="literal">0x20</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font></font><code class="literal">0x7E</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并使用</font></font><code class="literal">\x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十六进制编码该范围之外字节。</font><font style="vertical-align: inherit;">例如，如果发生重复键错误用于试图插入
               </font></font><code class="literal">0x41CF9F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到一个
               </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">VARBINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一的列，得到的错误消息使用UTF-8编码的与一些字节的十六进制：
            </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键1的重复条目'A \ xC3 \ x9F'
</font></font></pre></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要在客户端构建完毕后向客户端返回消息，服务器会将其从UTF-8转换为由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      系统变量</font><font style="vertical-align: inherit;">指定的字符集</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">的值</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则不发生转换。</font><font style="vertical-align: inherit;">如果变量的值也不会发生转换
       </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为它与原始错误消息字符集相匹配。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于无法用字符表示的字符，
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在转换过程中可能会发生一些编码。</font><font style="vertical-align: inherit;">编码使用Unicode代码点值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          基本多语言平面（BMP）范围（</font></font><code class="literal">0x0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font></font><code class="literal">0xFFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中的</font><font style="vertical-align: inherit;">字符</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">表示法</font><font style="vertical-align: inherit;">编写
           </font><font style="vertical-align: inherit;">。
        </font></font><code class="literal">\<em class="replaceable"><code>nnnn</code></em></code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          BMP范围之外的字符（</font></font><code class="literal">0x01000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          to </font></font><code class="literal">0x10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）使用</font><font style="vertical-align: inherit;">
          符号</font><font style="vertical-align: inherit;">来书写
           </font><font style="vertical-align: inherit;">。
</font></font><code class="literal">\+<em class="replaceable"><code>nnnnnn</code></em></code><font style="vertical-align: inherit;"></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      客户端可以设置
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为控制他们收到错误消息的字符集。</font><font style="vertical-align: inherit;">该变量可以直接设置，也可以通过如下方式间接设置
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-conversion"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.7列字符集转换</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要将二进制或非二进制字符串列转换为使用特定字符集，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要成功转换，必须符合以下条件之一：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果列有一个二进制数据类型（</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">BINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">VARBINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">BLOB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），它包含必须使用单字节字符集编码的所有值（字符集你转换列）。</font><font style="vertical-align: inherit;">如果您使用二进制列将信息存储在多个字符集中，则MySQL无法知道哪些值使用哪个字符集并且无法正确转换数据。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果列具有一个非二进制数据类型（</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），其内容应在列的字符集，而不是一些其他字符集编码。</font><font style="vertical-align: inherit;">如果内容使用不同的字符集进行编码，则可以先将列转换为使用二进制数据类型，然后再转换为具有所需字符集的非二进制列。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设一个表</font></font><code class="literal">t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个名为</font></font><code class="literal">col1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defined
       </font><font style="vertical-align: inherit;">的二进制列</font></font><code class="literal">VARBINARY(50)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">假设列中的信息使用单个字符集进行编码，则可以将其转换为具有该字符集的非二进制列。</font><font style="vertical-align: inherit;">例如，如果</font></font><code class="literal">col1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含表示字符集中的</font></font><code class="literal">greek</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符的</font><font style="vertical-align: inherit;">二进制数据</font><font style="vertical-align: inherit;">，则</font><font style="vertical-align: inherit;">可以按如下方式进行转换：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t MODIFY col1 VARCHAR（50）CHARACTER SET greek;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您的原始列有一种类型
       </font></font><code class="literal">BINARY(50)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您可以将其转换为
       </font></font><code class="literal">CHAR(50)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但结果值将在最后填充</font></font><code class="literal">0x00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节，这可能不合需要。</font><font style="vertical-align: inherit;">要删除这些字节，请使用以下
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_trim"><code class="literal">TRIM()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPDATE t SET col1 = TRIM（TRAILING 0x00 FROM col1）;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设表中</font></font><code class="literal">t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个名为</font></font><code class="literal">col1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defined </font><font style="vertical-align: inherit;">的非二进制列</font><font style="vertical-align: inherit;">，</font></font><code class="literal">CHAR(50)
      CHARACTER SET latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但您希望将其转换为使用，
       </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以便您可以存储来自多种语言的值。</font><font style="vertical-align: inherit;">以下声明完成了这一点：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t MODIFY col1 CHAR（50）CHARACTER SET utf8;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果列中包含不在两个字符集中的字符，则转换可能是有损的。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您有MySQL 4.1之前的旧表，其中非二进制列包含的值实际上是在与服务器的默认字符集不同的字符集中编码的，则会发生特殊情况。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管MySQL的默认字符集是</font><font style="vertical-align: inherit;">一个应用程序，但应用程序可能已将</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">存储
       </font><font style="vertical-align: inherit;">在列中</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以将列转换为使用适当的字符集，但需要额外的步骤。</font><font style="vertical-align: inherit;">假设服务器的默认字符集是</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">col1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被定义为</font></font><code class="literal">CHAR(50)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      但其内容是</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">第一步是将列转换为二进制数据类型，该类型除去现有字符集信息而不执行任何字符转换：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t MODIFY col1 BLOB;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      下一步是将列转换为具有正确字符集的非二进制数据类型：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t MODIFY col1 CHAR（50）CHARACTER SET sjis;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这个过程要求表格没有被修改过，
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级到MySQL 4.1或更高版本之后。</font><font style="vertical-align: inherit;">在这种情况下，MySQL将使用存储在该列新值</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且列将包含的混合</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值，不能正确地转换。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果最初创建列时指定了属性，则还应该在更改表时指定它们
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果你指定</font></font><code class="literal">NOT NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了一个明确的
       </font></font><code class="literal">DEFAULT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值，你也应该在</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明中</font><font style="vertical-align: inherit;">提供它们</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，结果列定义将不包含这些属性。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要转换表中的所有字符列，该</font><font style="vertical-align: inherit;">语句可能很有用。</font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><font style="vertical-align: inherit;">第13.1.8节“ALTER TABLE语法”</font></a><font style="vertical-align: inherit;">。
</font></font><code class="literal">ALTER
      TABLE ... CONVERT TO CHARACTER SET
      <em class="replaceable"><code>charset</code></em></code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-collations"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8整理问题</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.1在SQL语句中使用COLLATE</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collate-precedence"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.2 COLLATE子句优先级</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-compatibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.3字符集和校对兼容性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-coercibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.4表达式中的排序强制性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-binary-collations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.5二进制归类与_bin归类比较</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-effect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.6整理效果的例子</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.7在INFORMATION_SCHEMA搜索中使用排序规则</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下各节讨论字符集归类的各个方面。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collate"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.1在SQL语句中使用COLLATE</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用该</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句，您可以重写默认排序规则以进行比较。
        </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会用在SQL语句的各个部分。</font><font style="vertical-align: inherit;">这里有些例子：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">ORDER BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDER BY k COLLATE latin1_german2_ci;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">AS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT k COLLATE latin1_german2_ci AS k1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDER BY k1;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">GROUP BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GROUP BY k COLLATE latin1_german2_ci;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用聚合函数：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT MAX（k COLLATE latin1_german2_ci）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM t1;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">DISTINCT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT DISTINCT k COLLATE latin1_german2_ci</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM t1;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">WHERE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">     选择 *</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     WHERE _latin1'Müller'COLLATE latin1_german2_ci = k;</font></font><font></font>
</pre><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">     选择 *</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     其中k LIKE _latin1'Müller'COLLATE latin1_german2_ci;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            随着</font></font><code class="literal">HAVING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从t1开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GROUP BY k</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HAVING k = _latin1'Müller'COLLATE latin1_german2_ci;</font></font><font></font>
</pre></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collate-precedence"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.2 COLLATE子句优先级</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句具有高优先级（高于</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_or"><code class="literal">||</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），因此以下两个表达式是等价的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x || </font><font style="vertical-align: inherit;">y COLLATE z</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
x || </font><font style="vertical-align: inherit;">（y COLLATE z）</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-compatibility"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.3字符集和校对兼容性</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个字符集都有一个或多个排序规则，但每个排序规则仅与一个字符集关联。</font><font style="vertical-align: inherit;">因此，以下语句会导致错误消息，因为</font></font><code class="literal">latin2_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则对</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">不合法</font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT _latin1 'x' COLLATE latin2_bin;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
错误1253（42000）：COLLATION'latin2_bin'无效</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于CHARACTER SET'latin1'</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-coercibility"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.4表达式中的排序强制性</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096313648"></a><a class="indexterm" name="idm140528096312160"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在绝大多数语句中，很明显MySQL用来解析比较操作的排序规则。</font><font style="vertical-align: inherit;">例如，在下列情况下，应清楚排序规则是列的排序规则</font></font><code class="literal">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT x FROM T ORDER BY x;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT x FROM T WHERE x = x;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT DISTINCT x FROM T;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        但是，对于多个操作数，可能会有歧义。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT x FROM T WHERE x ='Y';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        比较应该使用列的整理
         </font></font><code class="literal">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还是字符串文字
         </font></font><code class="literal">'Y'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font><font style="vertical-align: inherit;">双方</font></font><code class="literal">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
         </font></font><code class="literal">'Y'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有排序规则，所以其整理的优先级？
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在比较以外的环境中也可能出现排序组合。</font><font style="vertical-align: inherit;">例如，多参数连接操作（如</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_concat"><code class="literal">CONCAT(x,'Y')</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        组合其参数以生成单个字符串）。</font><font style="vertical-align: inherit;">结果应该是什么排序？
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了解决这样的问题，MySQL检查一个项目的排序规则是否可以强制到另一个项目的排序规则。</font><font style="vertical-align: inherit;">MySQL按如下方式分配强制值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            明确的</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条款具有0的强制性（根本不强制）。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            两个不同排序的字符串的连接具有1的可压缩性。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            列或存储的例程参数或局部变量的排序规则具有2的可压缩性。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            阿</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统常数</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（由功能，例如返回的字符串</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_user"><code class="literal">USER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_version"><code class="literal">VERSION()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）具有为3的可压缩性。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个文字的整理有一个4的可压缩性。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            数值或时间值的校对具有5的可压缩性。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者派生自的表达式</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有6的可压缩性。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL使用以下规则的强制值来解决歧义：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用具有最低矫顽力值的排序规则。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果双方都具有相同的可压缩性，那么：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果双方都是Unicode的，或者双方都不是Unicode的话，那是错误的。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果其中一方具有Unicode字符集，另一方具有非Unicode字符集，则具有Unicode字符集的一方获胜，并且将自动字符集转换应用于非Unicode一方。</font><font style="vertical-align: inherit;">例如，以下语句不会返回错误：
              </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT CONCAT（utf8_column，latin1_column）FROM t1;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                它返回一个结果，它的字符集
                 </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相同的排序规则
                 </font></font><code class="literal">utf8_column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">值
                 </font></font><code class="literal">latin1_column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将自动转换为</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在连接前。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                为与来自相同的字符集的操作数但混合一个操作</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理和一个</font></font><code class="literal">_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">_cs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                归类，则</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用归类。</font><font style="vertical-align: inherit;">这与混合非二进制字符串和二进制字符串的操作如何将操作数评估为二进制字符串类似，不同之处在于它用于归类而不是数据类型。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        尽管自动转换不在SQL标准中，但该标准确实表示每个字符集（以支持的字符表示）是</font><font style="vertical-align: inherit;">Unicode </font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于超集的内容适用于子集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这一</font><font style="vertical-align: inherit;">原则是众所周知的</font><span class="quote"><span class="quote"><font style="vertical-align: inherit;">，因此</font></span></span><font style="vertical-align: inherit;">我们相信Unicode的排序规则可用于与非Unicode字符串的比较。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下表说明了上述规则的一些应用。
</font></font></p>
<div class="informaltable">
<table summary="Comparisons and the collation used for each comparison."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对照</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用整理</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><code class="literal">column1 = 'A'</code></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用排序规则 </font></font><code class="literal">column1</code></td>
          </tr><tr>
            <td scope="row"><code class="literal">column1 = 'A' COLLATE x</code></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用排序规则 </font></font><code class="literal">'A' COLLATE x</code></td>
          </tr><tr>
            <td scope="row"><code class="literal">column1 COLLATE x = 'A' COLLATE y</code></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要确定字符串表达式的强制性，请使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#information-functions" title="12.14信息功能"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.14节“信息函数”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT COERCIBILITY('A' COLLATE latin1_swedish_ci);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        - &gt; 0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT COERCIBILITY(VERSION());</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        - &gt; 3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT COERCIBILITY('A');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        - &gt; 4</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT COERCIBILITY(1000);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        - &gt; 5</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了将数值或时间值隐式转换为字符串（如</font></font><code class="literal">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式中</font><font style="vertical-align: inherit;">的参数）</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_concat"><code class="literal">CONCAT(1, 'abc')</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，结果是一个字符（非二进制）字符串，它具有由</font><font style="vertical-align: inherit;">系统变量</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">确定的字符集和归类
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#type-conversion" title="12.2表达式评估中的类型转换"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.2节“表达式评估中的类型转换”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-binary-collations"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.5二进制归类与_bin归类比较</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096244976"></a><a class="indexterm" name="idm140528096243904"></a><a class="indexterm" name="idm140528096242416"></a><a class="indexterm" name="idm140528096241344"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        比较二进制字符串的</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则与非</font><font style="vertical-align: inherit;">二进制字符串的
         </font><font style="vertical-align: inherit;">排序规则。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        二进制字符串（如使用所存储的
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">BINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">VARBINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">BLOB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型）有一个字符集和归类命名</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">二进制字符串是字节序列，这些字节的数字值决定比较和排序顺序。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        非二进制字符串（如使用所存储的
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型）具有一个字符集和比其他排序规则</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">给定的非二进制字符集可以有多个排序规则，每个排序规则都定义了集合中字符的特定比较和排序顺序。</font><font style="vertical-align: inherit;">其中之一是字符集的二进制排序规则，由</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则名称中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">后缀</font><font style="vertical-align: inherit;">指示</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，对于二进制排序规则
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名
         </font></font><code class="literal">latin1_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核对不同于
         </font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在几个方面归类。
      </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于比较和分类的单位。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          二进制字符串是字节序列。</font><font style="vertical-align: inherit;">对于
           </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理，比较和排序基于数字字节值。</font><font style="vertical-align: inherit;">非二进制字符串是字符序列，可能是多字节。</font><font style="vertical-align: inherit;">非二进制字符串的排序规则定义了用于比较和排序的字符值的排序。</font><font style="vertical-align: inherit;">对于
           </font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则，此排序基于数字字符代码值，与二进制字符串的排序类似，但字符代码值可能是多字节。
        </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集转换。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          非二进制字符串具有字符集，并且在很多情况下会自动转换为另一个字符集，即使字符串具有</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从具有不同字符集的另一列分配列值时：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPDATE t1 SET utf8_bin_column = latin1_column;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t1（latin1_column）SELECT utf8_bin_column FROM t2;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为列</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串文字</font><font style="vertical-align: inherit;">分配列值时
             </font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置名称latin1;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t1（utf8_bin_column）VALUES（'string-in-latin1'）;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从服务器向客户端发送结果时：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置名称latin1;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT utf8_bin_column FROM t2;</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于二进制字符串列，不会发生转换。</font><font style="vertical-align: inherit;">对于前面的例子，字符串值被复制。
      </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lettercase转换。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          非二进制字符集的排序规则提供有关字符串的信息，因此非二进制字符串中的字符可以从一个字母集转换为另一个字符集，即使对于</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略字母顺序的排序规则：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES latin1 COLLATE latin1_bin;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT LOWER('aA'), UPPER('zZ');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- ------------- + +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">LOWER（'aA'）| </font><font style="vertical-align: inherit;">UPPER（'zZ'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- ------------- + +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">aa | </font><font style="vertical-align: inherit;">ZZ |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- ------------- + +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        lettercase的概念不适用于二进制字符串中的字节。</font><font style="vertical-align: inherit;">要执行信箱转换，必须将字符串转换为非二进制字符串：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES binary;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT LOWER('aA'), LOWER(CONVERT('aA' USING latin1));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">LOWER（'aA'）| </font><font style="vertical-align: inherit;">LOWER（CONVERT（'aA'使用latin1））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">aA | </font><font style="vertical-align: inherit;">aa |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------------------------- +</font></font><font></font>
</pre><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在比较中追踪空间处理。&nbsp;</font></font></b><a class="indexterm" name="idm140528096198928"></a><a class="indexterm" name="idm140528096197440"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          非二进制字符串对于所有排序规则都具有PAD SPACE行为，包括</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则。</font><font style="vertical-align: inherit;">尾部空格在比较中无足轻重：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES utf8 COLLATE utf8_bin;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT 'a ' = 'a';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'a'='a'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于二进制字符串，所有字符在比较中都很重要，包括尾随空格：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES binary;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT 'a ' = 'a';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'a'='a'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font>
</pre><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拖尾空间处理插入和检索。&nbsp;</font></font></b>
          <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列存储非二进制字符串。</font><font style="vertical-align: inherit;">小于</font><font style="vertical-align: inherit;">字符的</font><font style="vertical-align: inherit;">值
           </font><font style="vertical-align: inherit;">在插入时会扩展为空格。</font><font style="vertical-align: inherit;">为了检索，尾部空格被删除。
        </font></font><code class="literal">CHAR(<em class="replaceable"><code>N</code></em>)</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"></font></p><p>
        <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列存储二进制字符串。</font><font style="vertical-align: inherit;">小于</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节的</font><font style="vertical-align: inherit;">值
         </font></font><code class="literal">0x00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在插入时</font><font style="vertical-align: inherit;">用</font><font style="vertical-align: inherit;">字节</font><font style="vertical-align: inherit;">扩展
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了检索，没有东西被删除; </font><font style="vertical-align: inherit;">总是返回声明长度的值。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font><font style="vertical-align: inherit;">
mysql&gt; </font><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>CREATE TABLE t1 (</code></strong>
       <strong class="userinput"><code>  a CHAR(10) CHARACTER SET utf8 COLLATE utf8_bin,</code></strong>
       <strong class="userinput"><code>  b BINARY(10)</code></strong>
       <strong class="userinput"><code>);</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>INSERT INTO t1 VALUES ('a','a');</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>SELECT HEX(a), HEX(b) FROM t1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------- + ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（a）| </font><font style="vertical-align: inherit;">HEX（b）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------- + ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">61 | </font><font style="vertical-align: inherit;">61000000000000000000 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------- + ---------------------- +</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-effect"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.6整理效果的例子</font></font></h3>

</div>

</div>

</div>
<p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例1：排序德语变音</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        假设</font></font><code class="literal">X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
         </font></font><code class="literal">T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">有这些</font><font style="vertical-align: inherit;">列值：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">围巾</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
穆勒</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MX系统</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        还假设使用以下语句检索列值：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从X COLLATE的T ORDER中选择X </font></font><em class="replaceable"><code>collation_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下表显示了如果我们</font></font><code class="literal">ORDER BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在不同的排序规则中</font><font style="vertical-align: inherit;">使用的结果顺序</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="informaltable">
<table summary="An example of the effect of collation, as described in the preceding text. The table shows the resulting order of values for three collations (latin1_swedish_ci, latin1_german1_ci, latin1_german2_ci) when using ORDER BY."><colgroup><col width="30%"><col width="30%"><col width="30%"></colgroup><thead><tr>
            <th scope="col"><code class="literal">latin1_swedish_ci</code></th>
            <th scope="col"><code class="literal">latin1_german1_ci</code></th>
            <th scope="col"><code class="literal">latin1_german2_ci</code></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">围巾</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">围巾</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穆勒</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX系统</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穆勒</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">围巾</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穆勒</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX系统</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MX系统</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在这个例子中导致不同排序顺序的字符是带有两个点的U（</font></font><code class="literal">ü</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），德国人称之为
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U变音符号”。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”</font></font></span>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            第一列显示了</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用瑞典/芬兰语整理规则</font><font style="vertical-align: inherit;">的结果，该
             </font><font style="vertical-align: inherit;">规则表示U变音符与Y分类。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            第二列显示了</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用德国DIN-1规则</font><font style="vertical-align: inherit;">的结果，该
             </font><font style="vertical-align: inherit;">规则表示U变音符与U分类。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            第三列显示了</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用德国DIN-2规则</font><font style="vertical-align: inherit;">的结果，该
             </font><font style="vertical-align: inherit;">规则表示U变音符与UE分类。
</font></font></p></li></ul>
</div>
<p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例2：搜索德语变音符号</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        假设你有三个表只有字符集和排序规则有所不同：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES utf8;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font><font style="vertical-align: inherit;">
mysql&gt; </font><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>CREATE TABLE german1 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET latin1 COLLATE latin1_german1_ci;</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>CREATE TABLE german2 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET latin1 COLLATE latin1_german2_ci;</code></strong><font style="vertical-align: inherit;"></font><strong class="userinput"><code>CREATE TABLE germanutf8 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET utf8 COLLATE utf8_unicode_ci;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个表格包含两条记录：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>INSERT INTO german1 VALUES ('Bar'), ('Bär');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>INSERT INTO german2 VALUES ('Bar'), ('Bär');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>INSERT INTO germanutf8 VALUES ('Bar'), ('Bär');</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        上面的两个排序规则有一个</font></font><code class="literal">A = Ä</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        平等，一个没有这样的平等（</font></font><code class="literal">latin1_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">出于这个原因，你会得到这些结果进行比较：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM german1 WHERE c = 'Bär';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Bär|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM german2 WHERE c = 'Bär';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Bär|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM germanutf8 WHERE c = 'Bär';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Bär|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这不是一个错误，而是排序属性</font></font><code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（所显示的排序按照德国DIN 5007标准完成）的结果。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-information-schema"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.8.7在INFORMATION_SCHEMA搜索中使用排序规则</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528096116496"></a><a class="indexterm" name="idm140528096115008"></a><p><font style="vertical-align: inherit;"></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格中的</font><font style="vertical-align: inherit;">
        字符串列</font><font style="vertical-align: inherit;">具有</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大小写不敏感</font><font style="vertical-align: inherit;">的排序规则</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，对于与文件系统中表示的对象（例如数据库和表）对应的值</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，取决于基础文件系统的特征和</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        系统变量</font><font style="vertical-align: inherit;">的值，字符串列中的</font><font style="vertical-align: inherit;">搜索</font><font style="vertical-align: inherit;">可能区分大小写或不敏感</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果文件系统区分大小写，搜索可能区分大小写。</font><font style="vertical-align: inherit;">本部分描述了此行为以及如何在必要时对其进行修改; </font><font style="vertical-align: inherit;">另见Bug＃34921。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        假设查询在</font></font><code class="literal">SCHEMATA.SCHEMA_NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中
         </font><font style="vertical-align: inherit;">搜索
         </font></font><code class="literal">test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">在Linux中，文件系统是大小写敏感的，所以比较
         </font></font><code class="literal">SCHEMATA.SCHEMA_NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有
         </font></font><code class="literal">'test'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比赛，但比较
         </font></font><code class="literal">'TEST'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'test';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">测试|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'TEST';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
空集（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这些结果在
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统系统变量设置为0时发生。将值更改
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为1或2会导致第二个查询返回与第一个查询相同（非空）的结果。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在Windows或OS X，文件系统是不区分大小写，所以比较符合双方</font></font><code class="literal">'test'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">'TEST'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'test';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">测试|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'TEST';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TEST |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下</font><font style="vertical-align: inherit;">
        ，价值
         </font><font style="vertical-align: inherit;">没有任何区别。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        出现上述问题是因为
         </font><font style="vertical-align: inherit;">在搜索与文件系统中表示的对象相对应的值时，</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不使用排序规则进行
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询。</font><font style="vertical-align: inherit;">这是针对</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font><font style="vertical-align: inherit;">实施的文件系统扫描优化的结果</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关这些优化的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/optimization.html#information-schema-optimization" title="8.2.3优化INFORMATION_SCHEMA查询"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第8.2.3节“优化INFORMATION_SCHEMA查询”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">上的字符串操作的结果
         </font><font style="vertical-align: inherit;">与预期不同，则解决方法是使用显式
         </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句强制执行合适的归类（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collate" title="10.8.1在SQL语句中使用COLLATE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.1节“在SQL语句中使用COLLATE”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">例如，为了执行不区分大小写的搜索中，使用</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列名：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME COLLATE utf8_general_ci = 'test';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">测试|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME COLLATE utf8_general_ci = 'TEST';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">测试|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在前面的查询中，将该</font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句应用于
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列名</font><font style="vertical-align: inherit;">是很重要的
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">应用于
         </font></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较值不起作用。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您也可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_upper"><code class="literal">UPPER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_lower"><code class="literal">LOWER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHERE UPPER（SCHEMA_NAME）='TEST'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE LOWER（SCHEMA_NAME）='test'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        尽管即使在具有区分大小写的文件系统的平台上也可以执行不区分大小写的比较，如刚才所示，并不总是正确的做法。</font><font style="vertical-align: inherit;">在这样的平台上，可能有多个名称仅在lettercase中不同的对象。</font><font style="vertical-align: inherit;">例如，名为</font></font><code class="literal">city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">CITY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和的
         </font><font style="vertical-align: inherit;">表
         </font></font><code class="literal">City</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以同时存在。</font><font style="vertical-align: inherit;">考虑一下搜索是否应该匹配所有这些名字或者只是一个，并相应地写入查询。</font><font style="vertical-align: inherit;">下面的第一个比较（with </font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是区分大小写的; </font><font style="vertical-align: inherit;">其他人不是：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHERE TABLE_NAME COLLATE utf8_bin ='City'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE TABLE_NAME COLLATE utf8_general_ci ='city'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE UPPER（TABLE_NAME）='CITY'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE LOWER（TABLE_NAME）='city'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串列中</font><font style="vertical-align: inherit;">搜索</font><font style="vertical-align: inherit;">引用</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        自身的</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">会使用</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则，因为它</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">文件系统中未表示</font><font style="vertical-align: inherit;">的
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">例如，比较
         </font></font><code class="literal">SCHEMATA.SCHEMA_NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配
         </font></font><code class="literal">'information_schema'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或不
         </font></font><code class="literal">'INFORMATION_SCHEMA'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑平台：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'information_schema';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'INFORMATION_SCHEMA';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SCHEMA_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-unicode"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9 Unicode支持</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.1 utf8mb4字符集（4字节UTF-8 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.2 utf8mb3字符集（3字节UTF-8 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.3 utf8字符集（utf8mb3的别名）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-ucs2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.4 ucs2字符集（UCS-2 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.5 utf16字符集（UTF-16 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf16le"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.6 utf16le字符集（UTF-16LE Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.7 utf32字符集（UTF-32 Unicode编码）</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-conversion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.8转换3字节和4字节的Unicode字符集</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      Unicode标准包括基本多语言平面（BMP）中的字符和位于BMP之外的补充字符。</font><font style="vertical-align: inherit;">本节描述了对MySQL中Unicode的支持。</font><font style="vertical-align: inherit;">有关Unicode标准本身的信息，请访问</font></font><a class="ulink" href="http://www.unicode.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode Consortium网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      BMP字符具有以下特征：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          他们的代码点值在0和65535（或
           </font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">U+FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）之间。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          它们可以使用8位，16位或24位（1到3字节）的可变长度编码进行编码。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          它们可以用16位（2字节）的固定长度编码进行编码。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于几乎所有主要语言的角色而言，这些都足够了
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      补充字符位于BMP之外：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          他们的代码点值介于</font></font><code class="literal">U+10000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和</font><font style="vertical-align: inherit;">之间</font></font><code class="literal">U+10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对辅助字符的Unicode支持需要字符集的字符集范围在BMP字符之外，因此需要比BMP字符更多的空间（每个字符最多4个字节）。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      根据RFC 3629实现用于编码Unicode数据的UTF-8（具有8位单元的Unicode转换格式）方法，该文件描述了从一个字节到四个字节的编码序列。</font><font style="vertical-align: inherit;">UTF-8的思想是使用不同长度的字节序列对各种Unicode字符进行编码：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          基本拉丁字母，数字和标点符号使用一个字节。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          大多数欧洲和中东脚本字母适合于2字节序列：扩展拉丁字母（包括波浪形，巨大，尖锐，严重和其他口音），西里尔语，希腊语，亚美尼亚语，希伯来语，阿拉伯语，叙利亚语等。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          韩文，中文和日文表意文字使用3字节或4字节的序列。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL支持这些Unicode字符集：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-8编码，每个字符使用1到4个字节。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-8编码，每个字符使用1到3个字节。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一个别名
           </font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UCS-2编码，每个字符使用两个字节。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-16编码，每个字符使用两个或四个字节。</font><font style="vertical-align: inherit;">喜欢
           </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但带有补充字符的扩展名。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-16LE编码。</font><font style="vertical-align: inherit;">就像</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小端，而不是大端。
        </font></font></p></li><li class="listitem"><p>
          <code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-32编码，每个字符使用四个字节。
</font></font></p></li></ul>
</div>
<p>
      <a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-charset-characteristics" title="表10.2 Unicode字符集的一般特性"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.2“Unicode字符集常规特性”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结了MySQL支持的Unicode字符集的一般特性。
</font></font></p>
<div class="table">
<a name="charset-unicode-charset-characteristics"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.2 Unicode字符集的一般特性</font></font></b></p>
<div class="table-contents">
<table summary="General characteristics of Unicode character sets."><colgroup><col width="20%"><col width="40%"><col width="40%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的字符</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个字符需要的存储</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">utf8</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅限BMP</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1个，2个或3个字节</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ucs2</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅限BMP</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2个字节</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">utf8mb4</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BMP和补充</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1个，2个，3个或4个字节</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">utf16</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BMP和补充</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2或4个字节</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">utf16le</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BMP和补充</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2或4个字节</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">utf32</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BMP和补充</font></font></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4字节</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      BMP之外的字符与REPLACEMENT CHARACTER进行比较，并</font></font><code class="literal">'?'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在转换为仅支持BMP字符（</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的Unicode字符集时转换为</font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您使用支持补充字符的字符集，因此</font><font style="vertical-align: inherit;">比仅限BMP
       </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">字符集的字符集</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更宽</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则您的应用程序可能存在不兼容问题; </font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-conversion" title="10.9.8转换3字节和4字节的Unicode字符集"><font style="vertical-align: inherit;">第10.9.8节“在3字节和4字节的Unicode字符集之间转换”</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该部分还介绍了如何将表格从（3字节）</font><font style="vertical-align: inherit;">转换为（4字节）
       </font><font style="vertical-align: inherit;">，以及可能适用的约束条件。
    </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-conversion" title="10.9.8转换3字节和4字节的Unicode字符集"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      大多数Unicode字符集都可以使用类似的排序规则。</font><font style="vertical-align: inherit;">例如，每个具有丹麦核对，其名称是</font></font><code class="literal">utf8mb4_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">utf8mb3_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">utf8_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">ucs2_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">utf16_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
       </font></font><code class="literal">utf32_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例外是
       </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它只有两个归类。</font><font style="vertical-align: inherit;">有关Unicode归类及其区分属性（包括补充字符的归类属性）的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-sets" title="10.10.1 Unicode字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.10.1节“Unicode字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      UCS-2，UTF-16和UTF-32的MySQL实现以big-endian字节顺序存储字符，并且在值的开始处不使用字节顺序标记（BOM）。</font><font style="vertical-align: inherit;">其他数据库系统可能使用little-endian字节顺序或BOM。</font><font style="vertical-align: inherit;">在这种情况下，在这些系统和MySQL之间传输数据时需要执行值的转换。</font><font style="vertical-align: inherit;">UTF-16LE的实现是小端的。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL不使用UTF-8值的BOM。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      使用Unicode与服务器通信的客户端应用程序应相应地设置客户端字符集; </font><font style="vertical-align: inherit;">例如通过发表</font></font><code class="literal">SET NAMES 'utf8mb4'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明。
      </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能作为客户端字符集，这意味着他们没有为工作</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-character-set" title="13.7.4.2 SET CHARACTER SET语法"><code class="literal">SET CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下各节提供了有关MySQL中Unicode字符集的更多详细信息。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf8mb4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.1 utf8mb4字符集（4字节UTF-8 Unicode编码）</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528095967504"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">utfmb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集有以下特点：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            支持BMP和补充字符。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个多字节字符最多需要四个字节。
</font></font></p></li></ul>
</div>
<p>
        <code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只支持BMP字符并且每个字符最多使用三个字节</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">形成对比
         </font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于BMP字符，</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有相同的存储特征：相同的代码值，相同的编码，相同的长度。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于补充字符，</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            需要4个字节来存储它，而
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根本不能存储字符。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">转换</font><font style="vertical-align: inherit;">为时
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您不必担心转换补充字符，因为不会有任何字符。
</font></font></p></li></ul>
</div>
<p>
        <code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个超集
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此对于如下级联的操作，结果具有字符集
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和以下内容的排序规则
         </font></font><code class="literal">utf8mb4_col</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT CONCAT（utf8mb3_col，utf8mb4_col）;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        同样，该</font></font><code class="literal">WHERE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条款中</font><font style="vertical-align: inherit;">的以下比较</font><font style="vertical-align: inherit;">根据</font><font style="vertical-align: inherit;">以下内容
         </font><font style="vertical-align: inherit;">的排序规则进行工作</font></font><code class="literal">utf8mb4_col</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT * FROM utf8mb3_tbl，utf8mb4_tbl</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE utf8mb3_tbl.utf8mb3_col = utf8mb4_tbl.utf8mb4_col;</font></font><font></font>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为了节省空间</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，MySQL必须为</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列中的
           </font><font style="vertical-align: inherit;">每个字符保留四个字节，
           </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这是最大可能的长度。</font><font style="vertical-align: inherit;">例如，MySQL必须为使用的</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR(10)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
           </font><font style="vertical-align: inherit;">保留40个字节</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关数据类型存储的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#storage-requirements" title="11.8数据类型存储要求"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.8节“数据类型存储要求”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物理行存储的信息，包括</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
         </font></font><code class="literal">COMPACT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行格式的</font><font style="vertical-align: inherit;">表在内部</font><font style="vertical-align: inherit;">如何
         </font><font style="vertical-align: inherit;">处理UTF-8
         </font><font style="vertical-align: inherit;">列，请参见</font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-physical-record" title="14.8.1.2 InnoDB表的物理行结构"><font style="vertical-align: inherit;">第14.8.1.2节“InnoDB表的物理行结构”</font></a><font style="vertical-align: inherit;">。
</font></font><code class="literal">CHAR(<em class="replaceable"><code>N</code></em>)</code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-physical-record" title="14.8.1.2 InnoDB表的物理行结构"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf8mb3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.2 utf8mb3字符集（3字节UTF-8 Unicode编码）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095932448"></a><a class="indexterm" name="idm140528095931408"></a><a class="indexterm" name="idm140528095929920"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集有以下特点：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            仅支持BMP字符（不支持补充字符）
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个多字节字符最多需要三个字节。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用UTF-8数据但需要补充字符支持的应用程序应该使用</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb4" title="10.9.1 utf8mb4字符集（4字节UTF-8 Unicode编码）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.9.1节“utf8mb4字符集（4字节UTF-8 Unicode编码）”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p><a class="indexterm" name="idm140528095922352"></a><a class="indexterm" name="idm140528095921264"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        完全相同的字符集是在提供
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">也就是说，他们有相同的
         </font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_repertoire" title="剧目"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曲目</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是别名
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">字符限制是隐含的，而不是明确的名称。
      </font></font></p><p>
        <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以用在</font></font><code class="literal">CHARACTER
        SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条款，并
         </font><font style="vertical-align: inherit;">
        在</font><font style="vertical-align: inherit;">条款，其中
         </font><font style="vertical-align: inherit;">是
         </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
         </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
         </font><font style="vertical-align: inherit;">，等等。</font><font style="vertical-align: inherit;">例如：
      </font></font><code class="literal">utf8mb3_<em class="replaceable"><code>collation_substring</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">COLLATE</code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>collation_substring</code></em><font style="vertical-align: inherit;"></font><code class="literal">bin</code><font style="vertical-align: inherit;"></font><code class="literal">czech_ci</code><font style="vertical-align: inherit;"></font><code class="literal">danish_ci</code><font style="vertical-align: inherit;"></font><code class="literal">esperanto_ci</code><font style="vertical-align: inherit;"></font><code class="literal">estonian_ci</code><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t（s1 CHAR（1）CHARACTER SET utf8mb3;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT * FROM t WHERE s1 COLLATE utf8mb3_general_ci ='x';</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DECLARE x VARCHAR（5）字符集utf8mb3 COLLATE utf8mb3_danish_ci;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT CAST（'a'AS CHAR CHARACTER SET UTF8）COLLATE utf8_czech_ci;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL的转换立即实例
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中陈述
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所以在这样的语句</font></font><code class="literal">SHOW
        CREATE TABLE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">SELECT CHARACTER_SET_NAME
        FROM INFORMATION_SCHEMA.COLUMNS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code class="literal">SELECT
        COLLATION_NAME FROM INFORMATION_SCHEMA.COLUMNS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，用户将看到的名称</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font><font style="vertical-align: inherit;">。
      </font></font><code class="literal">utf8_<em class="replaceable"><code>collation_substring</code></em></code><font style="vertical-align: inherit;"></font></p><p>
        <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="literal">CHARACTER SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句</font><font style="vertical-align: inherit;">以外的情况下也是有效的
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --character-set-server = utf8mb3
</font></font></pre><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES'utf8mb3'; </font><font style="vertical-align: inherit;">/ *和其他具有相似效果的SET语句* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT _utf8mb3'a';</font></font><font></font>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为了节省空间</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，MySQL必须为</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列中的
           </font><font style="vertical-align: inherit;">每个字符保留三个字节，
           </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这是最大可能的长度。</font><font style="vertical-align: inherit;">例如，MySQL必须为使用的</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR(10)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
           </font><font style="vertical-align: inherit;">保留30个字节</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关数据类型存储的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#storage-requirements" title="11.8数据类型存储要求"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.8节“数据类型存储要求”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物理行存储的信息，包括</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
         </font></font><code class="literal">COMPACT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行格式的</font><font style="vertical-align: inherit;">表在内部</font><font style="vertical-align: inherit;">如何
         </font><font style="vertical-align: inherit;">处理UTF-8
         </font><font style="vertical-align: inherit;">列，请参见</font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-physical-record" title="14.8.1.2 InnoDB表的物理行结构"><font style="vertical-align: inherit;">第14.8.1.2节“InnoDB表的物理行结构”</font></a><font style="vertical-align: inherit;">。
</font></font><code class="literal">CHAR(<em class="replaceable"><code>N</code></em>)</code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-physical-record" title="14.8.1.2 InnoDB表的物理行结构"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf8"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.3 utf8字符集（utf8mb3的别名）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095881856"></a><a class="indexterm" name="idm140528095880816"></a><a class="indexterm" name="idm140528095879328"></a><p>
        <code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">的别名
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-utf8mb3" title="10.9.2 utf8mb3字符集（3字节UTF-8 Unicode编码）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.9.2节“utf8mb3字符集（3字节UTF-8 Unicode编码）”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-ucs2"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.4 ucs2字符集（UCS-2 Unicode编码）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095873888"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在UCS-2中，每个字符都由一个2字节的Unicode代码表示，其中最重要的字节在前。</font><font style="vertical-align: inherit;">例如：
         </font></font><code class="literal">LATIN CAPITAL LETTER A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有代码
         </font></font><code class="literal">0x0041</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其存储为2个字节的序列：
         </font></font><code class="literal">0x00 0x41</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code class="literal">CYRILLIC SMALL LETTER
        YERU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Unicode </font></font><code class="literal">0x044B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）以2字节序列存储：</font></font><code class="literal">0x04 0x4B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于Unicode字符及其代码，请参阅
         </font></font><a class="ulink" href="http://www.unicode.org/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode联合会网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集有以下特点：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            仅支持BMP字符（不支持补充字符）
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用固定长度的16位编码，每个字符需要两个字节。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf16"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.5 utf16字符集（UTF-16 Unicode编码）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095862432"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集是
         </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使补充的字符编码字符带有延伸设置：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于BMP字符，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
             </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有相同的存储特征：相同的代码值，相同的编码，相同的长度。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于补充字符，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个用32位表示字符的特殊序列。</font><font style="vertical-align: inherit;">这被称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代理</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制：对于一个大于数字的数字</font></font><code class="literal">0xffff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，取10位并将它们加入</font></font><code class="literal">0xd800</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并放入第一个16位字中，再加10位，并将它们加入
             </font></font><code class="literal">0xdc00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并放入下一个16位字。</font><font style="vertical-align: inherit;">因此，所有补充字符都需要32位，其中前16位是介于</font></font><code class="literal">0xd800</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的数字
             </font></font><code class="literal">0xdbff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，最后16位是介于</font></font><code class="literal">0xdc00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的数字
             </font></font><code class="literal">0xdfff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例子在Section中
            </font></font><a class="ulink" href="http://www.unicode.org/versions/Unicode4.0.0/ch15.pdf" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.5代理</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unicode 4.0文档的区域。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持代理并且</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不</font><font style="vertical-align: inherit;">支持
         </font><font style="vertical-align: inherit;">，所以有效性检查仅适用于</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不能插入顶级代理而没有底代理，反之亦然。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INSERT INTO t（ucs2_column）VALUES（0xd800）; </font><font style="vertical-align: inherit;">/ *法律* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t（utf16_column）VALUES（0xd800）; </font><font style="vertical-align: inherit;">/ *非法* /</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有是在技术上有效的，但不是真正的Unicode（这是Unicode的认为是，人物角色无有效性检查</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未分配的代码点</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私用</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，甚至出现
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非法移民</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样</font></font><code class="literal">0xffff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">例如，既然</font></font><code class="literal">U+F8FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是Apple徽标，这是合法的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INSERT INTO t（utf16_column）VALUES（0xf8ff）; </font><font style="vertical-align: inherit;">/ *法律* /
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于每个人来说，这些角色都不能指望同样的事物。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        因为MySQL必须允许最坏的情况（一个字符需要四个字节），所以
         </font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列或索引的最大长度只是列或索引的最大长度的一半</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表索引关键字</font><font style="vertical-align: inherit;">的最大长度</font><font style="vertical-align: inherit;">为3072字节，因此这些语句创建具有最长允许索引</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表的列：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE tf（s1 VARCHAR（1536）CHARACTER SET ucs2）ENGINE = MEMORY;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE INDEX i ON tf（s1）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE tg（s1 VARCHAR（768）CHARACTER SET utf16）ENGINE = MEMORY;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE INDEX i ON tg（s1）;</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf16le"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.6 utf16le字符集（UTF-16LE Unicode编码）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095832928"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这与</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小端而非大端相同。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-utf32"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.7 utf32字符集（UTF-32 Unicode编码）</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095829344"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集是固定长度（例如
         </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不像</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
        </font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的是</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">每个字符</font><font style="vertical-align: inherit;">使用16位），而不同的是</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（某些字符使用16位，其他使用32位）。
      </font></font></p><p>
        <code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要的空间是</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空间的
         </font><font style="vertical-align: inherit;">两倍多
         </font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有与</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可预测的存储</font><font style="vertical-align: inherit;">相同的优点</font><font style="vertical-align: inherit;">：所需的字节数
         </font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于字符数乘以4.另外，与</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码不同</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所以存储的值等于代码值。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了演示后面的优点是如何有用的，下面的例子展示了如何确定</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        给定</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码值的值：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ *假设代码值= 100cc LINEAR B WHEELED CHARIOT * /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE tmp（utf32_col CHAR（1）CHARACTER SET utf32，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  utf8mb4_col CHAR（1）CHARACTER SET utf8mb4）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO tmp VALUES（0x000100cc，NULL）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPDATE tmp SET utf8mb4_col = utf32_col;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT HEX（utf32_col），HEX（utf8mb4_col）FROM tmp;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL非常宽容添加未分配的Unicode字符或专用区域字符。</font><font style="vertical-align: inherit;">实际上只有一个有效性检查</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：没有代码值可能大于</font></font><code class="literal">0x10ffff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，这是非法的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INSERT INTO t（utf32_column）VALUES（0x110000）; </font><font style="vertical-align: inherit;">/ *非法* /
</font></font></pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-conversion"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.9.8转换3字节和4字节的Unicode字符集</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍在</font><font style="vertical-align: inherit;">字符集</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">之间转换字符数据时可能遇到的问题</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个讨论主要关注在</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间进行转换
           </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但类似的原则适用于在</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和字符集</font><font style="vertical-align: inherit;">之间进行转换，
           </font><font style="vertical-align: inherit;">例如</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符集的区别如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅支持基本多语言平面（BMP）中的字符。</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            另外还支持位于BMP之外的补充字符。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个字符最多使用三个字节。</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个字符最多使用四个字节。
</font></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个讨论是指</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集的名字更明确一些参考3字节和4个字节的UTF-8字符集的数据。</font><font style="vertical-align: inherit;">例外情况是在表定义中，
           </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为MySQL将</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些定义</font><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">指定的</font><font style="vertical-align: inherit;">实例转换</font><font style="vertical-align: inherit;">为</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这是别名）的
           </font><font style="vertical-align: inherit;">实例</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从转换的一个优点</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是，这使应用程序能够使用增补字符。</font><font style="vertical-align: inherit;">一个折衷是这可能会增加数据存储空间需求。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在表格内容方面，从转换
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        呈现没有问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于BMP字符，</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有相同的存储特征：相同的代码值，相同的编码，相同的长度。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于补充字符，</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            需要4个字节来存储它，而
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根本不能存储字符。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">转换</font><font style="vertical-align: inherit;">为时
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您不必担心转换补充字符，因为不会有任何字符。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        就表格结构而言，这些是主要的潜在不兼容性：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于可变长度的字符数据类型（</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型），在字符的最大允许长度是少
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比列
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的列。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于所有的字符数据类型（</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型），可被索引的最大字符数小于为
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比列
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的列。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        因此，要将表转换为</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        to </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可能需要更改某些列或索引定义。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表可以</font><font style="vertical-align: inherit;">通过使用</font><font style="vertical-align: inherit;">转换</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">假设一张表有这样的定义：
      </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER
        TABLE</code></a><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t1（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  col1 CHAR（10）CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  col2 CHAR（10）CHARACTER SET utf8 COLLATE utf8_bin NOT NULL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）CHARACTER SET utf8;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下语句转换</font></font><code class="literal">t1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为使用
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE t1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  默认字符集utf8mb4，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  MODIFY col1 CHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    字符集utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  MODIFY col2 CHAR（10）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        转换为</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to
         </font><font style="vertical-align: inherit;">时的catch </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个列或索引键的最大长度在</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方面不变
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，它在</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方面较小，
         </font><font style="vertical-align: inherit;">因为</font><span class="emphasis"><em><font style="vertical-align: inherit;">字符</font></em></span><font style="vertical-align: inherit;">的最大长度是四个字节而不是三个。</font><font style="vertical-align: inherit;">对于
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">CHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型，将你的MySQL表时观看了这些问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            检查</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列的</font><font style="vertical-align: inherit;">所有定义，</font><font style="vertical-align: inherit;">并确保它们不会超过存储引擎的最大长度。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            检查</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">上的所有索引，</font><font style="vertical-align: inherit;">并确保它们不会超过存储引擎的最大长度。</font><font style="vertical-align: inherit;">有时，由于存储引擎的增强，最大值可能会发生变化。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果上述条件适用，则必须减少定义的列或索引的长度，或继续使用
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
         </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下是可能需要进行结构更改的一些示例：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TINYTEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列最多可容纳255个字节，因此最多可容纳85个3字节或63个4字节字符。</font><font style="vertical-align: inherit;">假设您有一个</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TINYTEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的
             </font><font style="vertical-align: inherit;">列，
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但必须能够包含超过63个字符。</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除非您还将数据类型更改为更长的类型，例如</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">否则</font><font style="vertical-align: inherit;">无法将其转换
             </font><font style="vertical-align: inherit;">为
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            同样，一个很长的
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列可能需要改变，以较长的一个
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">TEXT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型，如果你想从转换</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于使用的表格</font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_compact_row_format" title="compact row format">COMPACT</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或
             </font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_redundant_row_format" title="redundant row format">REDUNDANT</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            行格式，</font><font style="vertical-align: inherit;">最大索引长度为767字节
             </font><font style="vertical-align: inherit;">，因此对于</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列，最多可以索引255或191个字符。</font><font style="vertical-align: inherit;">如果您当前有</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引长于191个字符的列，则必须索引较少数量的字符。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_compact_row_format" title="compact row format">COMPACT</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或
             </font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_redundant_row_format" title="redundant row format">REDUNDANT</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            行格式</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">表中
             </font><font style="vertical-align: inherit;">，这些列和索引定义是合法的：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">col1 VARCHAR（500）字符集utf8，INDEX（col1（255））
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            若要使用</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，索引必须更小：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">col1 VARCHAR（500）字符集utf8mb4，INDEX（col1（191））
</font></font></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用表格</font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_compressed_row_format" title="compressed row format">COMPRESSED</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              或
               </font></font><code class="literal"><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_dynamic_row_format" title="dynamic row format">DYNAMIC</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              行格式的</font><font style="vertical-align: inherit;">表格
               </font><font style="vertical-align: inherit;">，您可以启用该
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选项以允许</font><font style="vertical-align: inherit;">长度超过767字节（最多3072字节）的</font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_index_prefix" title="索引前缀"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引键字前缀</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">创建这样的表格还需要选项值
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_file_format"><code class="literal">innodb_file_format=barracuda</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              和
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table=true</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）在这种情况下，启用该
               </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选项使您能够</font><font style="vertical-align: inherit;">分别</font><font style="vertical-align: inherit;">为</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
               </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">指定最多1024或768个字符</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关相关信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-restrictions" title="14.8.1.7 InnoDB表的限制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.8.1.7节“InnoDB表限制”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        只有当您的列或索引很长时，以上类型的更改才可能需要。</font><font style="vertical-align: inherit;">否则，你应该能够在您的表格从转换
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有问题，使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如前所述。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下几项总结了其他潜在的不兼容性：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            4字节的UTF-8（</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">性能</font><font style="vertical-align: inherit;">比3字节的UTF-8（</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">慢</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了避免这种惩罚，请继续使用
             </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">SET NAMES 'utf8mb4'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致使用连接字符集的4字节字符集。</font><font style="vertical-align: inherit;">只要没有从服务器发送4字节字符，应该没有问题。</font><font style="vertical-align: inherit;">否则，希望每个字符最多接收三个字节的应用程序可能会有问题。</font><font style="vertical-align: inherit;">相反，希望发送4字节字符的应用程序必须确保服务器能够理解它们。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于复制，如果要在主设备上使用支持补充字符的字符集，则所有从设备也必须理解它们。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            另外，请记住一般原则，即如果表在主服务器和从服务器上具有不同的定义，则可能会导致意外的结果。</font><font style="vertical-align: inherit;">例如，最大索引关键字长度的差异会在</font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主站和
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从站上</font><font style="vertical-align: inherit;">使用有风险
             </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果你已经转换为</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或
         </font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后再决定转换回
         </font></font><code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例如，降级到旧版本的MySQL），这些事项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据不会出现什么问题。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            服务器必须足够近以识别引用要转换的字符集的定义。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于参照对象定义
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字符集，你可以把它们扔掉</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前降级，编辑备份文件来修改的实例
             </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后重新在旧服务器上的文件，只要有中没有4字节字符数据。</font><font style="vertical-align: inherit;">旧服务器将</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在转储文件对象定义中</font><font style="vertical-align: inherit;">看到
             </font><font style="vertical-align: inherit;">并创建使用（3字节）</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集的</font><font style="vertical-align: inherit;">新对象
             </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-charsets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10支持的字符集和排序规则</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-unicode-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.1 Unicode字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-we-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.2西欧字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-ce-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.3中欧字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-se-me-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.4南欧和中东字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-baltic-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.5波罗的海字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-cyrillic-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.6西里尔文字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-asian-sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7亚洲字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-binary-set"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.8二进制字符集</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节指示MySQL支持哪些字符集。</font><font style="vertical-align: inherit;">每组相关字符集有一个小节。</font><font style="vertical-align: inherit;">对于每个字符集，列出了允许的排序规则。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要列出可用的字符集及其默认归类，请使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      语句或查询</font></font><code class="literal">INFORMATION_SCHEMA</code>
      <a class="link" href="/mysql-5.7-google-zh/information-schema.html#character-sets-table" title="24.1 INFORMATION_SCHEMA CHARACTER_SETS表"><code class="literal">CHARACTER_SETS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格。</font><font style="vertical-align: inherit;">例如：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW CHARACTER SET;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + --------------------------------- + ---- ----------------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">说明| </font><font style="vertical-align: inherit;">默认排序| </font><font style="vertical-align: inherit;">Maxlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + --------------------------------- + ---- ----------------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">big5 | </font><font style="vertical-align: inherit;">Big5繁体中文| </font><font style="vertical-align: inherit;">big5_chinese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">dec8 | </font><font style="vertical-align: inherit;">DEC西欧| | </font><font style="vertical-align: inherit;">dec8_swedish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp850 | </font><font style="vertical-align: inherit;">DOS西欧| </font><font style="vertical-align: inherit;">cp850_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">hp8 | </font><font style="vertical-align: inherit;">惠普西欧| </font><font style="vertical-align: inherit;">hp8_english_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">koi8r | </font><font style="vertical-align: inherit;">KOI8-R Relcom俄语| </font><font style="vertical-align: inherit;">koi8r_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">cp1252西欧| </font><font style="vertical-align: inherit;">latin1_swedish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin2 | </font><font style="vertical-align: inherit;">ISO 8859-2中欧| </font><font style="vertical-align: inherit;">latin2_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">swe7 | </font><font style="vertical-align: inherit;">7bit瑞典语| </font><font style="vertical-align: inherit;">swe7_swedish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ascii | </font><font style="vertical-align: inherit;">US ASCII | </font><font style="vertical-align: inherit;">ascii_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ujis | </font><font style="vertical-align: inherit;">EUC-JP日语| </font><font style="vertical-align: inherit;">ujis_japanese_ci | </font><font style="vertical-align: inherit;">3 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sjis | </font><font style="vertical-align: inherit;">Shift-JIS日语| </font><font style="vertical-align: inherit;">sjis_japanese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">希伯来语| </font><font style="vertical-align: inherit;">ISO 8859-8希伯来语| </font><font style="vertical-align: inherit;">hebrew_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">tis620 | </font><font style="vertical-align: inherit;">TIS620泰语| </font><font style="vertical-align: inherit;">tis620_thai_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">euckr | </font><font style="vertical-align: inherit;">EUC-KR韩文| </font><font style="vertical-align: inherit;">euckr_korean_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">koi8u | </font><font style="vertical-align: inherit;">KOI8-U乌克兰语| </font><font style="vertical-align: inherit;">koi8u_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gb2312 | </font><font style="vertical-align: inherit;">GB2312简体中文| </font><font style="vertical-align: inherit;">gb2312_chinese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">希腊语| </font><font style="vertical-align: inherit;">ISO 8859-7希腊语| </font><font style="vertical-align: inherit;">greek_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp1250 | </font><font style="vertical-align: inherit;">Windows中欧| | </font><font style="vertical-align: inherit;">cp1250_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gbk | </font><font style="vertical-align: inherit;">GBK简体中文| </font><font style="vertical-align: inherit;">gbk_chinese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin5 | </font><font style="vertical-align: inherit;">ISO 8859-9土耳其语| </font><font style="vertical-align: inherit;">latin5_turkish_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">armscii8 | </font><font style="vertical-align: inherit;">ARMSCII-8亚美尼亚| </font><font style="vertical-align: inherit;">armscii8_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf8 | </font><font style="vertical-align: inherit;">UTF-8 Unicode | </font><font style="vertical-align: inherit;">utf8_general_ci | </font><font style="vertical-align: inherit;">3 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">UCS-2 Unicode | </font><font style="vertical-align: inherit;">ucs2_general_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp866 | </font><font style="vertical-align: inherit;">DOS俄语| </font><font style="vertical-align: inherit;">cp866_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">keybcs2 | </font><font style="vertical-align: inherit;">DOS Kamenicky捷克斯洛伐克| </font><font style="vertical-align: inherit;">keybcs2_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">macce | </font><font style="vertical-align: inherit;">Mac中欧| </font><font style="vertical-align: inherit;">macce_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">macroman | </font><font style="vertical-align: inherit;">Mac West European | </font><font style="vertical-align: inherit;">macroman_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp852 | </font><font style="vertical-align: inherit;">DOS中欧| </font><font style="vertical-align: inherit;">cp852_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin7 | </font><font style="vertical-align: inherit;">ISO 8859-13波罗的海| </font><font style="vertical-align: inherit;">latin7_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf8mb4 | </font><font style="vertical-align: inherit;">UTF-8 Unicode | </font><font style="vertical-align: inherit;">utf8mb4_general_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp1251 | </font><font style="vertical-align: inherit;">Windows Cyrillic | </font><font style="vertical-align: inherit;">cp1251_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf16 | </font><font style="vertical-align: inherit;">UTF-16 Unicode | </font><font style="vertical-align: inherit;">utf16_general_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf16le | </font><font style="vertical-align: inherit;">UTF-16LE Unicode | </font><font style="vertical-align: inherit;">utf16le_general_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp1256 | </font><font style="vertical-align: inherit;">Windows阿拉伯语| </font><font style="vertical-align: inherit;">cp1256_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp1257 | </font><font style="vertical-align: inherit;">Windows Baltic | </font><font style="vertical-align: inherit;">cp1257_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf32 | </font><font style="vertical-align: inherit;">UTF-32 Unicode | </font><font style="vertical-align: inherit;">utf32_general_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">二进制| </font><font style="vertical-align: inherit;">二进制伪字符集| </font><font style="vertical-align: inherit;">二进制| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">geostd8 | </font><font style="vertical-align: inherit;">GEOSTD8格鲁吉亚| </font><font style="vertical-align: inherit;">geostd8_general_ci | </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp932 | </font><font style="vertical-align: inherit;">SJIS for Windows日语| </font><font style="vertical-align: inherit;">cp932_japanese_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">eucjpms | </font><font style="vertical-align: inherit;">UJIS for Windows日语| </font><font style="vertical-align: inherit;">eucjpms_japanese_ci | </font><font style="vertical-align: inherit;">3 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gb18030 | </font><font style="vertical-align: inherit;">中国国家标准GB18030 | </font><font style="vertical-align: inherit;">gb18030_chinese_ci | </font><font style="vertical-align: inherit;">4 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + --------------------------------- + ---- ----------------- + -------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在字符集具有多个归类的情况下，可能不清楚哪种归类最适合于给定的应用。</font><font style="vertical-align: inherit;">为了避免选择错误的排序规则，可以使用代表性的数据值进行一些比较以确保给定排序规则按照您的期望排序值。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-unicode-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.1 Unicode字符集</font></font></h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140528095665456"></a><a class="indexterm" name="idm140528095663968"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL支持多个Unicode字符集：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-8编码，每个字符使用1到4个字节。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf8mb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-8编码，每个字符使用1到3个字节。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一个别名
             </font></font><code class="literal">utfmb3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UCS-2编码，每个字符使用两个字节。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-16编码，每个字符使用两个或四个字节。</font><font style="vertical-align: inherit;">喜欢</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但带有补充字符的扩展名。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-16LE编码。</font><font style="vertical-align: inherit;">就像</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小端，而不是大端。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode字符集的UTF-32编码，每个字符使用四个字节。
</font></font></p></li></ul>
</div>
<p>
        <code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持基本多语言平面（BMP）字符。
        </font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持BMP和增补字符。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍可用于Unicode字符集的排序规则及其区分属性。</font><font style="vertical-align: inherit;">有关Unicode的一般信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode" title="10.9 Unicode支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.9节“Unicode支持”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        大多数Unicode字符集具有通用归类（由</font></font><code class="literal">_general</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称或缺少语言说明符表示），二进制归类（由</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font><font style="vertical-align: inherit;">表示
         </font><font style="vertical-align: inherit;">）以及几种特定于语言的归类（由语言说明符表示）。</font><font style="vertical-align: inherit;">例如，for </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
         </font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是它的一般和二进制排序规则，并且</font></font><code class="literal">utf8_danish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是它的语言专用排序规则之一。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        整理支持</font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是有限的。</font><font style="vertical-align: inherit;">唯一可用的排序规则是
         </font></font><code class="literal">utf16le_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">utf16le_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些类似于
         </font></font><code class="literal">utf16_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下表中显示的语言名称指示特定于语言的整理。</font><font style="vertical-align: inherit;">Unicode字符集可能包含一种或多种这些语言的归类。
</font></font></p>
<div class="table">
<a name="charset-unicode-collation-language-specifiers"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.3 Unicode排序语言说明符</font></font></b></p>
<div class="table-contents">
<table summary="Language specifiers for Unicode character set collations."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
            <th scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></th>
            <th scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言说明符</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古典拉丁文</font></font></td>
            <td><code class="literal">roman</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克罗地亚</font></font></td>
            <td><code class="literal">croatian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捷克</font></font></td>
            <td><code class="literal">czech</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丹麦</font></font></td>
            <td><code class="literal">danish</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">世界语</font></font></td>
            <td><code class="literal">esperanto</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱沙尼亚语</font></font></td>
            <td><code class="literal">estonian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德国电话簿顺序</font></font></td>
            <td><code class="literal">german2</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匈牙利</font></font></td>
            <td><code class="literal">hungarian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冰岛的</font></font></td>
            <td><code class="literal">icelandic</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拉脱维亚</font></font></td>
            <td><code class="literal">latvian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">立陶宛</font></font></td>
            <td><code class="literal">lithuanian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波斯语</font></font></td>
            <td><code class="literal">persian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抛光</font></font></td>
            <td><code class="literal">polish</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马尼亚</font></font></td>
            <td><code class="literal">romanian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">僧伽罗语</font></font></td>
            <td><code class="literal">sinhala</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯洛伐克</font></font></td>
            <td><code class="literal">slovak</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯洛文尼亚</font></font></td>
            <td><code class="literal">slovenian</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现代西班牙</font></font></td>
            <td><code class="literal">spanish</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传统西班牙</font></font></td>
            <td><code class="literal">spanish2</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞典</font></font></td>
            <td><code class="literal">swedish</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">土耳其</font></font></td>
            <td><code class="literal">turkish</code></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">越南</font></font></td>
            <td><code class="literal">vietnamese</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        克罗地亚归类是专为这些克罗地亚字母：
         </font></font><code class="literal">Č</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">Ć</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">Dž</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">Đ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">Lj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">Nj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">Š</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">Ž</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        丹麦语整理也可用于挪威语。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于古典拉丁整理，</font></font><code class="literal">I</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
         </font></font><code class="literal">J</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较为平等，</font></font><code class="literal">U</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        和</font></font><code class="literal">V</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较相等。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        西班牙语排序规则适用于现代和传统西班牙语。</font><font style="vertical-align: inherit;">对于两者来说，</font></font><code class="literal">ñ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（n-tilde）是</font></font><code class="literal">n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的单独字母</font></font><code class="literal">o</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另外，对于传统的西班牙语，</font></font><code class="literal">ch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="literal">c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font><font style="vertical-align: inherit;">之间的一个单独的字母</font></font><code class="literal">d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且</font></font><code class="literal">ll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="literal">l</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的一个单独的字母</font></font><code class="literal">m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        传统的西班牙语排序规则也可用于阿斯图里亚斯和加利西亚语。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        瑞典语整理包括瑞典语规则。</font><font style="vertical-align: inherit;">例如，在瑞典语中，以下关系成立，这不是德语或法语发言者所期望的：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ü= Y &lt;Ö
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关特定语言排序的问题，
         </font></font><a class="ulink" href="/mysql-5.7-google-zh/unicode.org" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><a class="ulink" href="http://www.unicode.org/cldr/charts/30/collation/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/cldr/charts/30/collat​​ion/index.html </font></font></a><font style="vertical-align: inherit;"><a class="ulink" href="/mysql-5.7-google-zh/unicode.org" target="_top"><font style="vertical-align: inherit;">处</font></a><font style="vertical-align: inherit;">提供通用语言环境数据存储库（CLDR）整理图表
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该
         </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_mysql500_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        归类保留原始的预5.1.24排序
         </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        排序规则，并允许为MySQL 5.1.24（错误＃27877）之前创建的表升级。
      </font></font></p><a class="indexterm" name="idm140528095540080"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        根据</font></font><a class="ulink" href="http://www.unicode.org/reports/tr10/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/reports/tr10/中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述的Unicode排序算法（UCA）</font><font style="vertical-align: inherit;">实现
         </font><font style="vertical-align: inherit;">排序规则
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">排序规则使用版本4.0.0 UCA权重键：</font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
         </font><a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;">//www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        排序规则只对Unicode排序算法有部分支持。</font><font style="vertical-align: inherit;">某些字符不受支持，并且组合标记不完全受支持。</font><font style="vertical-align: inherit;">这主要影响越南语，约鲁巴语和一些较小的语言，如纳瓦霍语。</font><font style="vertical-align: inherit;">组合字符被认为与在字符串比较中用单个Unicode字符写入的相同字符不同，并且这两个字符被认为具有不同的长度（例如，由
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数或结果集元数据返回）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        基于UCA 4.0.0以后版本的Unicode排序规则包括排序规则名称中的版本。</font><font style="vertical-align: inherit;">因此，
         </font></font><code class="literal">utf8_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于UCA 5.2.0权重键（</font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果仅基于UCA的排序对语言不适用，则MySQL会实现特定于语言的Unicode排序规则。</font><font style="vertical-align: inherit;">语言特定的排序规则是基于UCA的，具有额外的语言裁剪规则。
      </font></font></p><p>
        <a class="link" href="/mysql-5.7-google-zh/functions.html#function_lower"><code class="literal">LOWER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_upper"><code class="literal">UPPER()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据其参数的排序进行案例折叠。</font><font style="vertical-align: inherit;">仅在最近版本的4.0.0版本以上的Unicode版本中具有大写和小写版本的字符才会被这些函数转换，只有当参数具有使用最新足够UCA版本的归类时。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于任何Unicode字符集，使用</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        排序规则</font><font style="vertical-align: inherit;">执行的操作
         </font><font style="vertical-align: inherit;">比排序规则更快
         </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        。</font><font style="vertical-align: inherit;">例如，
         </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序比较比对比更快，但稍微不正确
         </font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">其原因是
         </font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持映射，如扩展; </font><font style="vertical-align: inherit;">也就是说，当一个字符比较与其他字符的组合相等时。</font><font style="vertical-align: inherit;">例如，用德语和其他一些语言</font></font><code class="literal">ß</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相等
         </font></font><code class="literal">ss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还支持缩略和可忽略的字符。
        </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是不支持扩展，缩小或可忽略字符的传统归类。</font><font style="vertical-align: inherit;">它只能进行字符之间的一对一比较。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了进一步说明，以下两个</font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-effect" title="10.8.6整理效果的例子"><font style="vertical-align: inherit;">等式</font></a><font style="vertical-align: inherit;">都适用，
         </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
         </font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在比较或检索中的效果见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-effect" title="10.8.6整理效果的例子"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.6节“整理效应的例子”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ä= A</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ö= O</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ü= U</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        归类之间的差异在于</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">对于
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ß= s
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持德语DIN-1排序（也称为字典顺序）的情况，</font><font style="vertical-align: inherit;">这是正确的</font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ß= ss
</font></font></pre><p><font style="vertical-align: inherit;"></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果排序</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于某种语言不适用</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">则</font><font style="vertical-align: inherit;">
        MySQL会执行</font><font style="vertical-align: inherit;">语言特定的排序规则
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德语字典顺序和法语工作正常，因此不需要创建特殊的</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则。
      </font></font></p><p>
        <code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于德语和法语都是令人满意的，除了</font></font><code class="literal">ß</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于</font></font><code class="literal">s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和不</font><font style="vertical-align: inherit;">等于
         </font></font><code class="literal">ss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果这对于您的应用程序是可接受的，则应该使用</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font><font style="vertical-align: inherit;">，
         </font><font style="vertical-align: inherit;">因为速度更快。</font><font style="vertical-align: inherit;">如果这是不可接受的（例如，如果您需要德语字典订单），请使用</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">因为它更准确。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您需要德语DIN-2（电话簿）订购，请使用
         </font></font><code class="literal">utf8_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则，比较以下几组字符：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ä=Æ= AE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ö=Œ= OE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ü= UE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ß= ss</font></font><font></font>
</pre><p>
        <code class="literal">utf8_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是类似的
         </font></font><code class="literal">latin1_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但后者不比较</font></font><code class="literal">Æ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于</font></font><code class="literal">AE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">Œ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于</font></font><code class="literal">OE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">没有</font></font><code class="literal">utf8_german_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对应
         </font></font><code class="literal">latin1_german_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">于德语字典的顺序，因为</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">足够了。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于除二进制（</font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">排序规则以外的所有Unicode排序规则</font><font style="vertical-align: inherit;">，MySQL执行表查找以查找角色的排序权重。</font><font style="vertical-align: inherit;">该重量可以使用该</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font><font style="vertical-align: inherit;">显示
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#string-functions" title="12.5字符串函数"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12.5节“字符串函数”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）如果一个字符不在表格中（例如，因为它是一个</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        字符），整理权重的确定变得更加复杂：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于一般归类（</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中的</font><font style="vertical-align: inherit;">BMP字符</font><font style="vertical-align: inherit;">，weight =代码点。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于UCA归类中的BMP字符（例如</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            和特定</font><font style="vertical-align: inherit;">于
             </font><font style="vertical-align: inherit;">语言的归类），以下算法适用：
          </font></font></p><pre data-lang="clike" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果（code&gt; = 0x3400 &amp;&amp; code &lt;= 0x4DB5）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  base = 0xFB80; </font><font style="vertical-align: inherit;">/ * CJK表意扩展* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
else if（code&gt; = 0x4E00 &amp;&amp; code &lt;= 0x9FA5）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  base = 0xFB40; </font><font style="vertical-align: inherit;">/ * CJK表意文字* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其他</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  base = 0xFBC0; </font><font style="vertical-align: inherit;">/ *其他所有字符* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aaaa = base +（code &gt;&gt; 15）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bbbb =（code＆0x7FFF）| </font><font style="vertical-align: inherit;">为0x8000;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            结果是一系列两个整理元素，
             </font></font><code class="literal">aaaa</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其次是</font></font><code class="literal">bbbb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(_ucs2 0x04CF COLLATE ucs2_unicode_ci));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（_ucs2 0x04CF COLLATE ucs2_unicode_ci））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">FBC084CF |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            因此，</font></font><code class="literal">U+04cf CYRILLIC SMALL LETTER
            PALOCHKA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有的UCA 4.0.0排序规则都大于</font></font><code class="literal">U+04c0 CYRILLIC LETTER
            PALOCHKA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用UCA 5.2.0排序规则，所有palochkas排序在一起。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于一般归类中的补充字符，重量是重量</font></font><code class="literal">0xfffd REPLACEMENT
            CHARACTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于UCA 4.0.0排序规则中的补充字符，其排序权重为
             </font></font><code class="literal">0xfffd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">也就是说，对于MySQL来说，所有的补充字符都是相等的，并且比几乎所有的BMP字符都要大。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以Deseret角色为例
             </font></font><code class="literal">COUNT(DISTINCT)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE TABLE t（s1 VARCHAR（5）CHARACTER SET utf32 COLLATE utf32_unicode_ci）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO t VALUES（0xfffd）; </font><font style="vertical-align: inherit;">/ *替换字符* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插入t值（0x010412）; </font><font style="vertical-align: inherit;">/ * DESERET CAPITAL LETTER BEE * /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插入t值（0x010413）; </font><font style="vertical-align: inherit;">/ * DESERET CAPITAL LETTER TEE * /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT COUNT（DISTINCT s1）FROM t;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            结果是2，因为在MySQL
             </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序中，替换字符的重量是
             </font></font><code class="literal">0x0dc6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而Deseret Bee和Deseret Tee都有一个权重</font></font><code class="literal">0xfffd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（如果使用</font></font><code class="literal">utf32_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类，则结果为1，因为所有三个字符都具有</font></font><code class="literal">0xfffd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该归类中</font><font style="vertical-align: inherit;">的权重</font><font style="vertical-align: inherit;">。）
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            楔形文字的例子和
             </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ *</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT字符串中的四个字符是</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
00000041＃拉丁大写字母A</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0001218F＃CUNEIFORM SIGN KAB</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
000121A7 #CUNEIFORM SIGN KISH</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
00000042＃拉丁文大写字母B</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE t（s1 CHAR（4）CHARACTER SET utf32 COLLATE utf32_unicode_ci）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
插入t值（0x000000410001218f000121a700000042）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT HEX（WEIGHT_STRING（s1））FROM t;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            结果是：
          </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0E33 FFFD FFFD 0E4A
</font></font></pre><p>
            <code class="literal">0E33</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">0E4A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><a class="ulink" href="ftp://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UCA 4.0.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的主要权重
             </font><font style="vertical-align: inherit;">。</font></font><code class="literal">FFFD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是KAB和KISH的重量。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            所有补充字符彼此相等的规则是非最优的，但不会引起麻烦。</font><font style="vertical-align: inherit;">这些字符非常罕见，所以很少有多字符串完全由辅助字符组成。</font><font style="vertical-align: inherit;">在日本，由于补充字符是难懂的汉字表意文字，因此无论如何，典型用户不关心他们处于何种顺序。</font><font style="vertical-align: inherit;">如果您确实需要按MySQL规则排序的行，然后再按代码点值排序，则很容易：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDER BY s1 COLLATE utf32_unicode_ci，s1 COLLATE utf32_bin
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于基于UCA版本高于4.0.0的</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">补充字符</font><font style="vertical-align: inherit;">（例如
             </font><font style="vertical-align: inherit;">），补充字符不一定具有相同的归类权重。</font><font style="vertical-align: inherit;">有些来自UCA </font></font><code class="filename">allkeys.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的</font><font style="vertical-align: inherit;">显式权重</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">其他人有从这个算法计算的权重：
          </font></font></p><pre data-lang="clike" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aaaa = base +（code &gt;&gt; 15）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bbbb =（code＆0x7FFF）| </font><font style="vertical-align: inherit;">为0x8000;</font></font><font></font>
</pre></li></ul>
</div>
<a class="indexterm" name="idm140528095454928"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有之间的差异</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字符的代码值排序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按字符的二进制表示</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><span class="quote"><font style="vertical-align: inherit;">订购</font></span><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只出现一个与别不同
         </font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为代理人的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        假设</font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（二进制排序规则</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐字节</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐字符</font></font></span><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"><span class="quote"><font style="vertical-align: inherit;"> ”</font></span><font style="vertical-align: inherit;">的二进制比较
         </font><span class="quote"><span class="quote"><font style="vertical-align: inherit;">。</font></span></span><span class="quote"><font style="vertical-align: inherit;">“</font></span><font style="vertical-align: inherit;">如果是这样，字符的顺序
         </font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将不同于顺序
         </font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，下面的图表显示了两个罕见的字符。</font><font style="vertical-align: inherit;">第一个字符在范围内
         </font></font><code class="literal">E000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code class="literal">FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此它大于代理，但小于补充。</font><font style="vertical-align: inherit;">第二个字符是一个补充。
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码点字符utf8 utf16</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
---------- --------- ---- -----</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0FF9D HALFWIDTH KATAKANA LETTER N EF BE 9D FF 9D</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10384 UGARITIC LETTER DELTA F0 90 8E 84 D8 00 DF 84</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于</font></font><code class="literal">0xff9d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;
         </font><font style="vertical-align: inherit;">，图表中的两个字符按代码点值排序</font></font><code class="literal">0x10384</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">他们按</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">排列，
         </font><font style="vertical-align: inherit;">因为</font></font><code class="literal">0xef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        &lt; </font></font><code class="literal">0xf0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果我们使用逐字节比较，那么</font><font style="vertical-align: inherit;">它们不是按</font><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">排序的
         </font><font style="vertical-align: inherit;">，因为</font></font><code class="literal">0xff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;
         </font></font><code class="literal">0xd8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所以MySQL的</font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则不是
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐字节的。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font></span><font style="vertical-align: inherit;"><span class="quote"><span class="quote"><font style="vertical-align: inherit;">按代码点</font></span></span><span class="quote"><font style="vertical-align: inherit;"> ”</font></span><font style="vertical-align: inherit;">是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        当MySQL看到一个补充字符编码时
         </font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将转换为字符的代码点值，然后进行比较。</font><font style="vertical-align: inherit;">因此，
         </font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">utf16_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的顺序。</font><font style="vertical-align: inherit;">这与用于UCS_BASIC归类的SQL：2008标准要求一致：</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UCS_BASIC是一种排序规则，排序完全由被排序的字符串中的字符的Unicode标量值决定。</font><font style="vertical-align: inherit;">它适用于UCS字符集。</font><font style="vertical-align: inherit;">由于每个字符集都是UCS指令集的子集，因此UCS_BASIC排序规则可能适用于每个字符集。</font><font style="vertical-align: inherit;">注11：字符的Unicode标量值是将其代码点视为无符号整数。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”</font></font></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果字符集是</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，比较是逐字节的，但</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串不应该包含代理，无论如何。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-we-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.2西欧字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095429584"></a><a class="indexterm" name="idm140528095428128"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        西欧字符集涵盖了大多数西欧语言，如法语，西班牙语，加泰罗尼亚语，巴斯克语，葡萄牙语，意大利语，阿尔巴尼亚语，荷兰语，德语，丹麦语，瑞典语，挪威语，芬兰语，法罗语，冰岛语，爱尔兰语，苏格兰语和英语。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">ascii</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （US ASCII）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ascii_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">ascii_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">cp850</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （DOS西欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp850_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp850_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">dec8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （DEC西欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">dec8_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">dec8_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">hp8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （惠普西欧）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">hp8_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">hp8_english_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （cp1252西欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">latin1_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_danish_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_general_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_general_cs</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_german1_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_german2_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_spanish_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
<p>
            <code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是默认的字符集。</font><font style="vertical-align: inherit;">MySQL的</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和Windows的
             </font></font><code class="literal">cp1252</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集一样。</font><font style="vertical-align: inherit;">这意味着它是一样的官方</font></font><code class="literal">ISO 8859-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或IANA（互联网编号分配机构）
             </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不同的是IANA
             </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">治疗之间的代码点
             </font></font><code class="literal">0x80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code class="literal">0x9f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
             </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不确定的，</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然而</font></font><code class="literal">cp1252</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此MySQL的</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，分配这些职位的字符。</font><font style="vertical-align: inherit;">例如，
             </font></font><code class="literal">0x80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是欧元符号。</font><font style="vertical-align: inherit;">对于</font><font style="vertical-align: inherit;">MySQL中</font><font style="vertical-align: inherit;">的
             </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未定义</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条目进行
             </font></font><code class="literal">cp1252</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻译
            </font></font><code class="literal">0x81</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为Unicode
             </font></font><code class="literal">0x0081</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">0x8d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对
             </font></font><code class="literal">0x008d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">0x8f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对
             </font></font><code class="literal">0x008f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">0x90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对
             </font></font><code class="literal">0x0090</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">0x9d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
             </font></font><code class="literal">0x009d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理是很可能被用来深受广大客户的MySQL的默认。</font><font style="vertical-align: inherit;">虽然人们经常说它是基于瑞典/芬兰的整理规则，但瑞典人和芬兰人不同意这一说法。
          </font></font></p><a class="indexterm" name="idm140528095374032"></a><a class="indexterm" name="idm140528095372944"></a><a class="indexterm" name="idm140528095371856"></a><a class="indexterm" name="idm140528095370768"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            的</font></font><code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">latin1_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则是基于DIN-1和DIN-2标准，这里DIN代表
             </font></font><span lang="de" class="foreignphrase"><em lang="de" class="foreignphrase"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德国标准化学会</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ANSI德国当量）。</font><font style="vertical-align: inherit;">DIN-1被称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字典整理</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”，</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而DIN-2被称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电话簿整理”。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关比较或进行搜索时的效果的示例，请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-effect" title="10.8.6整理效果的例子"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.6节”整理效果的示例“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><a class="indexterm" name="idm140528095365136"></a><a class="indexterm" name="idm140528095364096"></a><a class="indexterm" name="idm140528095363008"></a><a class="indexterm" name="idm140528095361920"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">latin1_german1_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （字典）规则：
              </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ä= A</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ö= O</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ü= U</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ß= s</font></font><font></font>
</pre></li><li class="listitem"><p>
                <code class="literal">latin1_german2_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （电话簿）规则：
              </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ä= AE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ö= OE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ü= UE</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ß= ss</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">latin1_spanish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理中，
             </font></font><code class="literal">ñ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（n-tilde）是</font></font><code class="literal">n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的一个单独的字母
             </font></font><code class="literal">o</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">macroman</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Mac West European）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">macroman_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">macroman_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">swe7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （7bit瑞典语）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">swe7_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">swe7_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-ce-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.3中欧字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095340848"></a><a class="indexterm" name="idm140528095339392"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL为捷克共和国，斯洛伐克，匈牙利，罗马尼亚，斯洛文尼亚，克罗地亚，波兰和塞尔维亚（拉丁）使用的字符集提供了一些支持。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">cp1250</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Windows中欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp1250_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1250_croatian_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1250_czech_cs</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1250_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">cp1250_polish_ci</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">cp852</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （DOS中欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp852_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp852_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">keybcs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （DOS Kamenicky捷克斯洛伐克）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">keybcs2_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">keybcs2_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">latin2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ISO 8859-2中欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">latin2_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin2_croatian_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin2_czech_cs</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin2_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">latin2_hungarian_ci</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">macce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Mac中欧）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">macce_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">macce_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-se-me-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.4南欧和中东字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095302496"></a><a class="indexterm" name="idm140528095301040"></a><a class="indexterm" name="idm140528095299552"></a><a class="indexterm" name="idm140528095298064"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL支持的南欧和中东字符集包括亚美尼亚语，阿拉伯语，格鲁吉亚语，希腊语，希伯来语和土耳其语。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">armscii8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ARMSCII-8亚美尼亚）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">armscii8_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">armscii8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">cp1256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Windows阿拉伯语）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp1256_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1256_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">geostd8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （GEOSTD8格鲁吉亚）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">geostd8_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">geostd8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">greek</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ISO 8859-7希腊）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">greek_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">greek_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">hebrew</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ISO 8859-8希伯来语）归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">hebrew_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">hebrew_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">latin5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ISO 8859-9土耳其语）归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">latin5_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin5_turkish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-baltic-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.5波罗的海字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095265168"></a><a class="indexterm" name="idm140528095263680"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        波罗的海字符集涵盖爱沙尼亚语，拉脱维亚语和立陶宛语。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">cp1257</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Windows Baltic）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp1257_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1257_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">cp1257_lithuanian_ci</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">latin7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （ISO 8859-13波罗的海）归类：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">latin7_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin7_estonian_cs</code>
              </p></li><li class="listitem"><p>
                <code class="literal">latin7_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">latin7_general_cs</code>
</p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-cyrillic-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.6西里尔文字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528095245936"></a><a class="indexterm" name="idm140528095244448"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        西里尔文字符集和归类用于白俄罗斯语，保加利亚语，俄语，乌克兰语和塞尔维亚语（西里尔语）。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">cp1251</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Windows Cyrillic）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp1251_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1251_bulgarian_ci</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1251_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">cp1251_general_cs</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp1251_ukrainian_ci</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">cp866</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （DOS俄语）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp866_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp866_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">koi8r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （KOI8-R Relcom俄语）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">koi8r_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">koi8r_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">koi8u</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （KOI8-U乌克兰）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">koi8u_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">koi8u_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-asian-sets"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7亚洲字符集</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-cp932"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7.1 cp932字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-gb18030"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7.2 gb18030字符集</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528095216256"></a><a class="indexterm" name="idm140528095214768"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我们支持的亚洲字符集包括中文，日文，韩文和泰文。</font><font style="vertical-align: inherit;">这些可能很复杂。</font><font style="vertical-align: inherit;">例如，中文集必须允许数千个不同的字符。</font><font style="vertical-align: inherit;">参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-cp932" title="10.10.7.1 cp932字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.10.7.1“的CP932字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以获得有关的更多信息</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">中国国家标准GB 18030字符集支持的更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-gb18030" title="10.10.7.2 gb18030字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-gb18030" title="10.10.7.2 gb18030字符集"><font style="vertical-align: inherit;">第10.10.7.2节“gb18030字符集”</font></a><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关在MySQL中与亚洲字符集相关的一些常见问题和问题的解答，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/faqs.html#faqs-cjk" title="A.11 MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第A.11节“MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Big5繁体中文）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">big5_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">big5_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <a class="link" href="/mysql-5.7-google-zh/charset.html#charset-cp932" title="10.10.7.1 cp932字符集"><code class="literal">cp932</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            （SJIS for Windows日语）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">cp932_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">cp932_japanese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （用于Windows日语的UJIS）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">eucjpms_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">eucjpms_japanese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">euckr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （EUC-KR韩文）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">euckr_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">euckr_korean_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （GB2312简体中文）校对：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">gb2312_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">gb2312_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （GBK简体中文）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">gbk_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">gbk_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <a class="link" href="/mysql-5.7-google-zh/charset.html#charset-gb18030" title="10.10.7.2 gb18030字符集"><code class="literal">gb18030</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            （中国国家标准GB18030）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">gb18030_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">gb18030_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">gb18030_unicode_520_ci</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （Shift-JIS Japanese）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">sjis_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">sjis_japanese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">tis620</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （TIS620泰国）排序规则：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">tis620_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">tis620_thai_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
            <code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （EUC-JP日语）整理：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ujis_bin</code>
              </p></li><li class="listitem"><p>
                <code class="literal">ujis_japanese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （默认）
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><code class="literal">big5_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整理排序笔划数。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="charset-cp932"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7.1 cp932字符集</font></font></h4>
</div>
</div>
</div>
<p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          需要？</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在MySQL中，</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集对应于</font></font><code class="literal">Shift_JIS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由IANA定义</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">字符集，它支持JIS X0201和JIS X0208字符。</font><font style="vertical-align: inherit;">（见
           </font></font><a class="ulink" href="http://www.iana.org/assignments/character-sets" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.iana.org/assignments/character-sets</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          但是，</font><font style="vertical-align: inherit;">作为描述性术语</font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHIFT JIS</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的含义</font><font style="vertical-align: inherit;">变得非常模糊，并且通常包括</font></font><code class="literal">Shift_JIS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由各供应商定义</font><font style="vertical-align: inherit;">的扩展</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，</font><font style="vertical-align: inherit;">日语Windows环境中使用的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHIFT JIS</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是Microsoft的扩展名，
           </font></font><code class="literal">Shift_JIS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其确切名称是
           </font></font><code class="literal">Microsoft Windows Codepage : 932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">除了支持的字符外</font></font><code class="literal">Shift_JIS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，还
           </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持扩展字符，如NEC特殊字符，NEC选定的IBM扩展字符和IBM选定的字符。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          许多日本用户在使用这些扩展字符时遇到了问题。</font><font style="vertical-align: inherit;">这些问题源于以下因素：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL自动转换字符集。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              字符集使用Unicode（</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">进行转换</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集不支持这些扩展字符转换。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有几种从所谓的
               </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHIFT JIS</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到Unicode的转换规则，并且根据转换规则将某些字符转换为不同的Unicode。</font><font style="vertical-align: inherit;">MySQL仅支持其中的一个规则（稍后介绍）。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集旨在解决这些问题。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          因为MySQL支持字符集转换，分离IANA是很重要的</font></font><code class="literal">Shift_JIS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并
           </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为两个不同的字符集，因为它们提供不同的转换规则。
        </font></font></p><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从不同</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集不同于
           </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以下方面：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 支持NEC特殊字符，NEC选定的IBM扩展字符和IBM选定的字符。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              某些</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符有两个不同的代码点，它们都转换为相同的Unicode代码点。</font><font style="vertical-align: inherit;">从Unicode转换回时
               </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，必须选择其中一个代码点。</font><font style="vertical-align: inherit;">对于此</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">往返转换</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              ，使用Microsoft建议的规则。</font><font style="vertical-align: inherit;">（请参阅
               </font></font><a class="ulink" href="http://support.microsoft.com/kb/170559/EN-US/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://support.microsoft.com/kb/170559/EN-US/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              转换规则如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  如果字符是JIS X 0208和NEC特殊字符，请使用JIS X 0208的代码点。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  如果该字符同时包含NEC特殊字符和IBM选定字符，请使用NEC特殊字符的代码点。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  如果该字符同时位于IBM选定字符和NEC选定的IBM扩展字符中，请使用IBM扩展字符的代码点。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"></font><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/cc305152.aspx" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/cc305152.aspx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              中显示的表格
               </font><font style="vertical-align: inherit;">
              提供了有关Unicode字符值的信息
               </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于
               </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含出现四位数字的字符的表项，该数字表示相应的Unicode（</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）编码。</font><font style="vertical-align: inherit;">对于带有带下划线两位数值的表格条目出现，有一系列</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以这两位数字开头</font><font style="vertical-align: inherit;">的
               </font><font style="vertical-align: inherit;">字符值。</font><font style="vertical-align: inherit;">单击这样一个表条目将带您进入一个页面，该页面显示</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以这些数字开头的</font><font style="vertical-align: inherit;">每个</font><font style="vertical-align: inherit;">字符</font><font style="vertical-align: inherit;">的Unicode值
               </font><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              以下链接特别感兴趣。</font><font style="vertical-align: inherit;">它们对应于以下字符集的编码：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  NEC特殊字符（前导字节
                   </font></font><code class="literal">0x87</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
                </font></font></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg674964" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/gg674964</font></font></a>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  NEC选择的IBM扩展字符（前导字节
                   </font></font><code class="literal">0xED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">0xEE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
                </font></font></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671837" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/gg671837 </font></font></a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671838" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/gg671838</font></font></a>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  IBM选择的字符（前导字节
                   </font></font><code class="literal">0xFA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">0xFB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                   </font></font><code class="literal">0xFC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
                </font></font></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671839" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/gg671839 </font></font></a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671840" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/gg671840 </font></font></a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671841" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://msdn.microsoft.com/en-us/goglobal/ gg671841</font></font></a>
</pre></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的与组合用户定义的字符的转换
               </font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，解决了与问题
               </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              转换。</font><font style="vertical-align: inherit;">详情请参阅
               </font></font><a class="ulink" href="http://www.sljfaq.org/afaq/encodings.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.sljfaq.org/afaq/encodings.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于某些字符，转换和从
           </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于不同的
           </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">下表说明了这些差异。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          转换为</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="informaltable">
<table summary="sjis/cp932 values and the difference between sjis to ucs2 conversion and cp932 to ucs2 conversion."><colgroup><col width="33%"><col width="33%"><col width="33%"></colgroup><thead><tr>
              <th scope="col"><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font></font></th>
              <th scope="col"><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- &gt; </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></th>
              <th scope="col"><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- &gt; </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">005C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">005C</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">007E</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">007E</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">005C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF3C</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8160</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">301C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF5E</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8161</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2225</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">817C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2212</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF0D</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8191</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A2</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE0</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8192</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A3</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE1</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00AC</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE2</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          转换自</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="informaltable">
<table summary="ucs2 values and the difference between ucs2 to sjis conversion and ucs2 to cp932 conversion."><colgroup><col width="33%"><col width="33%"><col width="33%"></colgroup><thead><tr>
              <th scope="col"><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 值</font></font></th>
              <th scope="col"><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- &gt; </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></th>
              <th scope="col"><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- &gt; </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">005C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5C</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">007E</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A2</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8191</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A3</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8192</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00AC</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815C</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8161</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2212</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">817C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2225</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8161</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">301C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8160</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF0D</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">817C</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF3C</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815F</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF5E</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8160</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE0</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8191</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE1</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8192</font></font></td>
            </tr><tr>
              <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE2</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          任何日语字符集的用户应该知道使用
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （或
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）有重要作用。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-options" title="5.1.4服务器命令选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.4节“服务器命令选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="charset-gb18030"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.7.2 gb18030字符集</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在MySQL中，</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集对应于</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国国家标准GB 18030-2005：信息技术 - 中文编码字符集</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是中华人民共和国（中国）的官方字符集。
</font></font></p>
<h5><a name="idm140528094976816"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL gb18030字符集的特性</font></font></h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持GB 18030-2005标准定义的所有代码点。</font><font style="vertical-align: inherit;">范围（GB + 8431A439，GB + 90308130）和（GB + E3329A36，GB + EF39EF39）中未分配的代码点被视为' </font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'（0x3F）。</font><font style="vertical-align: inherit;">未分配的代码点的转换返回' </font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持所有GB18030编码点的UPPER和LOWER转换。</font><font style="vertical-align: inherit;">由Unicode定义的大小写折叠也支持（基于</font></font><code class="filename">CaseFolding-6.3.0.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持将数据与其他字符集进行转换。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持SQL语句，如</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET
              NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              支持</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              字符串之间的</font><font style="vertical-align: inherit;">比较</font><font style="vertical-align: inherit;">，以及</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串与其他字符集</font><font style="vertical-align: inherit;">之间的</font><font style="vertical-align: inherit;">比较</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果字符串具有不同的字符集，则会进行转换。</font><font style="vertical-align: inherit;">包含或忽略尾随空格的比较也受支持。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Unicode中的私有使用区域（U + E000，U + F8FF）被映射到</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              （U + D800，U + DFFF）和GB18030之间没有映射。</font><font style="vertical-align: inherit;">尝试转换此范围内的代码点将返回' </font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果传入的序列不合法，则返回错误或警告。</font><font style="vertical-align: inherit;">如果使用了非法序列
               </font></font><code class="literal">CONVERT()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则返回错误。</font><font style="vertical-align: inherit;">否则，返回警告。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为了和</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
               </font><font style="vertical-align: inherit;">一致</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，UPPER不支持连字。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用</font></font><code class="literal">gb18030_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              排序规则</font><font style="vertical-align: inherit;">时，搜索连字符也会匹配大写连字</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果一个字符具有多个大写字符，则所选大写字符是小写字母本身。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              最小多字节长度为1，最大值为4.字符集使用前1或2个字节确定序列的长度。
</font></font></p></li></ul>
</div>
<h5><a name="idm140528094955280"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的排序规则</font></font></h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">gb18030_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：二进制排序规则。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">gb18030_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：默认排序，支持拼音。</font><font style="vertical-align: inherit;">非中文字符的排序取决于原始排序键的顺序。</font><font style="vertical-align: inherit;">原来的排序键</font></font><code class="literal">GB(UPPER(ch))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              是否</font></font><code class="literal">UPPER(ch)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在。</font><font style="vertical-align: inherit;">否则，原始排序键是</font></font><code class="literal">GB(ch)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">中文字符根据Unicode通用语言环境数据存储库（CLDR 24）中定义的拼音排序规则进行排序。</font><font style="vertical-align: inherit;">非中文字符在中文字符之前排序
               </font></font><code class="literal">GB+FE39FE39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但代码点最大。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">gb18030_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Unicode排序规则。</font><font style="vertical-align: inherit;">如果您需要确保连字正确排序，请使用此排序规则。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-binary-set"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.10.8二进制字符集</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528094944720"></a><a class="indexterm" name="idm140528094943264"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集是chararcter设置二进制串，其是字节序列。</font><font style="vertical-align: inherit;">该
         </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集有一个整理，也叫</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">比较和排序基于数字字节值。</font><font style="vertical-align: inherit;">结果是，信箱和重音差异在比较中显着。</font><font style="vertical-align: inherit;">也就是说，
         </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则区分大小写和区分重音。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET NAMES 'binary';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT CHARSET('abc'), COLLATION('abc');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CHARSET（'abc'）| </font><font style="vertical-align: inherit;">COLLATION（'abc'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">二进制| </font><font style="vertical-align: inherit;">二进制|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT 'abc' = 'ABC', 'a' = 'ä';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'abc'='ABC'| </font><font style="vertical-align: inherit;">'a'='ä'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">0 | </font><font style="vertical-align: inherit;">0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关之间的差异信息
         </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的核对
         </font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集字符和
         </font></font><code class="literal">_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的非二进制字符集的排序规则，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-binary-collations" title="10.8.5二进制归类与_bin归类比较"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.8.5节，“BINARY排序相比_bin归类”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要将字符串表达式转换为二进制字符串，这些结构中的任何一个都是等效的：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BINARY </font></font><em class="replaceable"><code>expr</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CAST（</font></font><em class="replaceable"><code>expr</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为BINARY）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CONVERT（</font></font><em class="replaceable"><code>expr</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用二进制）
</font></font></pre><a class="indexterm" name="idm140528094928064"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><em class="replaceable"><code>expr</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是字符串文字，则</font></font><code class="literal">_binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用介绍者将其指定为二进制字符串。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_binary'a'
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所述</font></font><code class="literal">_binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导引器是允许用于十六进制文字和比特值文字为好，但不必要的; </font><font style="vertical-align: inherit;">这样的文字默认是二进制字符串。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关介绍人的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-introducer" title="10.3.8字符集介绍器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.3.8节“字符集介绍人”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="error-message-language"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.11设置错误消息语言</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140528094920192"></a><a class="indexterm" name="idm140528094918736"></a><a class="indexterm" name="idm140528094917248"></a><a class="indexterm" name="idm140528094915760"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成英文错误消息，但它们可以用其他几种语言显示：捷克语，丹麦语，荷兰语，爱沙尼亚语，法语，德语，希腊语，匈牙利语，意大利语，日语，韩语，挪威语，挪威语 - ，波兰语，葡萄牙语，罗马尼亚语，俄语，斯洛伐克语，西班牙语或瑞典语。</font><font style="vertical-align: inherit;">这适用于服务器写入错误日志并发送到客户端的消息。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要选择服务器写入错误消息的语言，请按照本节中的说明进行操作。</font><font style="vertical-align: inherit;">有关更改错误消息字符集（而不是语言）的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-errors" title="10.6错误消息字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.6节“错误消息字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关配置错误记录的一般信息，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#error-log" title="5.4.2错误日志"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.4.2节“错误记录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      服务器使用以下规则搜索错误消息文件：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          它试图在由两个系统变量值构成的目录中查找文件，
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后者转换为语言名称。</font><font style="vertical-align: inherit;">假设您使用以下命令启动服务器：
        </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --lc_messages_dir = / usr / share / mysql --lc_messages = fr_FR
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在这种情况下，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将语言环境映射
           </font></font><code class="literal">fr_FR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到语言
           </font></font><code class="literal">french</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并查找</font></font><code class="filename">/usr/share/mysql/french</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的错误文件
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，语言文件位于
           </font><font style="vertical-align: inherit;">
          MySQL基本目录下的目录中。
        </font></font><code class="filename">share/mysql/<em class="replaceable"><code>LANGUAGE</code></em></code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果在刚刚描述的目录中找不到消息文件，则服务器将忽略该
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值并仅使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          值作为查找的位置。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量只能在服务器启动时设置并且只有在运行一个全球性的只读值。
      </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在服务器启动时设置，并具有可在运行时修改的全局和会话值。</font><font style="vertical-align: inherit;">因此，可以在服务器运行时更​​改错误消息语言，并且每个客户端都可以通过将其会话</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值更改为不同的语言环境名称来获得不同的</font><font style="vertical-align: inherit;">错误消息语言
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果服务器使用
       </font></font><code class="literal">fr_FR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言环境来显示错误消息，则客户端可以执行此语句以接收英语错误消息：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET lc_messages ='en_US';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用</font></font><a class="ulink" href="http://dev.mysql.com/doc/internals/en/error-messages.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Internals：Error Messages中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的MySQL Internals手册中的说明更改服务器生成的错误消息的内容
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您更改错误消息内容，请记住在每次升级到更新版本的MySQL后重复更改。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="adding-character-set"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12添加字符集</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#character-arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.1字符定义数组</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#string-collating"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.2复杂字符集的字符串整理支持</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#multibyte-characters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.3复杂字符集的多字节字符支持</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528094886896"></a><a class="indexterm" name="idm140528094885408"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节讨论向MySQL添加字符集的过程。</font><font style="vertical-align: inherit;">正确的过程取决于字符集是简单的还是复杂的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果字符集不需要用于排序的特殊字符串整理例程，并且不需要多字节字符支持，则很简单。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果字符集需要这些功能中的任何一个，则很复杂。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      例如，</font></font><code class="literal">greek</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">swe7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      是简单的字符集，</font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而且
       </font></font><code class="literal">czech</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是复杂的字符集。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用以下说明，您必须拥有MySQL源代码分发。</font><font style="vertical-align: inherit;">在说明中，
       </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示要添加的字符集的名称。
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          添加</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素
           </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
           </font></font><code class="filename">sql/share/charsets/Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">使用文件中的现有内容作为添加新内容的指南。</font></font><code class="literal">latin1</code>
          <code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素的</font><font style="vertical-align: inherit;">部分列表</font><font style="vertical-align: inherit;">如下：
        </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;charset name =“latin1”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;家庭&gt;西&lt;/家庭&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;description&gt; cp1252西欧&lt;/ description&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;collat​​ion name =“latin1_swedish_ci”id =“8”order =“Finnish，Swedish”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;标志&gt;主&lt;/标志&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;标志&gt;编译&lt;/标志&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;/核对&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;collat​​ion name =“latin1_danish_ci”id =“15”order =“Danish”/&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;collat​​ion name =“latin1_bin”id =“47”order =“Binary”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;标志&gt;二进制&lt;/标志&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;标志&gt;编译&lt;/标志&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;/核对&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/字符集&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素必须列出的字符集所有的排序规则。</font><font style="vertical-align: inherit;">这些必须至少包含二进制排序规则和默认（主要）排序规则。</font><font style="vertical-align: inherit;">默认排序规则通常使用后缀</font></font><code class="literal">general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（通用，不区分大小写）</font><font style="vertical-align: inherit;">来命名
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">二进制排序可能是默认排序规则，但通常它们是不同的。</font><font style="vertical-align: inherit;">默认排序规则应该有一个</font></font><code class="literal">primary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志。</font><font style="vertical-align: inherit;">二进制整理应该有一个</font></font><code class="literal">binary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您必须为每个归类分配一个唯一的ID号。</font><font style="vertical-align: inherit;">从1024到2047的ID范围保留用于用户定义的归类。</font><font style="vertical-align: inherit;">要查找当前使用的排序规则ID的最大值，请使用以下查询：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT MAX（ID）FROM INFORMATION_SCHEMA.COLLATIONS;
</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这一步取决于您是添加简单还是复杂的字符集。</font><font style="vertical-align: inherit;">一个简单的字符集只需要一个配置文件，而一个复杂的字符集需要C源文件来定义归类函数，多字节函数或两者。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于简单的字符集，创建一个</font></font><code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述字符集属性</font><font style="vertical-align: inherit;">的配置文件
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在</font></font><code class="filename">sql/share/charsets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">创建该文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以使用该副本</font></font><code class="filename">latin1.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为此文件的基础。</font><font style="vertical-align: inherit;">该文件的语法非常简单：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              注释被写为普通的XML注释（</font><font style="vertical-align: inherit;">）。
            </font></font><code class="literal">&lt;!-- <em class="replaceable"><code>text</code></em>
              --&gt;</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组元素中的</font><font style="vertical-align: inherit;">
              单词</font><font style="vertical-align: inherit;">由任意数量的空白分隔。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组元素中的</font><font style="vertical-align: inherit;">
              每个单词都</font><font style="vertical-align: inherit;">必须是十六进制格式的数字。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">数组元素
               </font></font><code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有257个字。</font><font style="vertical-align: inherit;">之后的其他</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组元素有256个字。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#character-arrays" title="10.12.1字符定义数组"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12.1节“字符定义阵列”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在字符集中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">元素中</font><font style="vertical-align: inherit;">列出的每个排序规则
               </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，都
               </font></font><code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              必须包含一个</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定义字符排序</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">元素。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于复杂的字符集，创建一个描述字符集属性的C源文件，并定义正确执行字符集操作所需的支持例程：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">
              创建文件
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">看看其中一个现有的</font><font style="vertical-align: inherit;">文件（如</font><font style="vertical-align: inherit;">）以查看需要定义的内容。</font><font style="vertical-align: inherit;">在文件中的数组必须有一样的名字
               </font><font style="vertical-align: inherit;">，
               </font><font style="vertical-align: inherit;">等。</font><font style="vertical-align: inherit;">这些对应于简单字符集的数组。</font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/charset.html#character-arrays" title="10.12.1字符定义数组"><font style="vertical-align: inherit;">第10.12.1节“字符定义阵列”</font></a><font style="vertical-align: inherit;">。
            </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="filename">strings</code><font style="vertical-align: inherit;"></font><code class="filename">ctype-*.c</code><font style="vertical-align: inherit;"></font><code class="filename">ctype-big5.c</code><font style="vertical-align: inherit;"></font><code class="literal">ctype_<em class="replaceable"><code>MYSET</code></em></code><font style="vertical-align: inherit;"></font><code class="literal">to_lower_<em class="replaceable"><code>MYSET</code></em></code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#character-arrays" title="10.12.1字符定义数组"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在元素中列出</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字符集中的</font><font style="vertical-align: inherit;">每个</font><font style="vertical-align: inherit;">元素</font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该
               </font><font style="vertical-align: inherit;">
              文件必须提供排序规则的实现。
            </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果字符集需要字符串整理功能，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#string-collating" title="10.12.2复杂字符集的字符串整理支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12.2节“复杂字符集的字符串整理支持”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果字符集需要多字节字符支持，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#multibyte-characters" title="10.12.3复杂字符集的多字节字符支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12.3节“复杂字符集的多字节字符支持”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          修改配置信息。</font><font style="vertical-align: inherit;">使用现有的配置信息作为添加信息的指南
           </font></font><em class="replaceable"><code>MYSYS</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这里的示例假定字符集具有默认和二进制排序规则，但如果</font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有附加排序规则，</font><font style="vertical-align: inherit;">则需要更多行</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              编辑</font></font><code class="filename">mysys/charset-def.c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
               </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新字符集的排序规则。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              将这些行添加到</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分：
            </font></font></p><pre data-lang="c" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#ifdef HAVE_CHARSET_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
extern CHARSET_INFO my_charset_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_general_ci;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
extern CHARSET_INFO my_charset_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_bin;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃万一</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              将这些行添加到</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
              部分：
            </font></font></p><pre data-lang="c" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#ifdef HAVE_CHARSET_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  add_compiled_collat​​ion（＆my_charset_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_general_ci）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  add_compiled_collat​​ion（＆my_charset_ </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_bin）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
＃万一</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果字符集使用
               </font><font style="vertical-align: inherit;">，编辑</font><font style="vertical-align: inherit;">并添加
               </font><font style="vertical-align: inherit;">
              到</font><font style="vertical-align: inherit;">变量</font><font style="vertical-align: inherit;">的定义中
               </font><font style="vertical-align: inherit;">。
            </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="filename">strings/CMakeLists.txt</code><font style="vertical-align: inherit;"></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="literal">STRINGS_SOURCES</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              编辑</font></font><code class="filename">cmake/character_sets.cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="i"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按字母顺序</font><font style="vertical-align: inherit;">
                  添加</font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font><code class="literal">CHARSETS_AVAILABLE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按字母顺序</font><font style="vertical-align: inherit;">
                  添加</font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
                   </font></font><code class="literal">CHARSETS_COMPLEX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">即使对于简单的字符集也是如此，否则</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将无法识别
                   </font><font style="vertical-align: inherit;">。
</font></font><a class="link" href="/mysql-5.7-google-zh/installing.html#option_cmake_default_charset"><code class="option">-DDEFAULT_CHARSET=<em class="replaceable"><code>MYSET</code></em></code></a><font style="vertical-align: inherit;"></font></p></li></ol>
</div>
</li></ol>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          重新配置，重新编译和测试。
</font></font></p></li></ol>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="character-arrays"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.1字符定义数组</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个简单的字符集都有一个位于</font></font><code class="filename">sql/share/charsets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的配置文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于一个名为的字符集</font></font><em class="replaceable"><code>MYSYS</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该文件被命名
         </font></font><code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它使用</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组元素来列出字符集属性。</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        元素出现在这些元素中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 为每个角色定义属性。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">&lt;lower&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
             </font></font><code class="literal">&lt;upper&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列出小写和大写字符。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">&lt;unicode&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 将8位字符值映射到Unicode值。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素表示用于比较和排序的字符排序，每个排序规则一个元素。</font><font style="vertical-align: inherit;">二进制排序规则不需要
             </font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素，因为字符代码本身提供排序。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font><font style="vertical-align: inherit;">
        在</font><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">实现的复杂字符集
         </font><font style="vertical-align: inherit;">，有相应的数组：
         </font><font style="vertical-align: inherit;">，
         </font><font style="vertical-align: inherit;">等等。</font><font style="vertical-align: inherit;">并非每个复杂的字符集都包含所有的数组。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">
        示例，</font><font style="vertical-align: inherit;">另请参阅现有</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的
         </font><font style="vertical-align: inherit;">文件以
         </font><font style="vertical-align: inherit;">获取更多信息。
      </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="filename">strings</code><font style="vertical-align: inherit;"></font><code class="literal">ctype_<em class="replaceable"><code>MYSET</code></em>[]</code><font style="vertical-align: inherit;"></font><code class="literal">to_lower_<em class="replaceable"><code>MYSET</code></em>[]</code><font style="vertical-align: inherit;"></font><code class="filename">ctype-*.c</code><font style="vertical-align: inherit;"></font><code class="filename">CHARSET_INFO.txt</code><font style="vertical-align: inherit;"></font><code class="filename">strings</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        大多数数组按字符值进行索引，并有256个元素。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组通过字符值+ 1进行索引，并具有257个元素。</font><font style="vertical-align: inherit;">这是一个遗留的处理惯例</font></font><code class="literal">EOF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组元素是位值。</font><font style="vertical-align: inherit;">每个元素描述字符集中单个字符的属性。</font><font style="vertical-align: inherit;">每个属性都与一个位掩码相关联，如下所示</font></font><code class="filename">include/m_ctype.h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="c" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#define _MY_U 01 / *大写* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_L 02 / *小写* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_NMR 04 / *数字（数字）* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_SPC 010 / *间距字符* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_PNT 020 / *标点符号* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_CTR 040 / *控制字符* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_B 0100 / *空白* /</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#define _MY_X 0200 / *十六进制数字* /</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"></font><code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定字符</font><font style="vertical-align: inherit;">
        的</font><font style="vertical-align: inherit;">值应该是描述字符的适用位掩码值的联合。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">'A'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个大写字符（</font></font><code class="literal">_MY_U</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）以及一个十六进制数字（</font></font><code class="literal">_MY_X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），所以它的
         </font></font><code class="literal">ctype</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值应该像这样定义：
      </font></font></p><pre data-lang="c" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ctype ['A'+ 1] = _MY_U | </font><font style="vertical-align: inherit;">_MY_X = 01 | </font><font style="vertical-align: inherit;">0200 = 0201
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        位掩码值</font></font><code class="filename">m_ctype.h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是八进制值，但</font></font><code class="literal">&lt;ctype&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数组中
         </font><font style="vertical-align: inherit;">的元素</font></font><code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该写为十六进制值。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        的</font></font><code class="literal">&lt;lower&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">&lt;upper&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阵列保持对应于该字符集的每个成员的大写和小写字符。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低['A']应该包含'a'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上部['a']应该包含'A'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组指示如何排序字符以进行比较和排序。</font><font style="vertical-align: inherit;">MySQL根据这些信息的值对字符进行排序。</font><font style="vertical-align: inherit;">在某些情况下，这与</font></font><code class="literal">&lt;upper&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font><font style="vertical-align: inherit;">相同
         </font><font style="vertical-align: inherit;">，这意味着排序不区分大小写。</font><font style="vertical-align: inherit;">有关更复杂的排序规则（适用于复杂字符集），请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#string-collating" title="10.12.2复杂字符集的字符串整理支持"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12.2节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复杂字符集的字符串排序</font><a class="xref" href="/mysql-5.7-google-zh/charset.html#string-collating" title="10.12.2复杂字符集的字符串整理支持"><font style="vertical-align: inherit;">支持”中</font></a><font style="vertical-align: inherit;">有关字符串整理的讨论</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="string-collating"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.2复杂字符集的字符串整理支持</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528094764320"></a><a class="indexterm" name="idm140528094762864"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于一个简单的命名字符集
         </font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在</font></font><code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置文件中使用</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素内的数组元素</font><font style="vertical-align: inherit;">指定排序规则</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您的语言的排序规则太复杂而无法用简单的数组处理，则必须</font><font style="vertical-align: inherit;">
        在</font><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">源文件中</font><font style="vertical-align: inherit;">定义字符串整理函数
         </font><font style="vertical-align: inherit;">。
      </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="filename">strings</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        现有的字符集提供了最好的文档和示例来展示如何实现这些功能。</font><font style="vertical-align: inherit;">再看</font></font><code class="filename">ctype-*.c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的文件
         </font></font><code class="filename">strings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录，如文件为</font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">czech</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><code class="literal">tis160</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。</font><font style="vertical-align: inherit;">看看这些
         </font></font><code class="literal">MY_COLLATION_HANDLER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构，看看它们是如何使用的。</font><font style="vertical-align: inherit;">另请参阅</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的
         </font></font><code class="filename">CHARSET_INFO.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件以
         </font></font><code class="filename">strings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取更多信息。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="multibyte-characters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.12.3复杂字符集的多字节字符支持</font></font></h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140528094747248"></a><a class="indexterm" name="idm140528094745792"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果要添加对名称</font></font><em class="replaceable"><code>MYSET</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含多字节字符</font><font style="vertical-align: inherit;">的新字符集的支持
         </font><font style="vertical-align: inherit;">，则必须</font><font style="vertical-align: inherit;">
        在</font><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">源文件中</font><font style="vertical-align: inherit;">使用多字节字符函数
         </font><font style="vertical-align: inherit;">。
      </font></font><code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code><font style="vertical-align: inherit;"></font><code class="filename">strings</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        现有的字符集提供了最好的文档和示例来展示如何实现这些功能。</font><font style="vertical-align: inherit;">再看</font></font><code class="filename">ctype-*.c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的文件
         </font></font><code class="filename">strings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录，如文件为</font></font><code class="literal">euc_kr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。</font><font style="vertical-align: inherit;">看看这些
         </font></font><code class="literal">MY_CHARSET_HANDLER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构，看看它们是如何使用的。</font><font style="vertical-align: inherit;">另请参阅</font><font style="vertical-align: inherit;">目录中</font><font style="vertical-align: inherit;">的</font></font><code class="filename">CHARSET_INFO.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文件以</font></font><code class="filename">strings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取更多信息。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="adding-collation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13将排序规则添加到字符集</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#charset-collation-implementations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.1整理实施类型</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-choosing-id"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.2选择整理ID</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-simple-8bit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.3为8位字符集添加简单归类</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#adding-collation-unicode-uca"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4将UCA归类添加到Unicode字符集</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140528094732576"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      排序规则是一组定义如何比较和排序字符串的规则。</font><font style="vertical-align: inherit;">MySQL中的每个排序规则都属于一个字符集。</font><font style="vertical-align: inherit;">每个字符集都至少有一个排序规则，并且大多数都有两个或更多排序规则。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      排序规则会根据权重对字符进行排序。</font><font style="vertical-align: inherit;">字符集中的每个字符映射到一个权重。</font><font style="vertical-align: inherit;">相等权重的字符相当于相等，并且根据权重的相对大小比较具有不相等权重的字符。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该 </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数可用于查看字符串中字符的权重。</font><font style="vertical-align: inherit;">它返回的值表示权重是一个二进制字符串，因此使用它可以方便地
       </font><font style="vertical-align: inherit;">
      以可打印形式显示权重。</font><font style="vertical-align: inherit;">以下示例显示</font><font style="vertical-align: inherit;">如果它是非二进制大小写不敏感的字符串，则</font><font style="vertical-align: inherit;">对于lettercase中的字母重量不会不同
       </font><font style="vertical-align: inherit;">，但如果它是二进制字符串，则不同：
    </font></font><code class="literal">HEX(WEIGHT_STRING(<em class="replaceable"><code>str</code></em>))</code><code class="literal">'AaBb'</code></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('AaBb' COLLATE latin1_swedish_ci));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'AaBb'COLLATE latin1_swedish_ci））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">41414242 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(BINARY 'AaBb'));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（BINARY'AaBb'））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">41614262 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL支持几种归类实现，如
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-collation-implementations" title="10.13.1整理实施类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.1节“归类实现类型”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">其中一些可以添加到MySQL而无需重新编译：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          8位字符集的简单归类。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          用于Unicode字符集的基于UCA的排序规则。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          二进制（</font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）排序规则。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      以下各节介绍如何将前两种类型的排序规则添加到现有字符集。</font><font style="vertical-align: inherit;">所有现有的字符集都有二进制排序规则，因此这里不需要描述如何添加一个。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      添加新排序规则的过程摘要：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选择一个排序规则ID。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          添加命名排序规则的配置信息并描述字符排序规则。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          重新启动服务器。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          验证是否存在排序规则。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这里的说明只包括可以在不重新编译MySQL的情况下添加的排序规则。</font><font style="vertical-align: inherit;">要添加确实需要重新编译的归类（通过C源文件中的函数实现），请使用
       </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-character-set" title="10.12添加字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12节“添加字符集”中的说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，不要添加完整字符集所需的所有信息，只需修改现有字符集的相应文件即可。</font><font style="vertical-align: inherit;">也就是说，根据字符集当前归类已经存在的内容，为新归类添加数据结构，函数和配置信息。
</font></font></p><a class="indexterm" name="idm140528094710128"></a>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您修改现有的排序规则，则这可能会影响使用排序规则的列上的索引行的排序顺序。</font><font style="vertical-align: inherit;">在这种情况下，重建任何这样的索引以避免诸如不正确的查询结果之类的问题。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#rebuilding-tables" title="2.11.3重建或修复表或索引"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.3节“重建或修复表或索引”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<h3><a name="idm140528094706960"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他资源</font></font></h3>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Unicode排序算法（UCA）规范：</font><a class="ulink" href="http://www.unicode.org/reports/tr10/" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;">：
           </font></font><a class="ulink" href="http://www.unicode.org/reports/tr10/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.unicode.org/reports/tr10/</font></font></a>
        </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          区域设置数据标记语言（LDML）规范：</font><a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;"> :
           </font></font><a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.unicode.org/reports/tr35/</font></font></a>
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="charset-collation-implementations"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.1整理实施类型</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL实现了几种类型的排序规则：
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8位字符集的简单归类</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这种排序规则是使用256个权重数组来实现的，该数组定义了从字符代码到权重的一对一映射。</font></font><code class="literal">latin1_swedish_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就是一个例子。</font><font style="vertical-align: inherit;">它是一个不区分大小写的排序规则，所以一个字符的大写和小写版本具有相同的权重，并且它们相等。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'latin1' COLLATE 'latin1_swedish_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('a')), HEX(WEIGHT_STRING('A'));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- + ----------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'a'））| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'A'））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- + ----------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">41 | </font><font style="vertical-align: inherit;">41 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- + ----------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT 'a' = 'A';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'a'='A'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.12秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关实现说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-collation-simple-8bit" title="10.13.3为8位字符集添加简单归类"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.3节“将简单归类添加到8位字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8位字符集的复杂排序规则</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这种排序规则是使用C源文件中的函数实现的，这些函数定义了如何排序字符，如
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-character-set" title="10.12添加字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12节“添加字符集”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非Unicode多字节字符集的排序规则</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于这种类型的排序规则，8位（单字节）和多字节字符的处理方式不同。</font><font style="vertical-align: inherit;">对于8位字符，字符代码以不区分大小写的方式映射到权重。</font><font style="vertical-align: inherit;">（例如，单字节字符</font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">'A'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两者都具有权重
         </font></font><code class="literal">0x41</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）对于多字节字符，字符代码和权重之间有两种关系类型：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            权重等于字符代码。
            </font></font><code class="literal">sjis_japanese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是这种整理的一个例子。</font><font style="vertical-align: inherit;">多字节字符
             </font></font><code class="literal">'ぢ'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字符代码是
             </font></font><code class="literal">0x82C0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，重量也是
             </font></font><code class="literal">0x82C0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 VARCHAR(2) CHARACTER SET sjis COLLATE sjis_japanese_ci);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),(0x82C0);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，3行受影响（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
记录：3重复：0警告：0</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c1 | </font><font style="vertical-align: inherit;">HEX（c1）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（c1））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">a | </font><font style="vertical-align: inherit;">61 | </font><font style="vertical-align: inherit;">41 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">A | </font><font style="vertical-align: inherit;">41 | </font><font style="vertical-align: inherit;">41 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ぢ| </font><font style="vertical-align: inherit;">82C0 | </font><font style="vertical-align: inherit;">82C0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置3行（0.00秒）</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符代码一对一映射到权重，但代码不一定等于权重。
            </font></font><code class="literal">gbk_chinese_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是这种整理的一个例子。</font><font style="vertical-align: inherit;">多字节字符
             </font></font><code class="literal">'膰'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字符代码
             </font></font><code class="literal">0x81B0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有一个权重
             </font></font><code class="literal">0xC286</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 VARCHAR(2) CHARACTER SET gbk COLLATE gbk_chinese_ci);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.33秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),(0x81B0);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，3行受影响（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
记录：3重复：0警告：0</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c1 | </font><font style="vertical-align: inherit;">HEX（c1）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（c1））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">a | </font><font style="vertical-align: inherit;">61 | </font><font style="vertical-align: inherit;">41 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">A | </font><font style="vertical-align: inherit;">41 | </font><font style="vertical-align: inherit;">41 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">膰| </font><font style="vertical-align: inherit;">81B0 | </font><font style="vertical-align: inherit;">C286 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置3行（0.00秒）</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关实现说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-character-set" title="10.12添加字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12节“添加字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode多字节字符集的排序规则</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        其中一些排序规则基于Unicode排序算法（UCA），其他规则则不是。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        非UCA归类具有从字符代码到权重的一对一映射。</font><font style="vertical-align: inherit;">在MySQL中，这种排序规则不区分大小写且不区分变音。</font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个例子：</font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">'A'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">'À'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">'á'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个都具有不同的字符代码，但是都具有的重量
         </font></font><code class="literal">0x0041</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和比较结果为相等。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_general_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 CHAR(1) CHARACTER SET UTF8 COLLATE utf8_general_ci);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),('À'),('á');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，4行受影响（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
记录：4个重复：0个警告：0</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">c1 | </font><font style="vertical-align: inherit;">HEX（c1）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（c1））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">a | </font><font style="vertical-align: inherit;">61 | </font><font style="vertical-align: inherit;">0041 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">A | </font><font style="vertical-align: inherit;">41 | </font><font style="vertical-align: inherit;">0041 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">À| </font><font style="vertical-align: inherit;">C380 | </font><font style="vertical-align: inherit;">0041 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">á| </font><font style="vertical-align: inherit;">C3A1 | </font><font style="vertical-align: inherit;">0041 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + --------- + ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL中基于UCA的排序规则具有以下属性：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果一个字符有权重，每个权重使用2个字节（16位）。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个角色可能有零权重（或者一个空权重）。</font><font style="vertical-align: inherit;">在这种情况下，角色是可以忽略的。</font><font style="vertical-align: inherit;">例如：“U + 0000 NULL”没有权重并且可以忽略。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个角色可能有一个重量。</font><font style="vertical-align: inherit;">例如：
             </font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个权重
             </font></font><code class="literal">0x0E33</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_unicode_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.05秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX('a'), HEX(WEIGHT_STRING('a'));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（'a'）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'a'））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">61 | </font><font style="vertical-align: inherit;">0E33 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.02秒）</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个角色可能有很多权重。</font><font style="vertical-align: inherit;">这是一个扩展。</font><font style="vertical-align: inherit;">例如：德文字母</font></font><code class="literal">'ß'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（SZ扎带或SHARP S）的重量为
             </font></font><code class="literal">0x0FEA0FEA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_unicode_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.11秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX('ß'), HEX(WEIGHT_STRING('ß'));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（'ß'）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'ß'））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">C39F | </font><font style="vertical-align: inherit;">0FEA0FEA |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            许多角色可能有一个重量。</font><font style="vertical-align: inherit;">这是一种收缩。</font><font style="vertical-align: inherit;">例如：</font></font><code class="literal">'ch'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捷克语是单个字母，重量为</font></font><code class="literal">0x0EE2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_czech_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.09秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT HEX('ch'), HEX(WEIGHT_STRING('ch'));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HEX（'ch'）| </font><font style="vertical-align: inherit;">HEX（WEIGHT_STRING（'ch'））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">6368 | </font><font style="vertical-align: inherit;">0EE2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- + -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        许多字符到多个权重的映射也是可能的（这是收缩与扩展），但不被MySQL支持。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关非UCA归类的实现说明，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-character-set" title="10.12添加字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.12节“添加字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关UCA归类的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-collation-unicode-uca" title="10.13.4将UCA归类添加到Unicode字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.4节“将UCA归类添加到Unicode字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p>
        <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杂项整理</font></font></strong></span>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        还有一些排序规则不属于任何以前的类别。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="adding-collation-choosing-id"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.2选择整理ID</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个排序规则必须具有唯一的ID。</font><font style="vertical-align: inherit;">要添加排序规则，您必须选择当前未使用的ID值。</font><font style="vertical-align: inherit;">MySQL支持两个字节的排序规则ID。</font><font style="vertical-align: inherit;">从1024到2047的ID范围保留用于用户定义的归类。</font><font style="vertical-align: inherit;">您选择的排序规则ID将出现在以下上下文中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            表</font><font style="vertical-align: inherit;">
            的</font></font><code class="literal">ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
             </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#collations-table" title="24.2 INFORMATION_SCHEMA COLLATIONS表"><code class="literal">INFORMATION_SCHEMA.COLLATIONS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">
            的</font></font><code class="literal">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C API数据结构</font><font style="vertical-align: inherit;">
            的</font></font><code class="literal">charsetnr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成员
             </font></font><code class="literal">MYSQL_FIELD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由</font><font style="vertical-align: inherit;">
            C API函数</font><font style="vertical-align: inherit;">返回</font></font><code class="literal">number</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><code class="literal">MY_CHARSET_INFO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据结构
             </font><font style="vertical-align: inherit;">
            的</font><font style="vertical-align: inherit;">成员
             </font></font><a class="link" href="/mysql-5.7-google-zh/connectors-apis.html#mysql-get-character-set-info" title="27.8.7.26 mysql_get_character_set_info（）"><code class="literal">mysql_get_character_set_info()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要确定当前使用的最大ID，请发出以下语句：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT MAX(ID) FROM INFORMATION_SCHEMA.COLLATIONS;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">MAX（ID）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">210 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要显示所有当前使用的ID的列表，请发出以下语句：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ID FROM INFORMATION_SCHEMA.COLLATIONS ORDER BY ID;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">... |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">52 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">53 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">57 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">58 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">... |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">98 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">99 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">128 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">129 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">... |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">210 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----- +</font></font><font></font>
</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在升级之前，您应该保存您更改的配置文件。</font><font style="vertical-align: inherit;">如果你升级到位，这个过程将会替换你修改过的文件。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="adding-collation-simple-8bit"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.3为8位字符集添加简单归类</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何通过</font><font style="vertical-align: inherit;">在MySQL </font><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">写入</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集描述</font><font style="vertical-align: inherit;">相关联</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">元素
         </font><font style="vertical-align: inherit;">来为8位字符集添加简单归类
         </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这里描述的过程不需要重新编译MySQL。</font><font style="vertical-align: inherit;">这个例子添加一个名为归类</font></font><code class="literal">latin1_test_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
         </font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            选择一个排序规则ID，如
             </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-collation-choosing-id" title="10.13.2选择整理ID"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.2节“选择排序规则ID”所示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下步骤使用ID为1024。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            修改</font></font><code class="literal">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><code class="literal">latin1.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件。</font><font style="vertical-align: inherit;">这些文件位于由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_sets_dir"><code class="literal">character_sets_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">命名的目录中
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以按照以下方式检查变量值，尽管系统上的路径名可能不同：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'character_sets_dir';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets_dir | </font><font style="vertical-align: inherit;">/ user / local / mysql / share / mysql / charsets / |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为整理选择一个名称并将其列在
             </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。</font><font style="vertical-align: inherit;">找到
             </font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要添加排序规则的字符集的</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素</font><font style="vertical-align: inherit;">，并添加一个</font><font style="vertical-align: inherit;">指示排序规则名称和ID </font><font style="vertical-align: inherit;">的
             </font><font style="vertical-align: inherit;">元素，以将该名称与该ID相关联。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;charset name =“latin1”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;collat​​ion name =“latin1_test_ci”id =“1024”/&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/字符集&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="filename">latin1.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件中，添加一个</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于命名排序规则的</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素，</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">元素</font><font style="vertical-align: inherit;">包含一个</font><font style="vertical-align: inherit;">元素，</font><font style="vertical-align: inherit;">该
             </font><font style="vertical-align: inherit;">元素为字符代码0至255定义了一个字符代码 - 权重映射表。</font></font><code class="literal">&lt;map&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            元素中的</font><font style="vertical-align: inherit;">每个值都</font><font style="vertical-align: inherit;">必须是十六进制格式的数字。
          </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;collat​​ion name =“latin1_test_ci”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;地图&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 40 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 50 51 52 53 54 55 56 57 58 59 5A 5B 5C 5D 5E 5F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 60 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 50 51 52 53 54 55 56 57 58 59 5A 7B 7C 7D 7E 7F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 80 81 82 83 84 85 86 87 88 89 8A 8B 8C 8D 8E 8F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 90 91 92 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 A0 A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 B0 B1 B2 B3 B4 B5 B6 B7 B8 B9 BA BB BC BD BE BF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 41 41 41 41 5B 5D 5B 43 45 45 45 45 49 49 49 49</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 44 4E 4F 4F 4F 4F 5C D7 5C 55 55 55 59 59 DE DF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 41 41 41 41 5B 5D 5B 43 45 45 45 45 49 49 49 49</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 44 4E 4F 4F 4F 4F 5C F7 5C 55 55 55 59 59 DE FF</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/地图&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/核对&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            重新启动服务器并使用此语句来验证排序规则是否存在：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW COLLATION WHERE Collation = 'latin1_test_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + --------- + ------ + --------- + ----- ----- + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">整理| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">Id | </font><font style="vertical-align: inherit;">默认| </font><font style="vertical-align: inherit;">编译| </font><font style="vertical-align: inherit;">Sortlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + --------- + ------ + --------- + ----- ----- + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">latin1_test_ci | </font><font style="vertical-align: inherit;">latin1 | </font><font style="vertical-align: inherit;">1024 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + --------- + ------ + --------- + ----- ----- + --------- +</font></font><font></font>
</pre></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="adding-collation-unicode-uca"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4将UCA归类添加到Unicode字符集</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#ldml-collation-example"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.1使用LDML语法定义UCA整理</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#ldml-rules"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.2 MySQL支持的LDML语法</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/charset.html#collation-diagnostics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.3在Index.xml解析期间进行诊断</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        本节介绍如何通过</font><font style="vertical-align: inherit;">在MySQL </font><font style="vertical-align: inherit;">文件中</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集描述中</font><font style="vertical-align: inherit;">写入</font><font style="vertical-align: inherit;">元素
         </font><font style="vertical-align: inherit;">来为Unicode字符集添加UCA排序规则
         </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这里描述的过程不需要重新编译MySQL。</font><font style="vertical-align: inherit;">它使用位于</font></font><a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/reports/tr35/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的Locale数据标记语言（LDML）规范的一个子集
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">用这种方法，你不需要定义整个排序规则。</font><font style="vertical-align: inherit;">相反，你从现有的</font><span class="quote"><font style="vertical-align: inherit;">“ </font></span><span class="quote"><span class="quote"><font style="vertical-align: inherit;">基础</font></span></span><span class="quote"><font style="vertical-align: inherit;"> ”</font></span><font style="vertical-align: inherit;">开始，</font></font><span class="quote"><font style="vertical-align: inherit;"></font><span class="quote"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按照与基本排序规则不同的方式对新排序规则进行排序和描述。</font><font style="vertical-align: inherit;">下表列出了可以定义UCA排序规则的Unicode字符集的基本排序规则。</font><font style="vertical-align: inherit;">无法为...创建用户定义的UCA排序规则</font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">没有
         </font></font><code class="literal">utf16le_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可作为此类归类基础的整理。
</font></font></p>
<div class="table">
<a name="idm140528094579136"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.4可用于用户定义的UCA归类的MySQL字符集</font></font></b></p>
<div class="table-contents">
<table summary="Unicode character sets for which user-defined UCA collations can be defined and their base collations."><colgroup><col width="30*"><col width="60*"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础整理</font></font></th>
          </tr></thead><tbody><tr>
            <th scope="row" align="left"><code class="literal">utf8</code></th>
            <td><code class="literal">utf8_unicode_ci</code></td>
          </tr><tr>
            <th scope="row" align="left"><code class="literal">ucs2</code></th>
            <td><code class="literal">ucs2_unicode_ci</code></td>
          </tr><tr>
            <th scope="row" align="left"><code class="literal">utf16</code></th>
            <td><code class="literal">utf16_unicode_ci</code></td>
          </tr><tr>
            <th scope="row" align="left"><code class="literal">utf32</code></th>
            <td><code class="literal">utf32_unicode_ci</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分介绍如何添加使用LDML语法定义的归类，并提供MySQL中支持的LDML规则的摘要。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="ldml-collation-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.1使用LDML语法定义UCA整理</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要在不重新编译MySQL的情况下为Unicode字符集添加UCA排序规则，请使用以下过程。</font><font style="vertical-align: inherit;">如果您不熟悉用于描述排序规则的排序特性的LDML规则，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#ldml-rules" title="10.13.4.2 MySQL支持的LDML语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.4.2节“在MySQL中支持的LDML语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个例子添加一个名为归类
           </font></font><code class="literal">utf8_phone_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
           </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集。</font><font style="vertical-align: inherit;">排序规则适用于涉及用户发布其名称和电话号码的Web应用程序的情况。</font><font style="vertical-align: inherit;">电话号码可以以非常不同的格式给出：
        </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 7-12345-67</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ 7-12-345-67</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+7 12 345 67</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+7（12）345 67</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
71234567</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          处理这些类型的值所引发的问题是，不同的允许格式使得搜索特定的电话号码非常困难。</font><font style="vertical-align: inherit;">解决方案是定义一个新的排序规则，重新排序标点符号，使其可以忽略。
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              选择一个排序规则ID，如
               </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-collation-choosing-id" title="10.13.2选择整理ID"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.2节“选择排序规则ID”所示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下步骤使用ID为1029。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              修改</font></font><code class="literal">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件。</font><font style="vertical-align: inherit;">该文件位于由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_sets_dir"><code class="literal">character_sets_dir</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">命名的目录中
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以按照以下方式检查变量值，尽管系统上的路径名可能不同：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'character_sets_dir';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets_dir | </font><font style="vertical-align: inherit;">/ user / local / mysql / share / mysql / charsets / |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ------------- +</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为整理选择一个名称并将其列在
               </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中。</font><font style="vertical-align: inherit;">另外，您需要提供排序规则排序规则。</font><font style="vertical-align: inherit;">找到
               </font></font><code class="literal">&lt;charset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要添加排序规则的字符集的</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素</font><font style="vertical-align: inherit;">，并添加一个</font><font style="vertical-align: inherit;">指示排序规则名称和ID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">元素，以将该名称与该ID相关联。</font><font style="vertical-align: inherit;">在
               </font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素中，提供一个</font></font><code class="literal">&lt;rules&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含排序规则</font><font style="vertical-align: inherit;">的
               </font><font style="vertical-align: inherit;">元素：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;charset name =“utf8”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;collat​​ion name =“utf8_phone_ci”id =“1029”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;规则&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;复位&gt; \ u0000的&lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;i&gt; \ u0020 &lt;/ i&gt; &lt;！ -  space  - &gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;i&gt; \ u0028 &lt;/ i&gt; &lt;！ - 左括号 - &gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;i&gt; \ u0029 &lt;/ i&gt; &lt;！ - 右括号 - &gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;i&gt; \ u002B &lt;/ i&gt; &lt;！ -  plus  - &gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      &lt;i&gt; \ u002D &lt;/ i&gt; &lt;！ - 连字符 - &gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;/规则&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;/核对&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/字符集&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果您需要其他Unicode字符集的类似排序规则，请添加其他
               </font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素。</font><font style="vertical-align: inherit;">例如，要定义</font></font><code class="literal">ucs2_phone_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，添加一个
               </font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素到
               </font></font><code class="literal">&lt;charset name="ucs2"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素。</font><font style="vertical-align: inherit;">请记住，每个排序规则必须具有其自己的唯一标识。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              重新启动服务器并使用此语句来验证排序规则是否存在：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW COLLATION WHERE Collation = 'utf8_phone_ci';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + --------- + ------ + --------- + ------ ---- + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">整理| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">Id | </font><font style="vertical-align: inherit;">默认| </font><font style="vertical-align: inherit;">编译| </font><font style="vertical-align: inherit;">Sortlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + --------- + ------ + --------- + ------ ---- + --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">utf8_phone_ci | </font><font style="vertical-align: inherit;">utf8 | </font><font style="vertical-align: inherit;">1029 | </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + --------- + ------ + --------- + ------ ---- + --------- +</font></font><font></font>
</pre></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          现在测试整理以确保它具有所需的属性。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用新的排序规则创建包含一些示例电话号码的表格：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE phonebook (</code></strong>
       <strong class="userinput"><code>  name VARCHAR(64),</code></strong>
       <strong class="userinput"><code>  phone VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_phone_ci</code></strong>
       <strong class="userinput"><code>);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.09秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO phonebook VALUES ('Svoj','+7 912 800 80 02');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO phonebook VALUES ('Hf','+7 (912) 800 80 04');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO phonebook VALUES ('Bar','+7-912-800-80-01');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO phonebook VALUES ('Ramil','(7912) 800 80 03');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO phonebook VALUES ('Sanja','+380 (912) 8008005');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          运行一些查询来查看忽略的标点字符是否实际上被忽略用于比较和排序：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM phonebook ORDER BY phone;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">电话|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Sanja | </font><font style="vertical-align: inherit;">+380（912）8008005 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧| </font><font style="vertical-align: inherit;">+ 7-912-800-80-01 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Svoj | </font><font style="vertical-align: inherit;">+7 912 800 80 02 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Ramil | </font><font style="vertical-align: inherit;">（7912）800 80 03 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Hf | </font><font style="vertical-align: inherit;">+7（912）800 80 04 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5行（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='+7(912)800-80-01';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">电话|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧| </font><font style="vertical-align: inherit;">+ 7-912-800-80-01 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='79128008001';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">电话|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧| </font><font style="vertical-align: inherit;">+ 7-912-800-80-01 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='7 9 1 2 8 0 0 8 0 0 1';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">电话|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">酒吧| </font><font style="vertical-align: inherit;">+ 7-912-800-80-01 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="ldml-rules"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.2 MySQL支持的LDML语法</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140528094515216"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本节介绍MySQL可识别的LDML语法。</font><font style="vertical-align: inherit;">这是在</font></font><a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/reports/tr35/上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的LDML规范中描述的语法的一个子集
           </font><font style="vertical-align: inherit;">，应该查阅它以获取更多信息。</font><font style="vertical-align: inherit;">MySQL可以识别足够大的语法子集，在很多情况下，可以从Unicode通用语言环境数据存储库下载排序规则定义，并将相关部分（即</font></font><code class="literal">&lt;rules&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">&lt;/rules&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记</font><font style="vertical-align: inherit;">之间的部分</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">粘贴
           </font><font style="vertical-align: inherit;">到MySQL中
          </font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">这里描述的规则都是支持的，只是字符排序只发生在主要级别。</font><font style="vertical-align: inherit;">确定二级或更高级别级别差异的规则是可以识别的（因此可以纳入排序规则定义中），但在主级别被视为平等。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL服务器在解析</font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">时发现问题时会生成诊断信息</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#collation-diagnostics" title="10.13.4.3在Index.xml解析期间进行诊断"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.4.3节“在Index.xml解析期间进行诊断”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符表示</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在LDML规则中命名的字符可以按字面或</font><font style="vertical-align: inherit;">格式</font><font style="vertical-align: inherit;">书写
           </font><font style="vertical-align: inherit;">，其中</font><font style="vertical-align: inherit;">是十六进制Unicode代码点值。</font><font style="vertical-align: inherit;">例如，</font><font style="vertical-align: inherit;">
          并且</font><font style="vertical-align: inherit;">可以从字面上或者作为书面
           </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在十六进制值中，</font><font style="vertical-align: inherit;">
          通过</font><font style="vertical-align: inherit;">的数字</font><font style="vertical-align: inherit;">不区分大小写;
          </font><font style="vertical-align: inherit;">并且</font><font style="vertical-align: inherit;">是等同的。</font><font style="vertical-align: inherit;">为UCA 4.0.0归类，十六进制表示法可用于仅在基本多语种平面字符，而不是为的BMP范围之外的字符
           </font><font style="vertical-align: inherit;">到</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于UCA 5.2.0排序规则，十六进制符号可以用于任何字符。
        </font></font><code class="literal">\u<em class="replaceable"><code>nnnn</code></em></code><font style="vertical-align: inherit;"></font><em class="replaceable"><code>nnnn</code></em><font style="vertical-align: inherit;"></font><code class="literal">A</code><font style="vertical-align: inherit;"></font><code class="literal">á</code><font style="vertical-align: inherit;"></font><code class="literal">\u0041</code><font style="vertical-align: inherit;"></font><code class="literal">\u00E1</code><font style="vertical-align: inherit;"></font><code class="literal">A</code><font style="vertical-align: inherit;"></font><code class="literal">F</code><font style="vertical-align: inherit;"></font><code class="literal">\u00E1</code><font style="vertical-align: inherit;"></font><code class="literal">\u00e1</code><font style="vertical-align: inherit;"></font><code class="literal">0000</code><font style="vertical-align: inherit;"></font><code class="literal">FFFF</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件本身应使用UTF-8编码写入。
        </font></font></p><p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法规则</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          LDML重置了规则和移位规则来指定字符排序。</font><font style="vertical-align: inherit;">排序规则以一组规则开始，该规则以建立锚点的重置规则开始，随后是移位规则，指示字符如何相对于锚点进行排序。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              一个</font></font><code class="literal">&lt;reset&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">规则并不在其本身指定任何次序。</font><font style="vertical-align: inherit;">相反，它会
               </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重置</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后续换档规则的顺序，使它们与给定的字符相关。</font><font style="vertical-align: inherit;">以下规则中的任何一个都会重置随后的有关该字母的换档规则
               </font></font><code class="literal">'A'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; A &lt;/复位&gt;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;复位&gt; \ u0041 &lt;/复位&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              The </font></font><code class="literal">&lt;p&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
               </font></font><code class="literal">&lt;s&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and
               </font></font><code class="literal">&lt;t&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shift规则定义了一个角色与另一个角色的主要，次要和第三方面的差异：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用主要区别来区分单独的字母。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用二次差异区分口音变化。
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  使用三级差异来区分lettercase变体。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              这些规则中的任何一个规定了</font></font><code class="literal">'G'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font><font style="vertical-align: inherit;">的主要移位规则</font><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;P“G &lt;/ P&gt;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt; \ u0047 &lt;/ P&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><code class="literal">&lt;i&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换档规则表示一个字符相同的排序到另一个。</font><font style="vertical-align: inherit;">以下规则会导致</font></font><code class="literal">'b'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其排序为
               </font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt;一&lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的&lt;i&gt; B'/ I&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              简化移位语法使用一对标签来指定多个移位规则。</font><font style="vertical-align: inherit;">下表显示了缩写语法规则与等效非简化规则之间的对应关系。
</font></font></p>
<div class="table">
<a name="abreviated-shift-syntax"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.5缩略语移位语法</font></font></b></p>
<div class="table-contents">
<table summary="Abbreviated and corresponding nonabbreviated shift syntax rules."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩写语法</font></font></th>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非简化语法</font></font></th>
                </tr></thead><tbody><tr>
                  <td scope="row"><code class="literal">&lt;pc&gt;xyz&lt;/pc&gt;</code></td>
                  <td><code class="literal">&lt;p&gt;x&lt;/p&gt;&lt;p&gt;y&lt;/p&gt;&lt;p&gt;z&lt;/p&gt;</code></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;sc&gt;xyz&lt;/sc&gt;</code></td>
                  <td><code class="literal">&lt;s&gt;x&lt;/s&gt;&lt;s&gt;y&lt;/s&gt;&lt;s&gt;z&lt;/s&gt;</code></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;tc&gt;xyz&lt;/tc&gt;</code></td>
                  <td><code class="literal">&lt;t&gt;x&lt;/t&gt;&lt;t&gt;y&lt;/t&gt;&lt;t&gt;z&lt;/t&gt;</code></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;ic&gt;xyz&lt;/ic&gt;</code></td>
                  <td><code class="literal">&lt;i&gt;x&lt;/i&gt;&lt;i&gt;y&lt;/i&gt;&lt;i&gt;z&lt;/i&gt;</code></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              扩展是为多字符序列建立定位点的重置规则。</font><font style="vertical-align: inherit;">MySQL支持2至6个字符的扩展。</font><font style="vertical-align: inherit;">下面的规则
               </font></font><code class="literal">'z'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比三个字符的顺序在主要级别上更大</font></font><code class="literal">'abc'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; ABC &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt;ž&lt;/ P&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              收缩是对多字符序列进行排序的移位规则。</font><font style="vertical-align: inherit;">MySQL支持2至6个字符长度的缩写。</font><font style="vertical-align: inherit;">以下规则将</font></font><code class="literal">'xyz'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要级别</font><font style="vertical-align: inherit;">上三个字符的序列</font><font style="vertical-align: inherit;">放大得比</font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt;一&lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt; XYZ &lt;/ P&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              长时间扩张和长时间收缩可以一起使用。</font><font style="vertical-align: inherit;">这些规则将三个字符的序列放在
               </font></font><code class="literal">'xyz'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要级别比三个字符的序列更大</font></font><code class="literal">'abc'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; ABC &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt; XYZ &lt;/ P&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              正常的扩展语法使用</font></font><code class="literal">&lt;x&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              加上</font></font><code class="literal">&lt;extend&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素来指​​定扩展。</font><font style="vertical-align: inherit;">以下规则将字符
               </font></font><code class="literal">'k'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放在次要级别比序列更大</font></font><code class="literal">'ch'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">就是说，
               </font></font><code class="literal">'k'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它的行为就好像它在扩展到一个字符后</font></font><code class="literal">'c'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟着
               </font></font><code class="literal">'h'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; C &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;X&gt; &lt;S&gt;ķ&lt;/秒&gt; &lt;延伸&gt;ħ&lt;/延伸&gt; &lt;/ X&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              这个语法允许长序列。</font><font style="vertical-align: inherit;">这些规则将序列</font></font><code class="literal">'ccs'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中第三级的序列进行排序</font></font><code class="literal">'cscs'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; CS &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;X&gt; &lt;T&gt; CCS &lt;/吨&gt; &lt;延伸&gt; CS &lt;/延伸&gt; &lt;/ X&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              LDML规范将正常扩展语法描述为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">棘手”。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详情请参阅该规格。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              上一个上下文语法使用</font></font><code class="literal">&lt;x&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              加上</font></font><code class="literal">&lt;context&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素来指​​定字符前面的上下文影响它的排序方式。</font><font style="vertical-align: inherit;">以下规定</font></font><code class="literal">'-'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在中学阶段比在中学阶段更大
               </font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但仅在下列阶段
               </font></font><code class="literal">'-'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生后
               </font></font><code class="literal">'b'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt;一&lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;X&gt; &lt;上下文&gt; B'/上下文&gt; &lt;S&gt;  -  &lt;/ S&gt; &lt;/ X&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              上一个上下文语法可以包含该
               </font></font><code class="literal">&lt;extend&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素。</font><font style="vertical-align: inherit;">这些规则
               </font></font><code class="literal">'def'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在初级阶段比在初级阶段更重要
               </font></font><code class="literal">'aghi'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是只有在这
               </font></font><code class="literal">'def'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后
               </font></font><code class="literal">'abc'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt;一&lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;X&gt; &lt;上下文&gt; ABC &lt;/上下文&gt; &lt;P&gt; DEF &lt;/ p&gt; &lt;延伸&gt; GHI &lt;/延伸&gt; &lt;/ X&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              重置规则允许一个</font></font><code class="literal">before</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font><font style="vertical-align: inherit;">通常，重置规则后的移位规则表示在重置字符后排序的字符。</font><font style="vertical-align: inherit;">在具有</font></font><code class="literal">before</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">的重置规则之后移位规则
               </font><font style="vertical-align: inherit;">指示在重置字符之前排序的字符。</font><font style="vertical-align: inherit;">以下规则将角色</font></font><code class="literal">'b'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">立即</font></font><code class="literal">'a'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置于小学阶段：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;reset before =“primary”&gt; a &lt;/ reset&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt; B'/ P&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              允许的</font></font><code class="literal">before</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性值按名称或等效数值指定排序级别：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;reset before =“primary”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;reset before =“1”&gt;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;reset before =“secondary”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;reset before =“2”&gt;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;reset before =“tertiary”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;reset before =“3”&gt;</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              重置规则可以命名逻辑重置位置而​​不是文字字符：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;first_tertiary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_tertiary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;first_secondary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_secondary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;first_primary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_primary_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;first_variable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_variable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;first_non_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_non_ignorable /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;first_trailing /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;last_trailing /&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"></font><code class="literal">'z'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与具有默认Unicode排序元素表（DUCET）条目且不是CJK的不可忽略字符相比，</font><font style="vertical-align: inherit;">
              这些规则</font><font style="vertical-align: inherit;">在基本级别上更为明显：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; &lt;last_non_ignorable /&gt; &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;P&gt;ž&lt;/ P&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              逻辑位置具有下表中显示的代码点。
</font></font></p>
<div class="table">
<a name="logical-reset-position-code-points"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表10.6逻辑复位位置代码点</font></font></b></p>
<div class="table-contents">
<table summary="Logical positions and Unicode 4.0.0 and Unicode 5.2.0 code points."><colgroup><col width="40%"><col width="30%"><col width="30%"></colgroup><thead><tr>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑位置</font></font></th>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode 4.0.0 Code Point</font></font></th>
                  <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode 5.2.0 Code Point</font></font></th>
                </tr></thead><tbody><tr>
                  <td scope="row"><code class="literal">&lt;first_non_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 02D0</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 02D0</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_non_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + A48C</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 1342E</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;first_primary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0332</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0332</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_primary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 20EA</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 101FD</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;first_secondary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_secondary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + FE73</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + FE73</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;first_tertiary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_tertiary_ignorable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + FE73</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + FE73</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;first_trailing/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_trailing/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0000</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;first_variable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0009</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 0009</font></font></td>
                </tr><tr>
                  <td scope="row"><code class="literal">&lt;last_variable/&gt;</code></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 2183</font></font></td>
                  <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 1D371</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break"></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素允许</font></font><code class="literal">shift-after-method</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">影响轮班规则字符重量计算</font><font style="vertical-align: inherit;">的
               </font><font style="vertical-align: inherit;">属性。</font><font style="vertical-align: inherit;">该属性具有以下允许的值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <code class="literal">simple</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：根据没有</font></font><code class="literal">before</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的</font><font style="vertical-align: inherit;">重置规则计算字符权重
                   </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果没有给出属性，这是默认值。
                </font></font></p></li><li class="listitem"><p>
                  <code class="literal">expand</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在重置规则后使用扩展进行轮班。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              假设</font></font><code class="literal">'0'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">'1'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有</font><font style="vertical-align: inherit;">和的
               </font><font style="vertical-align: inherit;">权重，
               </font></font><code class="literal">0E29</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">0E2A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们希望将所有基本拉丁字母放在</font></font><code class="literal">'0'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间
               </font></font><code class="literal">'1'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; 0 &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;PC&gt; ABCDEFGHIJKLMNOPQRSTUVWXYZ &lt;/ PC&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于简单换档模式，权重计算如下：
            </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'a'的体重为0E29 + 1</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'b'的重量为0E29 + 2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'c'的体重为0E29 + 3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              然而，没有足够的职位空缺放之间的26个字符</font></font><code class="literal">'0'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
               </font></font><code class="literal">'1'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">结果是数字和字母混杂在一起。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              要解决这个问题，请使用
               </font></font><code class="literal">shift-after-method="expand"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后重量计算如下：
            </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'a'有体重[0E29] [233D + 1]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'b'有重量[0E29] [233D + 2]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'c'有体重[0E29] [233D + 3]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p>
              <code class="literal">233D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是字符的UCA 4.0.0权重</font></font><code class="literal">0xA48C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是最后一个不可忽略字符（排序中最大的一个字符，不包括CJK）。</font><font style="vertical-align: inherit;">UCA 5.2.0类似，但</font></font><code class="literal">3ACA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于角色
               </font></font><code class="literal">0x1342E</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p>
          <span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于MySQL的LDML扩展</font></font></strong></span>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对LDML规则的扩展允许
           </font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素</font></font><code class="literal">version</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="literal">&lt;collation&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签中</font><font style="vertical-align: inherit;">包含一个可选</font><font style="vertical-align: inherit;">属性
           </font><font style="vertical-align: inherit;">来指示归类所基于的UCA版本。</font><font style="vertical-align: inherit;">如果该
           </font></font><code class="literal">version</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性被省略，则其默认值为</font></font><code class="literal">4.0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，此规范指示基于UCA 5.2.0的归类：
        </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;collat​​ion id =“ </font></font><em class="replaceable"><code>nnn</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”name =“utf8_ </font></font><em class="replaceable"><code>xxx</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_ci”version =“5.2.0”&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/核对&gt;</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="collation-diagnostics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.13.4.3在Index.xml解析期间进行诊断</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL服务器在解析</font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">时发现问题时会生成诊断信息</font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              未知标签写入错误日志。</font><font style="vertical-align: inherit;">例如，如果排序规则定义包含</font></font><code class="literal">&lt;aaa&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记，</font><font style="vertical-align: inherit;">则会显示以下消息</font><font style="vertical-align: inherit;">：
            </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[警告]缓冲警告：未知的LDML标签：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'字符集/字符集/归类/规则/ AAA'</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果无法进行归类初始化，则服务器会报告</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未知归类</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误，并且会生成警告来解释问题，如上例所示。</font><font style="vertical-align: inherit;">在其他情况下，当排序规则说明通常正确但包含一些未知标签时，排序规则将被初始化并可供使用。</font><font style="vertical-align: inherit;">未知部分将被忽略，但在错误日志中会生成警告。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              归类问题会生成客户端可以显示的警告</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-warnings" title="13.7.5.40 SHOW WARNINGS语法"><code class="literal">SHOW
              WARNINGS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">假设重置规则包含的扩展长度超过了6个字符的最大支持长度：
            </font></font></p><pre data-lang="xml" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;复位&gt; ABCDEFGHI &lt;/复位&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;I&gt; X &lt;/ i&gt;的</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尝试使用整理会产生警告：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT _utf8'test' COLLATE utf8_test_ci;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
错误1273（HY000）：未知整理：'utf8_test_ci'</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SHOW WARNINGS;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ------ + -------------------------------- -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">级别| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">留言|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ------ + -------------------------------- -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">错误| </font><font style="vertical-align: inherit;">1273 | </font><font style="vertical-align: inherit;">未知整理：'utf8_test_ci'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">警告| </font><font style="vertical-align: inherit;">1273 | </font><font style="vertical-align: inherit;">'abcdefghi = x'|的扩展太长了</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + ------ + -------------------------------- -------- +</font></font><font></font>
</pre></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="charset-configuration"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.14字符集配置</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动服务器时，可以</font><font style="vertical-align: inherit;">
      使用</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_collation-server"><code class="option">--collation-server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">更改默认服务器字符集和整理</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">排序规则必须是默认字符集的合法排序规则。</font><font style="vertical-align: inherit;">（使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION语法"><code class="literal">SHOW
      COLLATION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句来确定每个字符集可用的排序规则。）请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#server-options" title="5.1.4服务器命令选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.4节“服务器命令选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果您尝试使用未编译到二进制文件中的字符集，则可能会遇到以下问题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您的程序使用不正确的路径来确定字符集的存储位置（通常
           </font><font style="vertical-align: inherit;">是MySQL安装目录下的</font></font><code class="filename">share/mysql/charsets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
           </font></font><code class="filename">share/charsets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录）。</font></font><code class="option">--character-sets-dir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在运行相关程序时，可以</font><font style="vertical-align: inherit;">使用该</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">修复此
           </font><font style="vertical-align: inherit;">问题。</font><font style="vertical-align: inherit;">例如，要指定MySQL客户端程序要使用的目录，请将其列在
           </font></font><code class="literal">[client]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的选项文件组中。</font><font style="vertical-align: inherit;">这里给出的例子分别显示了Unix或Windows设置的设置：
        </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[客户]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
字符集-DIR =的/ usr /本地/ MySQL的/共享/ MySQL的/字符集</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[客户]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
character-sets-dir =“C：/ Program Files / MySQL / MySQL Server 5.7 / share / charsets”</font></font><font></font>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          字符集是一个复杂的字符集，不能动态加载。</font><font style="vertical-align: inherit;">在这种情况下，您必须重新编译支持字符集的程序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于Unicode字符集，您可以定义排序规则，而无需使用LDML符号重新编译。</font><font style="vertical-align: inherit;">请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#adding-collation-unicode-uca" title="10.13.4将UCA归类添加到Unicode字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.13.4节“将UCA整理添加到Unicode字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          字符集是一个动态字符集，但您没有配置文件。</font><font style="vertical-align: inherit;">在这种情况下，您应该从新的MySQL分发版安装字符集的配置文件。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果您的字符集索引文件不包含字符集的名称，您的程序将显示一条错误消息。</font><font style="vertical-align: inherit;">该文件被命名</font></font><code class="filename">Index.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且消息是：
        </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集' </font></font><em class="replaceable"><code>charset_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'不是编译字符集，也不是</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在'/usr/share/mysql/charsets/Index.xml'文件中指定</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要解决此问题，您应该获取新的索引文件或手动将任何缺少的字符集的名称添加到当前文件。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以强制客户端程序使用特定的字符集，如下所示：
    </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[客户]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
默认字符集=</font></font><em class="replaceable"><code>charset_name</code></em>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这通常是不必要的。</font><font style="vertical-align: inherit;">然而，当
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同于
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且您输入的字符手动（如数据库对象标识符，列值，或两者），这些可能会错误地显示在输出从客户端或输出本身格式可能不正确。</font><font style="vertical-align: inherit;">在这种情况下，启动mysql客户端（
       </font><font style="vertical-align: inherit;">即将客户端字符集设置为匹配系统字符集）应该可以解决问题。
    </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=<em class="replaceable"><code>system_character_set</code></em></code></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格，您可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#myisamchk" title="4.6.3 myisamchk  -  MyISAM表维护实用程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myisamchk -dvv
      </font></font><em class="replaceable"><code>tbl_name</code></em></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查表格的字符集名称和编号</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="locale-support"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.15 MySQL服务器区域设置支持</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">
      指示的区域设置
       </font><font style="vertical-align: inherit;">控制用于显示日和月份名称和缩写的语言。</font><font style="vertical-align: inherit;">此变量影响从输出
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_dayname"><code class="literal">DAYNAME()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能。
    </font></font></p><p>
      <a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不影响
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-format"><code class="literal">GET_FORMAT()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值不会影响结果</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_format"><code class="literal">FORMAT()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但此函数采用可选的第三个参数，该参数可以指定区域设置用于结果号的小数点，千位分隔符和分隔符之间的分组。</font><font style="vertical-align: inherit;">允许的区域设置值与</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的合法值相同
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      区域设置名称包含由IANA（</font></font><a class="ulink" href="http://www.iana.org/assignments/language-subtag-registry" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.iana.org/assignments/language-subtag-registry</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">列出的语言和区域子标签，</font><font style="vertical-align: inherit;">例如</font></font><code class="literal">'ja_JP'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">'pt_BR'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值</font></font><code class="literal">'en_US'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与系统的区域设置无关，但您可以在服务器启动时设置该值，或者</font></font><code class="literal">GLOBAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您拥有该</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限，</font><font style="vertical-align: inherit;">则可以</font><font style="vertical-align: inherit;">设置该</font><font style="vertical-align: inherit;">值
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">任何客户端都可以检查值
       </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或设置其
       </font></font><code class="literal">SESSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值以影响其自身连接的区域设置。
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET NAMES 'utf8';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.09秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT @@lc_time_names;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ lc_time_names |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">en_US |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT DAYNAME('2010-01-01'), MONTHNAME('2010-01-01');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">DAYNAME（'2010-01-01'）| </font><font style="vertical-align: inherit;">MONTHNAME（'2010-01-01'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">星期五| </font><font style="vertical-align: inherit;">一月|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT DATE_FORMAT('2010-01-01','%W %a %M %b');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">DATE_FORMAT（'2010-01-01'，'％W％a％M％b'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">星期五五月一月一月|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SET lc_time_names = 'es_MX';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT @@lc_time_names;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ lc_time_names |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">es_MX |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT DAYNAME('2010-01-01'), MONTHNAME('2010-01-01');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">DAYNAME（'2010-01-01'）| </font><font style="vertical-align: inherit;">MONTHNAME（'2010-01-01'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">viernes | </font><font style="vertical-align: inherit;">enero |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- + ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT DATE_FORMAT('2010-01-01','%W %a %M %b');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">DATE_FORMAT（'2010-01-01'，'％W％a％M％b'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">viernes vie enero ene |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      将每个受影响功能的日期或月份名称转换</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为由</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">指示的字符集
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p>
      <a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以设置为以下任何语言环境值。</font><font style="vertical-align: inherit;">MySQL支持的一组语言环境可能与您的操作系统支持的不同。
</font></font></p>
<div class="informaltable">
<table summary="Locale values to which lc_time_names may be set. The locale values are presented in a two-column table and in alphabetical order from top to bottom."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域值</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含义</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">ar_AE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯 - 阿拉伯联合酋长国</font></font></td>
          <td><code class="literal">ar_BH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 巴林</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_DZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯文 - 阿尔及利亚</font></font></td>
          <td><code class="literal">ar_EG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 埃及</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 印度</font></font></td>
          <td><code class="literal">ar_IQ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 伊拉克</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_JO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 约旦</font></font></td>
          <td><code class="literal">ar_KW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯文 - 科威特</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_LB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 黎巴嫩</font></font></td>
          <td><code class="literal">ar_LY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 利比亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_MA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 摩洛哥</font></font></td>
          <td><code class="literal">ar_OM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 阿曼</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_QA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 卡塔尔</font></font></td>
          <td><code class="literal">ar_SA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 沙特阿拉伯</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_SD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 苏丹</font></font></td>
          <td><code class="literal">ar_SY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 叙利亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ar_TN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 突尼斯</font></font></td>
          <td><code class="literal">ar_YE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿拉伯语 - 也门</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">be_BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：白俄罗斯 - 白俄罗斯</font></font></td>
          <td><code class="literal">bg_BG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：保加利亚语 - 保加利亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ca_ES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：加泰罗尼亚语 - 西班牙</font></font></td>
          <td><code class="literal">cs_CZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：捷克 - 捷克共和国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">da_DK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：丹麦 - 丹麦</font></font></td>
          <td><code class="literal">de_AT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：德国 - 奥地利</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">de_BE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：德语 - 比利时</font></font></td>
          <td><code class="literal">de_CH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：德国 - 瑞士</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">de_DE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：德国 - 德国</font></font></td>
          <td><code class="literal">de_LU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：德国 - 卢森堡</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">el_GR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：希腊 - 希腊</font></font></td>
          <td><code class="literal">en_AU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英语 - 澳大利亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">en_CA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英语 - 加拿大</font></font></td>
          <td><code class="literal">en_GB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英语 - 英国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">en_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英文 - 印度</font></font></td>
          <td><code class="literal">en_NZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英文 - 新西兰</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">en_PH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英文 - 菲律宾</font></font></td>
          <td><code class="literal">en_US</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">： 美国英语</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">en_ZA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英语 - 南非</font></font></td>
          <td><code class="literal">en_ZW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英语 - 津巴布韦</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_AR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙文 - 阿根廷</font></font></td>
          <td><code class="literal">es_BO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 玻利维亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_CL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 智利</font></font></td>
          <td><code class="literal">es_CO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙 - 哥伦比亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_CR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 哥斯达黎加</font></font></td>
          <td><code class="literal">es_DO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 多米尼加共和国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_EC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 厄瓜多尔</font></font></td>
          <td><code class="literal">es_ES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 西班牙</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_GT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙文 - 危地马拉</font></font></td>
          <td><code class="literal">es_HN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 洪都拉斯</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_MX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 墨西哥</font></font></td>
          <td><code class="literal">es_NI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 尼加拉瓜</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_PA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 巴拿马</font></font></td>
          <td><code class="literal">es_PE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 秘鲁</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_PR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 波多黎各</font></font></td>
          <td><code class="literal">es_PY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 巴拉圭</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_SV</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 萨尔瓦多</font></font></td>
          <td><code class="literal">es_US</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 美国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">es_UY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 乌拉圭</font></font></td>
          <td><code class="literal">es_VE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：西班牙语 - 委内瑞拉</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">et_EE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：爱沙尼亚语 - 爱沙尼亚</font></font></td>
          <td><code class="literal">eu_ES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：巴斯克 - 巴斯克</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">fi_FI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：芬兰 - 芬兰</font></font></td>
          <td><code class="literal">fo_FO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法罗群岛 - 法罗群岛</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">fr_BE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法语 - 比利时</font></font></td>
          <td><code class="literal">fr_CA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法语 - 加拿大</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">fr_CH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法国 - 瑞士</font></font></td>
          <td><code class="literal">fr_FR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法国 - 法国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">fr_LU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：法语 - 卢森堡</font></font></td>
          <td><code class="literal">gl_ES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：加利西亚 - 西班牙</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">gu_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：古吉拉特语 - 印度</font></font></td>
          <td><code class="literal">he_IL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：希伯来语 - 以色列</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">hi_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：印度语 - 印度</font></font></td>
          <td><code class="literal">hr_HR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：克罗地亚 - 克罗地亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">hu_HU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：匈牙利 - 匈牙利</font></font></td>
          <td><code class="literal">id_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：印度尼西亚 - 印尼</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">is_IS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：冰岛 - 冰岛</font></font></td>
          <td><code class="literal">it_CH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：意大利语 - 瑞士</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">it_IT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：意大利语 - 意大利</font></font></td>
          <td><code class="literal">ja_JP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：日本 - 日本</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ko_KR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：韩国 - 大韩民国</font></font></td>
          <td><code class="literal">lt_LT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：立陶宛 - 立陶宛</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">lv_LV</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：拉脱维亚 - 拉脱维亚</font></font></td>
          <td><code class="literal">mk_MK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：马其顿 -  FYROM</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">mn_MN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：蒙古 - 蒙古语</font></font></td>
          <td><code class="literal">ms_MY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：马来语 - 马来西亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">nb_NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：挪威语（Bokmål） - 挪威</font></font></td>
          <td><code class="literal">nl_BE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：荷兰 - 比利时</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">nl_NL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：荷兰 - 荷兰</font></font></td>
          <td><code class="literal">no_NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：挪威 - 挪威</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">pl_PL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：波兰 - 波兰</font></font></td>
          <td><code class="literal">pt_BR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：葡萄牙 - 巴西</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">pt_PT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：葡萄牙 - 葡萄牙</font></font></td>
          <td><code class="literal">rm_CH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：罗曼什 - 瑞士</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ro_RO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：罗马尼亚 - 罗马尼亚</font></font></td>
          <td><code class="literal">ru_RU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：俄罗斯 - 俄罗斯</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ru_UA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：俄罗斯 - 乌克兰</font></font></td>
          <td><code class="literal">sk_SK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：斯洛伐克 - 斯洛伐克</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">sl_SI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：斯洛文尼亚 - 斯洛文尼亚</font></font></td>
          <td><code class="literal">sq_AL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：阿尔巴尼亚 - 阿尔巴尼亚</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">sr_RS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：塞尔维亚 - 南斯拉夫</font></font></td>
          <td><code class="literal">sv_FI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：瑞典语 - 芬兰</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">sv_SE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：瑞典语 - 瑞典</font></font></td>
          <td><code class="literal">ta_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：泰米尔 - 印度</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">te_IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：泰卢固语 - 印度</font></font></td>
          <td><code class="literal">th_TH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：泰国 - 泰国</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">tr_TR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：土耳其 - 土耳其</font></font></td>
          <td><code class="literal">uk_UA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：乌克兰 - 乌克兰</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">ur_PK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：乌尔都语 - 巴基斯坦</font></font></td>
          <td><code class="literal">vi_VN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：越南 - 越南</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">zh_CN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：中国 - 中国</font></font></td>
          <td><code class="literal">zh_HK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：中国 - 香港</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">zh_TW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：中国 - 中国台湾省</font></font></td>
          <td></td>
</tr></tbody></table>
</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/language-structure.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a></td>
<td width="20%" align="center"><a accesskey="u" href="/mysql-5.7-google-zh/charset.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/data-types.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第9章语言结构</font></font></td>
<td width="20%" align="center"><a accesskey="h" href="/mysql-5.7-google-zh/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></td>
<td width="40%" align="right" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11章数据类型</font></font></td>
</tr>
</tbody></table>
</div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./images/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>