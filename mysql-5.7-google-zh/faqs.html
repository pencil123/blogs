<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>附录A MySQL 5.7常见问题</title>
<link rel="stylesheet" href="./images/mvl.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
<link rel="start" href="/mysql-5.7-google-zh/index.html" title="{书名}">
<link rel="up" href="/mysql-5.7-google-zh/faqs.html" title="">
<link rel="prev" href="/mysql-5.7-google-zh/workbench.html" title="第30章MySQL Workbench">
<link rel="next" href="/mysql-5.7-google-zh/error-handling.html" title="附录B错误，错误代码和常见问题">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./images/translateelement.css"></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附录A MySQL 5.7常见问题</font></font></th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/workbench.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a>&nbsp;</td>
<th width="60%" align="center"></th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/error-handling.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
</tbody></table>
<hr>
</div>
<div class="appendix">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="faqs"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附录A MySQL 5.7常见问题</font></font></h1>

</div>

</div>

</div>
<div class="toc">
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></b></p><dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-general"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1 MySQL 5.7常见问题解答：一般</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-storage-engines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2 MySQL 5.7 FAQ：存储引擎</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-sql-modes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3 MySQL 5.7 FAQ：服务器SQL模式</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-stored-procs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4 MySQL 5.7 FAQ：存储过程和函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-triggers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5 MySQL 5.7 FAQ：触发器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6 MySQL 5.7 FAQ：视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7 MySQL 5.7 FAQ：INFORMATION_SCHEMA</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-migration"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8 MySQL 5.7 FAQ：迁移</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9 MySQL 5.7常见问题解答：安全性</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-mysql-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10 MySQL 5.7 FAQ：NDB集群</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-cjk"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11 MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-connectors-apis"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.12 MySQL 5.7 FAQ：连接器和API</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13 MySQL 5.7 FAQ：复制</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-thread-pool"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14 MySQL 5.7 FAQ：MySQL企业线程池</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-innodb-change-buffer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15 MySQL 5.7 FAQ：InnoDB变更缓冲区</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-tablespace-encryption"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16 MySQL 5.7 FAQ：InnoDB表空间加密</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/faqs.html#faqs-virtualization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.17 MySQL 5.7 FAQ：虚拟化支持</font></font></a></span></dt></dl>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-general"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1 MySQL 5.7常见问题解答：一般</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953359488"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-version-ga"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪个版本的MySQL是可以生产的（GA）？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-version-non-ga"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是发展状况（非GA）版本？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-do-subqueries"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行子查询吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-do-multiple-iud"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行多表插入，更新和删除吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-query-cache"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有查询缓存？</font><font style="vertical-align: inherit;">它可以在服务器，实例或数据库上工作吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-sequences"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7有序列吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-now-fractions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有NOW（）函数几分之一秒？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-support-multi-core"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持多核处理器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-why-multiple-processes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我会看到mysqld的多个进程？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-acid-transactions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行ACID事务吗？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-version-ga"></a><a name="idm140527953358720"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪个版本的MySQL是可以生产的（GA）？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7和MySQL 5.6支持生产使用。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7使用MySQL 5.7.9实现了通用性（GA）状态，该版本于2015年10月21日发布供生产使用。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.6在MySQL 5.6.10中实现了通用性（GA）状态，该版本于2013年2月5日发布供生产使用。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.5在MySQL 5.5.8中实现了通用性（GA）状态，该版本于2010年12月3日发布用于生产。MySQL 5.5系列不再是最新版本，但仍支持生产。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.1通过MySQL 5.1.30实现了通用性（GA）状态，该版本于2008年11月14日发布用于生产。MySQL 5.1的活动开发已结束。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.0通过MySQL 5.0.15实现了通用可用性（GA）状态，该版本于2005年10月19日发布用于生产。MySQL 5.0的活动开发已结束。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-version-non-ga"></a><a name="idm140527953353616"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是发展状况（非GA）版本？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL遵循里程碑版本模型，该模型引入了预生产质量特性并稳定它们以释放质量（请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-development-cycle/en/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/doc/mysql-development-cycle/en/index.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">然后这个过程重复进行，从而在预生产和发布质量状态之间释放循环。</font><font style="vertical-align: inherit;">请检查更改日志以确定给定版本的状态。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        正在使用上述里程碑发布方法积极开发MySQL 8.0，它是MySQL 5.7的继承者。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-do-subqueries"></a><a name="idm140527953350240"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行子查询吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#subqueries" title="13.2.10子查询语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.2.10节“子查询语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-do-multiple-iud"></a><a name="idm140527953347536"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行多表插入，更新和删除吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">有关执行多表更新所需的语法，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.2.11节“UPDATE语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">对于执行多表删除所需的操作，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#delete" title="13.2.2 DELETE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.2.2节“DELETE语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        多表插入可以使用其</font></font><code class="literal">FOR EACH ROW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子句包含</font><font style="vertical-align: inherit;">块</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内</font><font style="vertical-align: inherit;">多个
         </font><font style="vertical-align: inherit;">语句
         </font><font style="vertical-align: inherit;">的触发器来完成</font></font><code class="literal">BEGIN ... END</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/stored-programs-views.html#triggers" title="23.3使用触发器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第23.3节“使用触发器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-query-cache"></a><a name="idm140527953340224"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有查询缓存？</font><font style="vertical-align: inherit;">它可以在服务器，实例或数据库上工作吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">（但是，查询缓存从MySQL 5.7.20开始已弃用，并在MySQL 8.0中删除。）查询缓存在服务器级别上运行，缓存与原始查询字符串匹配的完整结果集。</font><font style="vertical-align: inherit;">如果完全相同的查询（通常发生，特别是在Web应用程序中），则不需要解析或执行; </font><font style="vertical-align: inherit;">结果直接从缓存发送。</font><font style="vertical-align: inherit;">各种调整选项可用。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/optimization.html#query-cache" title="8.10.3 MySQL查询缓存"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第8.10.3节“MySQL查询缓存”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-sequences"></a><a name="idm140527953337056"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7有序列吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        但是，MySQL有一个</font></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        系统，它在MySQL 5.7中也可以处理多主复制设置中的插入。</font><font style="vertical-align: inherit;">使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量，您可以设置每个服务器以生成不与其他服务器冲突的自动增量值。</font><font style="vertical-align: inherit;">该
         </font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值应该大于服务器的数量，并且每个服务器应该具有唯一的偏移量。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-now-fractions"></a><a name="idm140527953330192"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_now"><code class="literal">NOW()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秒功能？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#fractional-seconds" title="11.3.6小数秒的时间值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.3.6节“小数秒的时间值”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-support-multi-core"></a><a name="idm140527953326256"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持多核处理器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">MySQL是完全多线程的，并且会使用多个CPU，前提是操作系统支持它们。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-why-multiple-processes"></a><a name="idm140527953324096"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我会看到多个进程</font></font><code class="literal">mysqld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用LinuxThreads时，您应该至少会看到三个
         </font><font style="vertical-align: inherit;">正在运行的</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程。</font><font style="vertical-align: inherit;">这些实际上是线程。</font><font style="vertical-align: inherit;">LinuxThreads管理器有一个线程，一个线程处理连接，一个线程处理警报和信号。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-acid-transactions"></a><a name="idm140527953319984"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.1.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7可以执行ACID事务吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">所有当前的MySQL版本都支持事务。</font><font style="vertical-align: inherit;">该
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎提供了完整的ACID事务与行级锁，多版本，非锁定重复读取和四个SQL标准的隔离级别。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎支持的
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一的事务隔离级别。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-storage-engines"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2 MySQL 5.7 FAQ：存储引擎</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953313440"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-what-storage-engines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以获得MySQL存储引擎的完整文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-new-storage-engines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中是否有新的存储引擎？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-removed-storage-engines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中有没有任何存储引擎被删除？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-disabling-storage-engines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以阻止使用特定的存储引擎吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-innodb-backup-recovery-advantage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        与InnoDB和非InnoDB存储引擎的组合相比，独家使用InnoDB存储引擎是否有优势？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-what-archive-engine"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        ARCHIVE存储引擎的独特优势是什么？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-storage-engines"></a><a name="idm140527953312624"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以获得MySQL存储引擎的完整文档？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/storage-engines.html" title="第15章备用存储引擎"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第15章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备用存储引擎</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该章节包含有关除</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎和
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎（用于MySQL集群）</font><font style="vertical-align: inherit;">之外的所有MySQL存储引擎的信息
         </font><font style="vertical-align: inherit;">。</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
         </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InnoDB存储引擎中有介绍</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21章中讨论，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL NDB Cluster 7.5和NDB Cluster 7.6</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-new-storage-engines"></a><a name="idm140527953303584"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中是否有新的存储引擎？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        No. </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是新表的默认存储引擎。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-introduction" title="14.1 InnoDB简介"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-introduction" title="14.1 InnoDB简介"><font style="vertical-align: inherit;">第14.1节“InnoDB简介”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-removed-storage-engines"></a><a name="idm140527953300112"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中有没有任何存储引擎被删除？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-disabling-storage-engines"></a><a name="idm140527953298112"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以阻止使用特定的存储引擎吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">的
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_disabled_storage_engines"><code class="literal">disabled_storage_engines</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置选项定义了存储引擎不能用于创建表或表空间。</font><font style="vertical-align: inherit;">默认情况下，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_disabled_storage_engines"><code class="literal">disabled_storage_engines</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为空（不禁用引擎），但可以将其设置为一个或多个引擎的逗号分隔列表。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-innodb-backup-recovery-advantage"></a><a name="idm140527953293280"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        独占</font><font style="vertical-align: inherit;">
        使用</font><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">是否有优势</font><font style="vertical-align: inherit;">，而不是</font><font style="vertical-align: inherit;">
        存储引擎</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和非</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">的组合
         </font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独占</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">表格可以简化备份和恢复操作。</font><font style="vertical-align: inherit;">MySQL Enterprise Backup </font><font style="vertical-align: inherit;">对所有使用</font><font style="vertical-align: inherit;">存储引擎的</font><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">进行</font></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_hot_backup" title="热备份"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热备份</font></font></a><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于使用</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或其他非</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎的表，它执行
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份，即数据库继续运行，但这些表在备份时不能修改。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-enterprise.html#mysql-enterprise-backup" title="29.2 MySQL企业备份概述"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第29.2节“MySQL企业备份概述”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-archive-engine"></a><a name="idm140527953283936"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.2.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><code class="literal">ARCHIVE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储引擎</font><font style="vertical-align: inherit;">
        的独特优势是</font><font style="vertical-align: inherit;">什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">ARCHIVE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎存储大量无索引数据; </font><font style="vertical-align: inherit;">它占用的空间很小，并使用表扫描来执行选择。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/storage-engines.html#archive-storage-engine" title="15.5 ARCHIVE存储引擎"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/storage-engines.html#archive-storage-engine" title="15.5 ARCHIVE存储引擎"><font style="vertical-align: inherit;">第15.5节“ARCHIVE存储引擎”</font></a><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-sql-modes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3 MySQL 5.7 FAQ：服务器SQL模式</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953278928"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-what-sql-modes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是服务器SQL模式？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-count-sql-modes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有多少个SQL服务器模式？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-see-sql-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你如何确定服务器SQL模式？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-sql-mode-dependency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        模式是依赖于数据库还是连接？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-extend-strict-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        严格模式的规则可以扩展吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-strict-impact"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        严格模式是否会影响性能？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-what-default-mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装MySQL 5.7时默认的服务器SQL模式是什么？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-sql-modes"></a><a name="idm140527953278112"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是服务器SQL模式？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        服务器SQL模式定义了MySQL应该支持的SQL语法以及应该执行哪种数据验证检查。</font><font style="vertical-align: inherit;">这使得在不同环境中使用MySQL变得更加容易，并且可以将MySQL与其他数据库服务器一起使用。</font><font style="vertical-align: inherit;">MySQL服务器将这些模式分别应用于不同的客户端。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.8节“服务器SQL模式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-count-sql-modes"></a><a name="idm140527953275152"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有多少个SQL服务器模式？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每种模式都可以独立开启和关闭。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">可用模式的完整列表，</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.8节“服务器SQL模式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-see-sql-mode"></a><a name="idm140527953272384"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你如何确定服务器SQL模式？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以</font><font style="vertical-align: inherit;">
        使用该</font><font style="vertical-align: inherit;">
        选项</font><font style="vertical-align: inherit;">设置默认的SQL模式（用于</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动）</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_sql-mode"><code class="option">--sql-mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用该语句
         </font><font style="vertical-align: inherit;">，您可以将连接中的设置从本地更改为连接，或者全局生效。</font><font style="vertical-align: inherit;">您可以通过发布</font><font style="vertical-align: inherit;">
        声明</font><font style="vertical-align: inherit;">来检索当前模式</font><font style="vertical-align: inherit;">。
      </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-variable" title="13.7.4.1变量赋值的SET语法"><code class="literal">SET
        [GLOBAL|SESSION]
        sql_mode='<em class="replaceable"><code>modes</code></em>'</code></a><font style="vertical-align: inherit;"></font><code class="literal">SELECT @@sql_mode</code><font style="vertical-align: inherit;"></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-sql-mode-dependency"></a><a name="idm140527953265520"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        模式是依赖于数据库还是连接？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        模式没有链接到特定的数据库。</font><font style="vertical-align: inherit;">模式可以在本地设置为会话（连接），也可以全局为服务器设置。</font><font style="vertical-align: inherit;">您可以使用更改这些设置
         </font><font style="vertical-align: inherit;">。
      </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-variable" title="13.7.4.1变量赋值的SET语法"><code class="literal">SET
        [GLOBAL|SESSION]
        sql_mode='<em class="replaceable"><code>modes</code></em>'</code></a><font style="vertical-align: inherit;"></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-extend-strict-mode"></a><a name="idm140527953261696"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        严格模式的规则可以扩展吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当我们提到</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">严格的模式</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们的意思是在模式中至少一者的模式
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_all_tables"><code class="literal">STRICT_ALL_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已启用。</font><font style="vertical-align: inherit;">选项可以合并，因此您可以为模式添加限制。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;">第5.1.8节“服务器SQL模式”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-strict-impact"></a><a name="idm140527953254768"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        严格模式是否会影响性能？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对输入数据进行大量验证，即某些设置比验证未完成需要更多时间。</font><font style="vertical-align: inherit;">虽然性能影响不是那么好，但如果你不需要这种验证（也许你的应用程序已经处理了所有这些），那么MySQL允许你选择禁用严格模式。</font><font style="vertical-align: inherit;">但是，如果您确实需要，严格模式可以提供此类验证。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-default-mode"></a><a name="idm140527953251872"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.3.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装MySQL 5.7时默认的服务器SQL模式是什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.7的默认SQL模式包括以下模式：
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_zero_in_date"><code class="literal">NO_ZERO_IN_DATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_auto_create_user"><code class="literal">NO_AUTO_CREATE_USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式在MySQL 5.7.5添加。</font><font style="vertical-align: inherit;">该
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_auto_create_user"><code class="literal">NO_AUTO_CREATE_USER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式已添加到MySQL 5.7.7。</font><font style="vertical-align: inherit;">这些
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sqlmode_no_zero_in_date"><code class="literal">NO_ZERO_IN_DATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式都是在MySQL 5.7.8中添加的。</font><font style="vertical-align: inherit;">有关所有可用模式和默认MySQL行为的信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#sql-mode" title="5.1.8服务器SQL模式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.1.8节“服务器SQL模式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-stored-procs"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4 MySQL 5.7 FAQ：存储过程和函数</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953231440"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-procedures-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7支持存储过程和函数吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-procedures-functions-docs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关MySQL存储过程和存储函数的文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-procedures-forum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL存储过程的讨论论坛？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-ansi-2003-spec"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到存储过程的ANSI SQL 2003规范？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-manage-routines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你如何管理存储的例程？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-view-procedures-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有办法查看给定数据库中的所有存储过程和存储函数？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-procedures-stored"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程存储在哪里？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-group-procedures-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否可以将存储过程或存储函数分组到包中？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedure-call-procedure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否可以调用另一个存储过程？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedure-call-trigger"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个存储过程可以调用触发器吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedure-access-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个存储过程可以访问表吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedure-raise-error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否有提升应用程序错误的声明？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-exceptions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否提供异常处理？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-routine-results"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7存储例程可以返回结果集吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.15。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-with-recompile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否支持WITH RECOMPILE？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.16。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-mod-plsql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL等同于使用mod_plsql作为Apache上的网关直接与数据库中的存储过程对话？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.17。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedure-array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将数组作为输入传递给存储过程吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.18。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-pass-cursor-in"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将光标作为IN参数传递给存储过程吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.19。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-return-cursor-out"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我是否可以将光标作为存储过程的OUT参数返回？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.20。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-print-var-in-procedure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了调试目的，我可以在存储的例程中打印出一个变量的值吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.21。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-rollback-transaction-procedure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在存储过程中提交或回滚事务吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.22。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-procedures-replicatation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7存储过程和函数是否适用于复制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.23。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-are-procedures-replicated"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        主服务器上创建的存储过程和函数是否复制到从服务器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.24。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-procedures-replicated"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何复制存储过程和函数中发生的操作？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.25。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-security-procedures-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        将存储过程和函数与复制一起使用是否有特殊的安全要求？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.26。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-limitations-procedures-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制存储过程和函数操作有什么限制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.27。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-limitations-pit-recovery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        上述限制是否会影响MySQL执行时间点恢复的能力？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.28。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-when-limitations-resolved"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        正在做什么来纠正上述限制？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-procedures-functions"></a><a name="idm140527953230688"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7支持存储过程和函数吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">MySQL 5.7支持两种类型的存储例程，存储过程和存储功能。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-functions-docs"></a><a name="idm140527953228560"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关MySQL存储过程和存储函数的文档？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/stored-programs-views.html#stored-routines" title="23.2使用存储例程（过程和函数）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第23.2节“使用存储例程（过程和函数）”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-forum"></a><a name="idm140527953225920"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL存储过程的讨论论坛？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://forums.mysql.com/list.php?98" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://forums.mysql.com/list.php?98</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-ansi-2003-spec"></a><a name="idm140527953223104"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到存储过程的ANSI SQL 2003规范？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不幸的是，官方规格不是免费提供的（ANSI使它们可供购买）。</font><font style="vertical-align: inherit;">但是，还有一些书籍，如</font><font style="vertical-align: inherit;">Peter Gulutzan和Trudy Pelzer </font><font style="vertical-align: inherit;">撰写的</font></font><em class="citetitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL-99 Complete，Really</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，提供了有关标准的全面概述，包括存储过程的范围。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-manage-routines"></a><a name="idm140527953220272"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你如何管理存储的例程？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对存储的例程使用明确的命名方案总是一个好习惯。</font><font style="vertical-align: inherit;">您可以管理存储与程序
         </font></font><code class="literal">CREATE [FUNCTION|PROCEDURE]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">ALTER
        [FUNCTION|PROCEDURE]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">DROP
        [FUNCTION|PROCEDURE]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">SHOW CREATE
        [FUNCTION|PROCEDURE]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以使用</font><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><code class="literal">ROUTINES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">获取有关现有存储过程
         </font><font style="vertical-align: inherit;">的
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.20节“INFORMATION_SCHEMA ROUTINES表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-view-procedures-functions"></a><a name="idm140527953212528"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有办法查看给定数据库中的所有存储过程和存储函数？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">对于名为的数据库</font></font><em class="replaceable"><code>dbname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请在</font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><code class="literal">INFORMATION_SCHEMA.ROUTINES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">上使用此查询
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT ROUTINE_TYPE，ROUTINE_NAME</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    FROM INFORMATION_SCHEMA.ROUTINES</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    WHERE ROUTINE_SCHEMA =' </font></font><em class="replaceable"><code>dbname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.20节“INFORMATION_SCHEMA ROUTINES表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储例程的主体可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-function" title="13.7.5.8 SHOW CREATE FUNCTION语法"><code class="literal">SHOW CREATE FUNCTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（对于存储函数）或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-procedure" title="13.7.5.9 SHOW CREATE PROCEDURE语法"><code class="literal">SHOW CREATE
        PROCEDURE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（对于存储过程）</font><font style="vertical-align: inherit;">来查看
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-procedure" title="13.7.5.9 SHOW CREATE PROCEDURE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-procedure" title="13.7.5.9 SHOW CREATE PROCEDURE语法"><font style="vertical-align: inherit;">第13.7.5.9节“SHOW CREATE PROCEDURE语法”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-stored"></a><a name="idm140527953202544"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程存储在哪里？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在</font><font style="vertical-align: inherit;">系统数据库</font><font style="vertical-align: inherit;">的</font></font><code class="literal">proc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中
         </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，您不应该直接访问系统数据库中的表。</font><font style="vertical-align: inherit;">相反，查询</font></font><code class="literal">INFORMATION_SCHEMA</code>
        <a class="link" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><code class="literal">ROUTINES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#parameters-table" title="24.14 INFORMATION_SCHEMA参数表"><code class="literal">PARAMETERS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#routines-table" title="24.20 INFORMATION_SCHEMA ROUTINES表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.20节“INFORMATION_SCHEMA ROUTINES表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#parameters-table" title="24.14 INFORMATION_SCHEMA参数表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.14节“INFORMATION_SCHEMA参数表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您还可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-function" title="13.7.5.8 SHOW CREATE FUNCTION语法"><code class="literal">SHOW CREATE
        FUNCTION</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取有关存储功能的信息，并</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-procedure" title="13.7.5.9 SHOW CREATE PROCEDURE语法"><code class="literal">SHOW CREATE PROCEDURE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取有关存储过程的信息。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#show-create-procedure" title="13.7.5.9 SHOW CREATE PROCEDURE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.7.5.9节“SHOW CREATE PROCEDURE Syntax”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-group-procedures-functions"></a><a name="idm140527953190848"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否可以将存储过程或存储函数分组到包中？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不，这在MySQL 5.7中不受支持。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-call-procedure"></a><a name="idm140527953188768"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否可以调用另一个存储过程？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-call-trigger"></a><a name="idm140527953186736"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个存储过程可以调用触发器吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程可以执行</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致触发器激活</font><font style="vertical-align: inherit;">的SQL语句，例如
         </font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-access-table"></a><a name="idm140527953183456"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个存储过程可以访问表吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">存储过程可以根据需要访问一个或多个表。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-raise-error"></a><a name="idm140527953181360"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否有提升应用程序错误的声明？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">MySQL 5.7实现了SQL标准
         </font></font><code class="literal">SIGNAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">RESIGNAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        语句。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#condition-handling" title="13.6.7条件处理"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.6.7节“条件处理”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-exceptions"></a><a name="idm140527953177184"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储过程是否提供异常处理？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#handler" title="13.2.4 HANDLER语法"><code class="literal">HANDLER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        根据SQL标准</font><font style="vertical-align: inherit;">实现</font><font style="vertical-align: inherit;">定义。</font><font style="vertical-align: inherit;">有关详细</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#declare-handler" title="13.6.7.2 DECLARE ... HANDLER语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#declare-handler" title="13.6.7.2 DECLARE ... HANDLER语法"><font style="vertical-align: inherit;">第13.6.7.2节“DECLARE ... HANDLER语法”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-routine-results"></a><a name="idm140527953173248"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7存储例程可以返回结果集吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储过程</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以，但存储功能不行。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在存储过程中</font><font style="vertical-align: inherit;">执行普通的操作
        </font><font style="vertical-align: inherit;">，结果集将直接返回给客户端。</font><font style="vertical-align: inherit;">您需要使用MySQL 4.1（或更高版本）客户端/服务器协议才能正常工作。</font><font style="vertical-align: inherit;">这意味着，例如，在PHP中，您需要使用
        </font></font><code class="literal">mysqli</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名而不是旧的
        </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-with-recompile"></a><a name="idm140527953167872"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.15。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否</font></font><code class="literal">WITH RECOMPILE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持存储过程？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不在MySQL 5.7中。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-mod-plsql"></a><a name="idm140527953165184"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.16。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL等同于
         </font></font><code class="literal">mod_plsql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Apache上用作网关直接与数据库中的存储过程进行对话？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中没有相应的功能。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-array"></a><a name="idm140527953162336"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.17。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将数组作为输入传递给存储过程吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不在MySQL 5.7中。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-pass-cursor-in"></a><a name="idm140527953160352"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.18。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将光标作为</font></font><code class="literal">IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数传递给存储过程吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.7中，游标仅在存储过程中可用。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-return-cursor-out"></a><a name="idm140527953157552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.19。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将光标作为</font></font><code class="literal">OUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储过程</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">返回</font><font style="vertical-align: inherit;">吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.7中，游标仅在存储过程中可用。</font><font style="vertical-align: inherit;">但是，如果您未在a上打开游标
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则结果将直接发送到客户端。</font><font style="vertical-align: inherit;">你也可以是</font></font><code class="literal">SELECT
        INTO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.2.9节“SELECT语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-print-var-in-procedure"></a><a name="idm140527953152112"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.20。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了调试目的，我可以在存储的例程中打印出一个变量的值吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，您可以在</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储过程中</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行此操作</font><font style="vertical-align: inherit;">，但不能在存储功能中执行此操作。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在存储过程中</font><font style="vertical-align: inherit;">执行普通的操作
         </font><font style="vertical-align: inherit;">，结果集将直接返回给客户端。</font><font style="vertical-align: inherit;">您需要使用MySQL 4.1（或更高版本）客户端/服务器协议才能正常工作。</font><font style="vertical-align: inherit;">这意味着，例如，在PHP中，您需要使用</font></font><code class="literal">mysqli</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名而不是旧的
         </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-rollback-transaction-procedure"></a><a name="idm140527953146592"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.21。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在存储过程中提交或回滚事务吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">但是，您不能在存储的函数中执行事务操作。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedures-replicatation"></a><a name="idm140527953144448"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.22。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7存储过程和函数是否适用于复制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，存储过程和函数中执行的标准操作从主MySQL服务器复制到从服务器。</font></font><a class="xref" href="/mysql-5.7-google-zh/stored-programs-views.html#stored-programs-logging" title="23.7存储程序的二进制记录"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第23.7节“存储程序的二进制日志记录”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中详细介绍了一些限制</font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-are-procedures-replicated"></a><a name="idm140527953141552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.23。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        主服务器上创建的存储过程和函数是否复制到从服务器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，通过主服务器上的正常DDL语句执行的存储过程和函数的创建将被复制到从服务器，因此这两个服务器上将存在这些对象。
        </font></font><code class="literal">ALTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">DROP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储过程和函数的语句也被复制。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-procedures-replicated"></a><a name="idm140527953137776"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.24。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何复制存储过程和函数中发生的操作？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL记录存储过程中发生的每个DML事件，并将这些单独的操作复制到从服务器。</font><font style="vertical-align: inherit;">执行存储过程的实际调用不会被复制。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储函数改变数据被记录为函数调用，而不是每个函数内部发生的DML事件。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-security-procedures-replication"></a><a name="idm140527953134928"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.25。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        将存储过程和函数与复制一起使用是否有特殊的安全要求？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">由于从服务器有权执行从主服务器的二进制日志中读取的任何语句，因此存在使用带有复制的存储函数的特殊安全约束。</font><font style="vertical-align: inherit;">如果复制或二进制日志（一般用于时间点恢复）处于活动状态，则MySQL DBA有两个对它们开放的安全选项：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              任何希望创建存储函数的用户都必须被授予该</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              特权。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              或者，DBA可以将</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_log_bin_trust_function_creators"><code class="literal">log_bin_trust_function_creators</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              系统变量</font><font style="vertical-align: inherit;">设置
               </font><font style="vertical-align: inherit;">为1，从而使具有标准</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              特权的</font><font style="vertical-align: inherit;">任何人都</font><font style="vertical-align: inherit;">可以创建存储的功能。
</font></font></p></li></ol>
</div>
<p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-limitations-procedures-replication"></a><a name="idm140527953125936"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.26。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制存储过程和函数操作有什么限制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        嵌入在存储过程中的非确定性（随机）或基于时间的操作可能无法正确复制。</font><font style="vertical-align: inherit;">就其性质而言，随机产生的结果是不可预测的，并且不能准确再现，因此，复制到奴隶的随机动作将不反映在主人身上执行的动作。</font><font style="vertical-align: inherit;">声明存储的函数为
         </font></font><code class="literal">DETERMINISTIC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或将</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_log_bin_trust_function_creators"><code class="literal">log_bin_trust_function_creators</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        系统变量</font><font style="vertical-align: inherit;">设置
         </font><font style="vertical-align: inherit;">为0将不允许调用随机值操作。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此外，基于时间的操作不能在从站上再现，因为存储过程中此类操作的时间不能通过用于复制的二进制日志重现。</font><font style="vertical-align: inherit;">它仅记录DML事件并且不考虑时序约束。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最后，在大型DML操作（例如批量插入）期间发生错误的非事务性表可能会遇到复制问题，因为主机可能部分从DML活动更新，但由于发生的错误而没有对从机执行更新。</font><font style="vertical-align: inherit;">解决方法是使用</font></font><code class="literal">IGNORE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        关键字</font><font style="vertical-align: inherit;">执行函数的DML操作，</font><font style="vertical-align: inherit;">以便忽略导致错误的主服务器上的更新，并将不会导致错误的更新复制到从服务器上。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-limitations-pit-recovery"></a><a name="idm140527953119040"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.27。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        上述限制是否会影响MySQL执行时间点恢复的能力？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        影响复制的相同限制会影响时间点恢复。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-when-limitations-resolved"></a><a name="idm140527953116880"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.4.28。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        正在做什么来纠正上述限制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以选择基于语句的复制或基于行的复制。</font><font style="vertical-align: inherit;">原始复制实现基于基于语句的二进制日志记录。</font><font style="vertical-align: inherit;">基于行的二进制日志记录解决了前面提到的限制。
      </font></font></p><p>
        <span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">混合</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复制也是可用的（通过启动服务器
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=mixed</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">这种混合形式的复制
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知道</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否可以安全地使用语句级复制，或者需要行级复制。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-formats" title="16.2.1复制格式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.2.1节“复制格式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-triggers"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5 MySQL 5.7 FAQ：触发器</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953110112"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-triggers-docs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到MySQL 5.7触发器的文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-triggers-forum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有MySQL触发器的讨论论坛？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-trigger-levels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有语句级或行级触发器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-trigger-defaults"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有默认的触发器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-triggers-managed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中如何管理触发器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-view-all-triggers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有办法查看给定数据库中的所有触发器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-triggers-stored"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器存储在哪里？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-trigger-procedure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以调用存储过程？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-triggers-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以触发访问表？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-triggers-same-events"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一张表可以有多个具有相同触发事件和动作时间的触发器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-triggers-udf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以通过UDF调用外部应用程序？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-triggers-remote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以更新远程服务器上的表？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-triggers-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否适用于复制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-triggers-master-slave"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何通过复制到从设备的主设备上的触发器执行操作？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-triggers-docs"></a><a name="idm140527953109296"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到MySQL 5.7触发器的文档？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/stored-programs-views.html#triggers" title="23.3使用触发器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第23.3节“使用触发器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-triggers-forum"></a><a name="idm140527953106640"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有MySQL触发器的讨论论坛？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">它可以从</font></font><a class="ulink" href="http://forums.mysql.com/list.php?99" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://forums.mysql.com/list.php?99获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-trigger-levels"></a><a name="idm140527953104016"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有语句级或行级触发器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.7中，所有触发器都是</font></font><code class="literal">FOR EACH
        ROW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">即为插入，更新或删除的每一行激活触发器。</font><font style="vertical-align: inherit;">MySQL 5.7不支持使用触发器</font></font><code class="literal">FOR EACH
        STATEMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-trigger-defaults"></a><a name="idm140527953100352"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有默认的触发器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不明确。</font><font style="vertical-align: inherit;">对于某些</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#datetime" title="11.3.1 DATE，DATETIME和TIMESTAMP类型"><code class="literal">TIMESTAMP</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列以及用于定义的列，
         </font><font style="vertical-align: inherit;">MySQL确实具有特定的特殊行为</font></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-managed"></a><a name="idm140527953096256"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中如何管理触发器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.7中，可以使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-trigger" title="13.1.20 CREATE TRIGGER语法"><code class="literal">CREATE TRIGGER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">创建触发器</font><font style="vertical-align: inherit;">，并</font><font style="vertical-align: inherit;">使用该触发器
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#drop-trigger" title="13.1.31 DROP TRIGGER语法"><code class="literal">DROP TRIGGER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关这些语句的更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-trigger" title="13.1.20 CREATE TRIGGER语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-trigger" title="13.1.20 CREATE TRIGGER Syntax"><font style="vertical-align: inherit;">第13.1.20节“CREATE TRIGGER语法”</font></a><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#drop-trigger" title="13.1.31 DROP TRIGGER语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.1.31节“DROP TRIGGER语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关触发器的信息可以通过查询</font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#triggers-table" title="24.28 INFORMATION_SCHEMA触发器表"><code class="literal">INFORMATION_SCHEMA.TRIGGERS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">获得
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#triggers-table" title="24.28 INFORMATION_SCHEMA触发器表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.28节“INFORMATION_SCHEMA触发器表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-view-all-triggers"></a><a name="idm140527953087936"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有办法查看给定数据库中的所有触发器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">您可以</font></font><code class="literal">dbname</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#triggers-table" title="24.28 INFORMATION_SCHEMA触发器表"><code class="literal">INFORMATION_SCHEMA.TRIGGERS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">上的查询</font><font style="vertical-align: inherit;">来获取数据库</font><font style="vertical-align: inherit;">上
         </font><font style="vertical-align: inherit;">定义的所有触发器的列表，</font><font style="vertical-align: inherit;">如下面所示：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT TRIGGER_NAME，EVENT_MANIPULATION，EVENT_OBJECT_TABLE，ACTION_STATEMENT</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    FROM INFORMATION_SCHEMA.TRIGGERS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    WHERE TRIGGER_SCHEMA =' </font></font><em class="replaceable"><code>dbname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关此表的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#triggers-table" title="24.28 INFORMATION_SCHEMA触发器表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.28节“INFORMATION_SCHEMA触发器表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您也可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-triggers" title="13.7.5.38 SHOW TRIGGERS语法"><code class="literal">SHOW
        TRIGGERS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于MySQL </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">语句。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#show-triggers" title="13.7.5.38 SHOW TRIGGERS语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.7.5.38节“SHOW TRIGGERS语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-stored"></a><a name="idm140527953078944"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器存储在哪里？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器存储在</font></font><code class="filename">.TRG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中，每个表有一个这样的文件。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-trigger-procedure"></a><a name="idm140527953076144"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以调用存储过程？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-tables"></a><a name="idm140527953074128"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以触发访问表？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器可以访问自己表中的旧数据和新数据。</font><font style="vertical-align: inherit;">触发器也可以影响其他表，但不允许修改已调用该函数或触发器的语句（用于读取或写入）的表。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-same-events"></a><a name="idm140527953071840"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一张表可以有多个具有相同触发事件和动作时间的触发器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从MySQL 5.7.2开始，可以为具有相同触发事件和操作时间的给定表定义多个触发器。</font><font style="vertical-align: inherit;">例如，您可以</font></font><code class="literal">BEFORE
        UPDATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为表格添加</font><font style="vertical-align: inherit;">两个</font><font style="vertical-align: inherit;">触发器。</font><font style="vertical-align: inherit;">默认情况下，具有相同触发事件和操作时间的触发器按其创建顺序激活。</font><font style="vertical-align: inherit;">要影响触发顺序，请在后面指定一个子句，</font></font><code class="literal">FOR EACH ROW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以指示
         </font></font><code class="literal">FOLLOWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">PRECEDES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有同样具有相同触发事件和操作时间的现有触发的名称。</font><font style="vertical-align: inherit;">随着</font></font><code class="literal">FOLLOWS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，新的触发器在现有的触发器之后激活。</font><font style="vertical-align: inherit;">使用时
         </font></font><code class="literal">PRECEDES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，新触发器在现有触发器之前激活。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-udf"></a><a name="idm140527953064928"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以通过UDF调用外部应用程序？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">例如，触发器可以调用
         </font></font><code class="literal">sys_exec()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDF。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-remote"></a><a name="idm140527953062176"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否可以更新远程服务器上的表？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">可以使用</font></font><code class="literal">FEDERATED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">更新远程服务器上的表
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/storage-engines.html#federated-storage-engine" title="15.8 FEDERATED存储引擎"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第15.8节“联邦存储引擎”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-replication"></a><a name="idm140527953058672"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        触发器是否适用于复制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">但是，它们的工作方式取决于您是使用MySQL的</font><font style="vertical-align: inherit;">所有MySQL版本中</font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经典</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于语句的复制，还是使用MySQL 5.1中引入的基于行的复制格式。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用基于语句的复制时，从属设备上的触发器由主设备上执行的语句执行（并复制到从设备）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用基于行的复制时，由于在主服务器上运行并且复制到从服务器的语句，触发器不会在从服务器上执行。</font><font style="vertical-align: inherit;">相反，使用基于行的复制时，在主服务器上应用在主服务器上执行触发器引起的更改。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-features-triggers" title="16.4.1.35复制和触发器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.4.1.35节“复制和触发器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-master-slave"></a><a name="idm140527953053488"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.5.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何通过复制到从设备的主设备上的触发器执行操作？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        同样，这取决于您是使用基于语句还是基于行的复制。
      </font></font></p><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于语句的复制。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          首先，主服务器上存在的触发器必须在从服务器上重新创建。</font><font style="vertical-align: inherit;">完成此操作后，复制流程将与参与复制的任何其他标准DML语句一样运行。</font><font style="vertical-align: inherit;">例如，考虑一个</font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有</font></font><code class="literal">AFTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          插入触发器</font><font style="vertical-align: inherit;">的表</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">该表
           </font><font style="vertical-align: inherit;">存在于主MySQL服务器上。</font><font style="vertical-align: inherit;">同样的</font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表和</font></font><code class="literal">AFTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          插入触发器也存在于从服务器上。</font><font style="vertical-align: inherit;">复制流程将是：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句来制作</font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">AFTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发器
             </font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句写入二进制日志。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            复制从服务器将</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句
             </font><font style="vertical-align: inherit;">提取
             </font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并执行。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">AFTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发器
             </font></font><code class="literal">EMP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在于从激活。
</font></font></p></li></ol>
</div>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于行的复制。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当您使用基于行的复制时，在主服务器上应用在主服务器上执行触发器引起的更改。</font><font style="vertical-align: inherit;">但是，在基于行的复制下，触发器本身并不实际在从属设备上执行。</font><font style="vertical-align: inherit;">这是因为，如果主设备和从设备都应用了主设备的更改，并且此外还将引起这些更改的触发器应用于从设备，则更改实际上会在从设备上应用两次，从而导致不同的数据主人和奴隶。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在大多数情况下，基于行和基于语句的复制的结果是相同的。</font><font style="vertical-align: inherit;">但是，如果在主服务器和从服务器上使用不同的触发器，则不能使用基于行的复制。</font><font style="vertical-align: inherit;">（这是因为基于行的格式会将在主服务器上执行的触发器所做的更改复制到从服务器上，而不是导致触发器执行的语句，并且从服务器上的相应触发器不会执行。）相反，任何语句导致这样的触发器被执行必须使用基于语句的复制来复制。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-features-triggers" title="16.4.1.35复制和触发器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.4.1.35节“复制和触发器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-views"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6 MySQL 5.7 FAQ：视图</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953029088"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-docs-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到涵盖MySQL视图的文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-views-forum"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL视图的讨论论坛？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-view-dropped-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果基础表被删除或重命名，视图会发生什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-table-snapshots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7有表格快照吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-materialized-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有物化视图？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-insert-joins-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你可以插入基于连接的视图吗？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-views"></a><a name="idm140527953028384"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到涵盖MySQL视图的文档？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/stored-programs-views.html#views" title="23.5使用视图"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第23.5节“使用视图”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-views-forum"></a><a name="idm140527953025680"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有MySQL视图的讨论论坛？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://forums.mysql.com/list.php?100" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://forums.mysql.com/list.php?100</font></font></a>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-view-dropped-table"></a><a name="idm140527953022976"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果基础表被删除或重命名，视图会发生什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在创建视图后，可以删除或更改定义所引用的表或视图。</font><font style="vertical-align: inherit;">要检查这种问题的视图定义，请使用该
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><code class="literal">CHECK TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句。</font><font style="vertical-align: inherit;">（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.7.2.2节“CHECK TABLE语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-table-snapshots"></a><a name="idm140527953018800"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7有表格快照吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-materialized-views"></a><a name="idm140527953016848"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有物化视图？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-insert-joins-views"></a><a name="idm140527953014896"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.6.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你可以插入基于连接的视图吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是可能的，只要你的
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">陈述有一个明确的列列表，只涉及一个表格。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在视图上插入一个插入的多个表格。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-information-schema"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7 MySQL 5.7 FAQ：INFORMATION_SCHEMA</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527953009936"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-docs-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到MySQL INFORMATION_SCHEMA数据库的文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-forum-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关于INFORMATION_SCHEMA的论坛吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-ansi-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到INFORMATION_SCHEMA的ANSI SQL 2003规范？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-compare-oracle-data-dir-info-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Oracle Data Dictionary和MySQL INFORMATION_SCHEMA有什么区别？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-can-modify-information-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以添加或修改INFORMATION_SCHEMA数据库中的表格吗？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-information-schema"></a><a name="idm140527953009120"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到MySQL </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">文档
         </font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参阅</font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html" title="第24章INFORMATION_SCHEMA表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INFORMATION_SCHEMA表</font></font></i></a>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-forum-information-schema"></a><a name="idm140527953005744"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有没有讨论论坛
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参阅
         </font></font><a class="ulink" href="http://forums.mysql.com/list.php?101" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://forums.mysql.com/list.php?101</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-ansi-information-schema"></a><a name="idm140527953002368"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到ANSI SQL 2003规范
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不幸的是，官方规格并不是免费提供的。</font><font style="vertical-align: inherit;">（ANSI使它们可用于购买）。但是，有些书籍可供使用，例如</font><font style="vertical-align: inherit;">Peter Gulutzan和Trudy Pelzer提供的</font></font><em class="citetitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL-99 Complete，Really</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了包括标准在内的全面概述
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-compare-oracle-data-dir-info-schema"></a><a name="idm140527952998128"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Oracle数据字典和MySQL有</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么</font><font style="vertical-align: inherit;">区别</font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Oracle和MySQL都在表格中提供元数据。</font><font style="vertical-align: inherit;">但是，Oracle和MySQL使用不同的表名和列名。</font><font style="vertical-align: inherit;">MySQL的实现与DB2和SQL Server中的实现更类似，它们也支持
         </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL标准中定义的那些。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-modify-information-schema"></a><a name="idm140527952994384"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.7.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以添加或修改</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的表格
         </font><font style="vertical-align: inherit;">吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不可以。由于应用程序可能依赖于某个标准结构，因此不应该修改。</font><font style="vertical-align: inherit;">出于这个原因，</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们不能支持修改</font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或数据</font><font style="vertical-align: inherit;">导致的错误或其他问题
        </font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-migration"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8 MySQL 5.7 FAQ：迁移</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527952989552"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-migration-mysql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关如何从MySQL 5.6迁移到MySQL 5.7的信息？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-how-storage-engines-changed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中的存储引擎（表类型）支持如何从以前的版本改变？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-migration-mysql"></a><a name="idm140527952988800"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关如何从MySQL 5.6迁移到MySQL 5.7的信息？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关详细的升级信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/installing.html#upgrading" title="2.11.1升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.11.1节“升级MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">升级时不要跳过主要版本，而应逐步完成该过程，在每个步骤中从一个主要版本升级到下一个主要版本。</font><font style="vertical-align: inherit;">这看起来可能更复杂，但它会节省时间和麻烦。</font><font style="vertical-align: inherit;">如果您在升级过程中遇到问题，则可以通过您或者如果您拥有MySQL Enterprise订阅，通过MySQL支持更容易识别其来源。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-storage-engines-changed"></a><a name="idm140527952985664"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.8.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7中的存储引擎（表类型）支持如何在以前的版本中进行更改？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储引擎支持已更改如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">ISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL 5.0中删除了</font><font style="vertical-align: inherit;">
              对</font><font style="vertical-align: inherit;">表的</font><font style="vertical-align: inherit;">支持，</font><font style="vertical-align: inherit;">现在应该使用
               </font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎代替
               </font></font><code class="literal">ISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">若要将表格转换
               </font></font><em class="replaceable"><code>tblname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从
               </font></font><code class="literal">ISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，只需发出一份声明中像这样的：
            </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE </font></font><em class="replaceable"><code>tblname</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ENGINE = MYISAM;</font></font></pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              内部</font></font><code class="literal">RAID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
               </font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格也是在MySQL 5.0中删除。</font><font style="vertical-align: inherit;">这以前用于允许不支持大于2GB的文件系统的大型表格。</font><font style="vertical-align: inherit;">所有现代文件系统都允许更大的表格; </font><font style="vertical-align: inherit;">此外，现在还有其他解决方案，如
               </font></font><code class="literal">MERGE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格和视图。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列类型现在保留在所有的存储引擎尾随空格。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表（以前称为
               </font></font><code class="literal">HEAP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表）也可以包含
               </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列。
</font></font></p></li></ul>
</div>
<p>
</p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-security"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9 MySQL 5.7常见问题解答：安全性</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527952967248"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-where-docs-security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到解决MySQL安全问题的文档？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-native-ssl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持SSL？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-is-ssl-available"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        SSL支持内置于MySQL二进制文件中，还是必须自己重新编译二进制文件以启用它？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-builtin-ldap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有针对LDAP目录的内置认证？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-mysql-have-builtin-rbac"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持基于角色的访问控制（RBAC）？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-security"></a><a name="idm140527952966496"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到解决MySQL安全问题的文档？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最好的开始是</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html" title="第6章安全"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL文档的其他部分，您可能会发现有关特定安全问题的有用部分包括以下内容：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#security-guidelines" title="6.1.1安全指南"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.1节“安全指南”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#security-against-attack" title="6.1.3使MySQL免受攻击者的攻击"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.3节“使MySQL免受攻击者的攻击”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/error-handling.html#resetting-permissions" title="B.5.3.2如何重置根密码"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第B.5.3.2节“如何重置根密码”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#changing-mysql-user" title="6.1.5如何以普通用户身份运行MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.5节“如何以普通用户身份运行MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/extending-mysql.html#udf-security" title="28.4.2.6 UDF安全注意事项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第28.4.2.6节“UDF安全注意事项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#security-options" title="6.1.4安全相关的mysqld选项和变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.4节“安全相关的mysqld选项和变量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#load-data-local" title="6.1.6 LOAD DATA LOCAL的安全问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.1.6节“LOAD DATA LOCAL的安全问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/installing.html#postinstallation" title="2.10安装后设置和测试"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2.10节“安装后设置和测试”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <a class="xref" href="/mysql-5.7-google-zh/security.html#encrypted-connections" title="6.4使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4节“使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-native-ssl"></a><a name="idm140527952949104"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持SSL？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        大多数5.7二进制文件都支持客户端和服务器之间的SSL连接。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#encrypted-connections" title="6.4使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4节“使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果（例如）客户端应用程序不支持SSL连接，则也可以使用SSH隧道连接。</font><font style="vertical-align: inherit;">有关示例，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#windows-and-ssh" title="6.4.7通过SSH从Windows远程连接到MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4.7节“使用SSH从Windows远程连接到MySQL”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-is-ssl-available"></a><a name="idm140527952945072"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        SSL支持内置于MySQL二进制文件中，还是必须自己重新编译二进制文件才能启用它？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        大多数5.7二进制文件都为启用了SSL的客户端/服务器连接进行了安全，身份验证或两者兼容。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/security.html#encrypted-connections" title="6.4使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4节“使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-builtin-ldap"></a><a name="idm140527952942192"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否具有针对LDAP目录的内置认证？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        企业版包括一个</font><font style="vertical-align: inherit;">支持对LDAP目录进行身份验证</font><font style="vertical-align: inherit;">的
         </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#pam-pluggable-authentication" title="6.5.1.6 PAM可插入式验证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PAM身份验证插件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-builtin-rbac"></a><a name="idm140527952939232"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.9.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL 5.7是否支持基于角色的访问控制（RBAC）？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        目前还没有。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-mysql-cluster"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10 MySQL 5.7 FAQ：NDB集群</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140527952936496"></a><a class="indexterm" name="idm140527952935024"></a><a class="indexterm" name="idm140527952933568"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在接下来的部分中，我们将回答有关NDB集群和</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      存储引擎的</font><font style="vertical-align: inherit;">常见问题</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="qandaset">
<a name="idm140527952930352"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-which-versions-support-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪些版本的MySQL软件支持NDB集群？</font><font style="vertical-align: inherit;">我需要从源代码编译吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-is-ndb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “NDB”和“NDBCLUSTER”是什么意思？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-vs-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用NDB集群与使用MySQL复制有什么区别？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-cluster-network-need"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我是否需要任何特殊的网络来运行NDB群集？</font><font style="vertical-align: inherit;">集群中的计算机如何通信？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-min-hosts-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我需要多少台计算机来运行NDB群集，为什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-hosts-do-clustering"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不同的计算机在NDB集群中做什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-show-nodegroup-star"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当我在NDB集群管理客户端中运行SHOW命令时，我看到一行输出如下所示：
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-which-os-clustering"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以使用哪些操作系统使用NDB群集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-requirements"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        运行NDB群集的硬件要求是什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-memory-needed-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我需要多少RAM才能使用NDB群集？</font><font style="vertical-align: inherit;">是否有可能使用磁盘存储器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-file-systems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在NDB群集中使用哪些文件系统？</font><font style="vertical-align: inherit;">网络文件系统或网络共享怎么样？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-can-cluster-vm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在虚拟机内部运行NDB群集节点（例如由VMWare，Parallels或Xen创建的节点）吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-why-error-1114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我正在尝试填充NDB群集数据库。</font><font style="vertical-align: inherit;">加载过程提前终止，并收到如下所示的错误消息：
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-can-cluster-remote-network"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集使用TCP / IP。</font><font style="vertical-align: inherit;">这是否意味着我可以在Internet上运行它，并且在远程位置有一个或多个节点？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.15。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-language-needed-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我是否必须学习一种新的编程或查询语言才能使用NDB群集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.16。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-api-cluster-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些编程语言和API？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.17。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-management-tools"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB Cluster是否包含任何管理工具？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.18。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-errors-are"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何在使用NDB群集时找出错误或警告消息的含义？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.19。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-is-cluster-transaction-safe"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群是否交易安全？</font><font style="vertical-align: inherit;">支持什么隔离级别？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.20。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-storage-engines-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些存储引擎？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.21。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-is-data-loss-no-power"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在发生灾难性故障时 - 例如，整个城市失去电力，UPS发生故障 - 我是否会丢失所有数据？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.22。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-can-cluster-fullindex"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否可以在NDB集群中使用FULLTEXT索引？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.23。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-can-multinode-cluster-one-host"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在一台计算机上运行多个节点吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.24。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-add-nodes-no-restart"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将数据节点添加到NDB群集而无需重新启动它吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.25。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-cluster-limitations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用NDB集群时，我应该注意哪些限制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.26。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-foreign-keys-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集是否支持外键？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.27。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-import-db-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何将现有的MySQL数据库导入NDB群集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.28。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-nodes-communicate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集节点如何相互通信？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.29。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-is-arbitrator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是仲裁员？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.30。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-types-cluster-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些数据类型？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.31。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-start-stop-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何启动和停止NDB群集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.32。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-shutdown-do-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集关闭时NDB群集数据会发生什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.33。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-multiple-node-managers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为NDB群集配备多个管理节点是一个好主意吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.34。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-different-cluster-hosts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在一个NDB群集中混合使用不同种类的硬件和操作系统吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.35。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-multiple-nodes-one-host"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在单个主机上运行两个数据节点吗？</font><font style="vertical-align: inherit;">两个SQL节点？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.36。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-host-names-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将主机名与NDB群集一起使用吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.37。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-ipv6-support-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群是否支持IPv6？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.38。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-have-multiple-users-servers-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何处理具有多个MySQL服务器的NDB群集中的MySQL用户？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.39。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-continue-after-node-error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果其中一个SQL节点失败，我该如何继续发送查询？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.40。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-how-backup-restore-cluster"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何备份和恢复NDB群集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.41。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cluster-what-angel-process"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是“天使过程”？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-cluster-which-versions-support-cluster"></a><a name="idm140527952929536"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪些版本的MySQL软件支持NDB集群？</font><font style="vertical-align: inherit;">我需要从源代码编译吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        标准的MySQL Server 5.7版本不支持NDB集群。</font><font style="vertical-align: inherit;">相反，MySQL NDB集群是作为单独的产品提供的。</font><font style="vertical-align: inherit;">可用的NDB Cluster发布系列包括以下内容：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集7.3。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尽管我们建议新部署使用最新的NDB Cluster 7.5版本，但该系列仍是可用于生产的NDB群集的通用版本（GA）。</font><font style="vertical-align: inherit;">最新的NDB Cluster 7.3版本可以从
               </font></font><a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/cluster/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB集群7.4。&nbsp;</font></font></b><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管我们建议新部署使用最新的NDB Cluster 7.5发行版，但</font><font style="vertical-align: inherit;">
              本系列是基于</font><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">7.4版</font><font style="vertical-align: inherit;">和MySQL Server 5.6的NDB集群的最新通用</font><font style="vertical-align: inherit;">版（GA）版本
               </font><font style="vertical-align: inherit;">，仍可用于生产。最新NDB Cluster 7.4版本可以从
               </font></font><a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/cluster/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB Cluster 7.5。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本系列是基于</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">7.5版</font><font style="vertical-align: inherit;">和MySQL Server 5.7的</font><font style="vertical-align: inherit;">最新NDB集群通用版（GA）版本
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">NDB Cluster 7.5可用于生产; </font><font style="vertical-align: inherit;">用于生产的新部署应使用本系列中的最新GA版本，该版本目前是NDB Cluster 7.5.11。</font><font style="vertical-align: inherit;">最新的NDB Cluster 7.5版本可以从
               </font></font><a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/cluster/获得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集7.6。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该系列基于</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">7.6版
               </font><font style="vertical-align: inherit;">，目前正在开发中，但尚未考虑在生产环境中使用。</font><font style="vertical-align: inherit;">它可用作开发人员预览版本，用于评估和测试目的。</font><font style="vertical-align: inherit;">您可以从</font></font><a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/downloads/cluster/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取最新的NDB Cluster 7.6版本</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关本系列中的新功能和其他重要更改的信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-what-is-new-7-6" title="21.1.4.2 NDB簇7.6的新增功能"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.1.4.2节“NDB Cluster 7.6中的新增功能”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您应该使用NDB Cluster 7.5进行任何新的部署; </font><font style="vertical-align: inherit;">如果您使用的是旧版本的NDB群集，则应尽快升级到此版本。</font><font style="vertical-align: inherit;">有关NDB Cluster 7.5中所做改进的概述，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-what-is-new" title="21.1.4 NDB集群中的新功能"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.1.4节“NDB Cluster中的新增功能”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关NDB Cluster 7.4中所做改进的概述，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/refman/5.6/en/mysql-cluster-what-is-new-7-4.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB Cluster 7.4中的新增功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">有关NDB Cluster 7.3中所做改进的信息，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/refman/5.6/en/mysql-cluster-what-is-new-7-3.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB Cluster 7.3中的新增功能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-is-ndb"></a><a name="idm140527952909040"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDBCLUSTER</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是什么意思？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代表
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ñ</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etwork
         </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ATA </font></font><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ASE</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font><code class="literal">NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="literal">NDBCLUSTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都是用于支持MySQL的集群的存储引擎的名称。</font></font><code class="literal">NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是首选，但任何名称都是正确的。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-vs-replication"></a><a name="idm140527952901280"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用NDB集群与使用MySQL复制有什么区别？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在传统的MySQL复制中，主MySQL服务器更新一个或多个从站。</font><font style="vertical-align: inherit;">事务是按顺序提交的，而慢事务会导致从服务器落后于主服务器。</font><font style="vertical-align: inherit;">这意味着如果主站发生故障，从站可能没有记录最后几个事务。</font><font style="vertical-align: inherit;">如果一个交易安全的引擎如
        </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在使用，事务将在从服务器上完成或根本不应用，但复制并不能保证主服务器和从服务器上的所有数据始终保持一致。</font><font style="vertical-align: inherit;">在NDB集群中，所有数据节点都保持同步，并且任何一个数据节点提交的事务都将提交给所有数据节点。</font><font style="vertical-align: inherit;">在数据节点发生故障的情况下，所有剩余的数据节点保持一致状态。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        简而言之，标准的MySQL复制是
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异步的</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，NDB集群是</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同步的</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        异步复制也可在NDB群集中使用。
        </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集复制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        （有时也称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地理复制</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）包括在两个NDB群集之间以及从NDB群集到非群集MySQL服务器之间复制的能力。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-replication" title="21.6 NDB群集复制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.6节“NDB群集复制”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-cluster-network-need"></a><a name="idm140527952892736"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我是否需要任何特殊的网络来运行NDB群集？</font><font style="vertical-align: inherit;">集群中的计算机如何通信？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集旨在用于高带宽环境，并使用TCP / IP连接计算机。</font><font style="vertical-align: inherit;">其性能直接取决于集群计算机之间的连接速度。</font><font style="vertical-align: inherit;">NDB群集的最低连接要求包括一个典型的100兆以太网或等效网络。</font><font style="vertical-align: inherit;">我们建议您尽可能使用千兆以太网。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-min-hosts-cluster"></a><a name="idm140527952890224"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我需要多少台计算机来运行NDB群集，为什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        运行一个可行的集群至少需要三台计算机。</font><font style="vertical-align: inherit;">但是，</font><font style="vertical-align: inherit;">
        NDB群集中计算机</font><font style="vertical-align: inherit;">的最低</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数量为四个：每个运行管理和SQL节点一台，以及两台计算机充当数据节点。</font><font style="vertical-align: inherit;">这两个数据节点的目的是提供冗余; </font><font style="vertical-align: inherit;">管理节点必须在单独的机器上运行，以保证在其中一个数据节点出现故障的情况下继续仲裁服务。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了提供更高的吞吐量和高可用性，您应该使用多个SQL节点（连接到集群的MySQL服务器）。</font><font style="vertical-align: inherit;">运行多个管理服务器也是可能的（尽管不是绝对必要的）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-hosts-do-clustering"></a><a name="idm140527952886656"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不同的计算机在NDB集群中做什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群既有物理组织也有逻辑组织，计算机是物理元素。</font><font style="vertical-align: inherit;">集群的逻辑或功能元素被称为
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节点</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且容纳集群节点的计算机有时被称为
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集群主机</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有三种类型的节点，每种都对应于群集中的特定角色。</font><font style="vertical-align: inherit;">这些是：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理节点。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              此节点为整个集群提供管理服务，包括其他节点的启动，关闭，备份和配置数据。</font><font style="vertical-align: inherit;">管理节点服务器被实现为应用程序
               </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgmd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">用于控制NDB群集的管理客户端是</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关这些程序的信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
               </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><font style="vertical-align: inherit;">第21.4.4节“ </font></a><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;">ndb_mgmd</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><font style="vertical-align: inherit;"> -  NDB群集管理服务器守护程序”</font></a><font style="vertical-align: inherit;">和
               </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.5节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  NDB群集管理客户机”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据节点。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              这种类型的节点存储和复制数据。</font><font style="vertical-align: inherit;">数据节点功能由</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据节点进程</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例
               </font><font style="vertical-align: inherit;">处理
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.1节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  NDB群集数据节点守护进程”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL节点。&nbsp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              这仅仅是MySQL服务器（</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">一个实例，</font><font style="vertical-align: inherit;">它支持</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎，并且启动了</font></font><code class="option">--ndb-cluster</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用引擎的
               </font></font><code class="option">--ndb-connectstring</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项以及使其能够连接到NDB集群管理服务器的选项。</font><font style="vertical-align: inherit;">有关这些选项的更多信息，请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-program-options-mysqld" title="21.3.3.9.1 NDB集群的MySQL服务器选项"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.3.3.9.1节“NDB群集的MySQL服务器选项”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              一个</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API节点</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是任何应用程序，使得用于数据存储和检索直接利用Cluster数据节点。</font><font style="vertical-align: inherit;">因此，SQL节点可以被认为是使用MySQL服务器为集群提供SQL接口的API节点类型。</font><font style="vertical-align: inherit;">您可以使用NDB API编写这样的应用程序（不依赖于MySQL服务器），NDB API向NDB集群数据提供直接面向对象的事务和扫描接口; </font><font style="vertical-align: inherit;">有关更多信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/overview-ndb-api.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集API概述：NDB API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
</li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-show-nodegroup-star"></a><a name="idm140527952862832"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当我</font></font><code class="literal">SHOW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在NDB集群管理客户端中</font><font style="vertical-align: inherit;">运行</font><font style="vertical-align: inherit;">命令时，我看到一行输出结果如下所示：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id = 2 @ 10.100.10.32（版本：5.6.40-ndb-7.4.21节点组：0，*）
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是什么</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意思？</font><font style="vertical-align: inherit;">这个节点与其他节点有什么不同？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最简单的答案是，</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这不是你能控制的，并没有什么，你需要在任何情况下不用担心，除非你是一个软件工程师写或分析NDB簇源代码</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果你没有找到满意的答案，这是一个更长和更技术的版本：
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群中的一些机制需要数据节点之间的分布式协调。</font><font style="vertical-align: inherit;">这些分布式算法和协议包括全局检查点，DDL（模式）更改和节点重新启动处理。</font><font style="vertical-align: inherit;">为了使这种协调更简单，数据节点</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选举</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中一个数字来充当领导者。</font><font style="vertical-align: inherit;">（这个节点曾经被称为
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但为了避免与MySQL复制中的主服务器混淆，该术语被删除。）没有面向用户的机制来影响此选择，这是完全自动的; </font><font style="vertical-align: inherit;">这</font><span class="emphasis"><em><font style="vertical-align: inherit;">是</font></em></span><font style="vertical-align: inherit;">事实</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        自动化是NDB Cluster内部架构的关键部分。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当一个节点充当</font><font style="vertical-align: inherit;">这些机制</font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领导者</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”时</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它通常是活动的协调点，而其他节点充当</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追随者</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，按照领导者的指示执行其活动的部分内容。</font><font style="vertical-align: inherit;">如果充当领导者的节点失败，则其余节点选出新的领导者。</font><font style="vertical-align: inherit;">由老领导协调的正在进行的任务可能要么失败，要么由新领导继续进行，这取决于所涉及的实际机制。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于这些不同的机制和协议中的一些来说，有可能具有不同的领导者节点，但总的来说，为他们选择相同的领导者。</font><font style="vertical-align: inherit;">在输出指示为领导节点</font></font><code class="literal">SHOW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在管理客户端在内部被称为
         </font></font><code class="literal">DICT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经理（见
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/ndb-internals/en/ndb-internals-kernel-blocks-dbdict.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的DBDICT座</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，中
         </font></font><em class="citetitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB集群API开发人员指南</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解更多信息），负责协调DDL和元数据的活动。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群的设计方式使得领导者的选择在集群本身之外没有明显的影响。</font><font style="vertical-align: inherit;">例如，当前的领导者没有比其他数据节点高得多的CPU或资源使用情况，并且领导者的失败对群集的影响不应该比任何其他数据节点的失败有显着不同。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-which-os-clustering"></a><a name="idm140527952848256"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以使用哪些操作系统使用NDB群集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群在大多数类Unix操作系统上受支持。</font><font style="vertical-align: inherit;">NDB群集在Microsoft Windows操作系统上的生产设置中也受支持。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关在不同操作系统版本，操作系统分布和硬件平台上为NDB集群提供的支持级别的更多详细信息，请参阅
         </font></font><a class="ulink" href="http://www.mysql.com/support/supportedplatforms/cluster.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.mysql.com/support/supportedplatforms/cluster.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-requirements"></a><a name="idm140527952844800"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        运行NDB群集的硬件要求是什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集应该在任何可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用的二进制文件的</font><font style="vertical-align: inherit;">平台上运行
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于数据节点和API节点，更快的CPU和更多内存可能会提高性能，而64位CPU可能比32位处理器更有效。</font><font style="vertical-align: inherit;">在用于数据节点的机器上必须有足够的内存来保存每个节点的数据库份额（请参阅</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我需要多少RAM？</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解更多信息）。</font><font style="vertical-align: inherit;">对于仅用于运行NDB集群管理服务器的计算机，要求很低; </font><font style="vertical-align: inherit;">一个普通的台式个人电脑（或相当的）通常就足以完成这项任务。</font><font style="vertical-align: inherit;">节点可以通过标准的TCP / IP网络和硬件进行通信。</font><font style="vertical-align: inherit;">他们也可以使用高速SCI协议; </font><font style="vertical-align: inherit;">然而，需要特殊的网络硬件和软件才能使用SCI（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-interconnects" title="21.3.4使用与NDB群集的高速互连"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.3.4节“使用与NDB群集的高速互连”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-memory-needed-cluster"></a><a name="idm140527952839552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我需要多少RAM才能使用NDB群集？</font><font style="vertical-align: inherit;">是否有可能使用磁盘存储器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群最初仅作为内存实现，但目前可用的所有版本也提供了将NDB集群存储在磁盘上的功能。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-disk-data" title="21.5.13 NDB集群磁盘数据表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-disk-data" title="21.5.13 NDB集群磁盘数据表"><font style="vertical-align: inherit;">第21.5.13节“NDB群集磁盘数据表”</font></a><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于内存</font></font><code class="literal">NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表，您可以使用以下公式来获得关于集群中每个数据节点需要多少内存的粗略估计：
      </font></font></p><pre data-lang="simple" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（SizeofDatabase×NumberOfReplicas×1.1）/ NumberOfDataNodes
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要更准确地计算内存需求，需要为集群数据库中的每个表确定每行所需的存储空间（</font><font style="vertical-align: inherit;">有关详细信息，</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#storage-requirements" title="11.8数据类型存储要求"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.8节“数据类型存储要求”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并将其乘以行数。</font><font style="vertical-align: inherit;">您还必须记住对任何列索引进行解释如下：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">创建的每个主键或散列索引
             </font><font style="vertical-align: inherit;">需要每个记录21-25个字节。</font><font style="vertical-align: inherit;">这些索引使用
             </font></font><code class="literal">IndexMemory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个有序索引需要每个记录使用10个字节的存储空间</font></font><code class="literal">DataMemory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            创建主键或唯一索引也会创建一个有序索引，除非该索引是使用创建的
             </font></font><code class="literal">USING HASH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">换一种说法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                簇表上的主键或唯一索引通常占用每条记录31到35个字节。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                但是，如果使用主键或唯一索引创建</font></font><code class="literal">USING HASH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则每个记录只需要21到25个字节。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><code class="literal">USING HASH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有主键和唯一索引</font><font style="vertical-align: inherit;">创建NDB簇表</font><font style="vertical-align: inherit;">通常会导致表更新的运行速度更快 - 在某些情况下，比</font></font><code class="literal">USING HASH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建主键和唯一键时未使用</font><font style="vertical-align: inherit;">表的更新快20％至30％
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是因为需要更少的内存（因为没有创建有序索引），并且必须使用更少的CPU（因为必须读取更少的索引并且可能更新）。</font><font style="vertical-align: inherit;">但是，这也意味着可能使用范围扫描的查询必须通过其他方式来满足，这可能导致选择速度变慢。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在计算群集内存需求时，您可能会发现</font><font style="vertical-align: inherit;">最近MySQL 5.7版本中提供</font><font style="vertical-align: inherit;">的</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="21.4.29 ndb_size.pl  -  NDBCLUSTER大小需求估计器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_size.pl</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">很有用</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此Perl脚本连接到当前（非群集）MySQL数据库，并创建一份报告，说明数据库使用</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎时</font><font style="vertical-align: inherit;">需要多少空间</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="21.4.29 ndb_size.pl  -  NDBCLUSTER大小需求估计器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.29节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_size.pl</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  NDBCLUSTER大小需求估计器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请记住，</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个NDB簇表必须具有主键</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这一点尤为重要</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">的
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎创建如果自动没有被定义的主密钥; </font><font style="vertical-align: inherit;">这个主键没有创建</font></font><code class="literal">USING HASH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用</font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;">ndb_mgm</font></strong></span></a><font style="vertical-align: inherit;">客户端中</font><font style="vertical-align: inherit;">的</font></font><code class="literal">REPORT MEMORYUSAGE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令确定在
         </font><font style="vertical-align: inherit;">任何给定时间内有多少内存用于存储NDB集群数据和索引
         </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">有关更多信息</font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;">，</font></a><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;">第21.5.2节“NDB集群管理客户端中的命令”</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另外，当80％的可用</font><font style="vertical-align: inherit;">或
         </font><font style="vertical-align: inherit;">正在使用中以及再次使用率达到85％，90％等时，</font><font style="vertical-align: inherit;">将向群集日志写入警告
         </font><font style="vertical-align: inherit;">。
      </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a><font style="vertical-align: inherit;"></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-file-systems"></a><a name="idm140527952807792"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在NDB群集中使用哪些文件系统？</font><font style="vertical-align: inherit;">网络文件系统或网络共享怎么样？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通常，主机操作系统本地的任何文件系统都应该能够与NDB群集配合使用。</font><font style="vertical-align: inherit;">如果您发现给定的文件系统在NDB群集中运行得特别好（或不那么好），我们邀请您在</font></font><a class="ulink" href="http://forums.mysql.com/list.php?25" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集论坛中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论您的发现</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于Windows，我们建议您将</font></font><code class="literal">NTFS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文件系统用于NDB群集，就像我们对标准MySQL所做的一样。</font><font style="vertical-align: inherit;">我们不测试NDB集群</font></font><code class="literal">FAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">VFAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件系统。</font><font style="vertical-align: inherit;">因此，我们不建议将它们用于MySQL或NDB群集。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群实施为无共享解决方案; </font><font style="vertical-align: inherit;">这背后的想法是，单个硬件的故障不应该导致多个集群节点的故障，或者甚至可能导致整个集群的故障。</font><font style="vertical-align: inherit;">为此，NDB群集不支持使用网络共享或网络文件系统。</font><font style="vertical-align: inherit;">这也适用于共享存储设备，如SAN。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-vm"></a><a name="idm140527952800992"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在虚拟机内部运行NDB群集节点（例如由VMWare，Parallels或Xen创建的节点）吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集支持在虚拟机中使用。</font><font style="vertical-align: inherit;">我们目前支持并使用</font></font><a class="ulink" href="http://www.oracle.com/technetwork/server-storage/vm/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle VM进行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一些NDB集群用户已经使用其他虚拟化产品成功部署了NDB集群; </font><font style="vertical-align: inherit;">在这种情况下，Oracle可以提供NDB群集支持，但是特定于虚拟环境的问题必须提交给该产品的供应商。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-why-error-1114"></a><a name="idm140527952797408"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我正在尝试填充NDB群集数据库。</font><font style="vertical-align: inherit;">加载过程提前终止，并收到如下所示的错误消息：
      </font></font></p><p>
        <code class="literal"><span class="errortext">ERROR 1114: The table 'my_cluster_table' is
        full</span></code>
      </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是为什么发生？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        原因很可能是您的设置不能为所有表数据和所有索引（</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">所需的主键）
        </font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供足够的RAM，并且
         </font><span class="emphasis"><em><font style="vertical-align: inherit;">在表定义不包括主节点定义的情况下自动创建关键</font></em></span><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        同样值得注意的是，所有数据节点都应该具有相同数量的RAM，因为群集中的数据节点不能使用比可用于任何单个数据节点的最少量更多的内存。</font><font style="vertical-align: inherit;">例如，如果有四台计算机托管集群数据节点，并且其中三台计算机具有3GB的RAM可用于存储集群数据，而剩余的数据节点只有1GB RAM，则每个数据节点最多可将1GB用于NDB集群数据，索引。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在某些情况下，</font><font style="vertical-align: inherit;">即使在</font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;">ndb_mgm -e“ALL REPORT MEMORYUSAGE”</font></strong></span></a><font style="vertical-align: inherit;">显示重要的空闲
         </font><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">，也可能会</font><font style="vertical-align: inherit;">在MySQL客户端应用程序中</font><font style="vertical-align: inherit;">得到</font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table完全</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以强制</font><font style="vertical-align: inherit;">为NDB簇表创建额外的分区，因此可以通过使用</font><font style="vertical-align: inherit;">选项为
         </font><font style="vertical-align: inherit;">散列索引提供更多内存
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一般来说，设置
         </font><font style="vertical-align: inherit;">为您希望存储在表中的行数的两倍应该足够。
      </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"></font><code class="literal">MAX_ROWS</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE TABLE</code></a><font style="vertical-align: inherit;"></font><code class="literal">MAX_ROWS</code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        出于类似的原因，您有时也会遇到重载数据的节点上重新启动数据节点的问题。</font><font style="vertical-align: inherit;">该</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-minfreepct" title="MinFreePct"><code class="literal">MinFreePct</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        参数可以通过预留一部分（默认为5％）</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        并</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于重新启动</font><font style="vertical-align: inherit;">来帮助解决此问题</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该保留的内存不可用于存储
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或数据。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-remote-network"></a><a name="idm140527952777408"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集使用TCP / IP。</font><font style="vertical-align: inherit;">这是否意味着我可以在Internet上运行它，并且在远程位置有一个或多个节点？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不可能的集群将这样的条件下可靠地执行，因为NDB簇的设计和与假定它将条件保证专用的高速连接，例如，在一个LAN设置发现下使用100 Mbps或千兆运行实现以太网 - 最好是后者。</font><font style="vertical-align: inherit;">我们既不测试也不保证它的性能，使用比这慢的任何东西。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另外，记住NDB群集中的节点之间的通信不安全是非常重要的。</font><font style="vertical-align: inherit;">他们既没有加密也没有任何其他保护机制的保障。</font><font style="vertical-align: inherit;">群集最安全的配置位于防火墙后的专用网络中，不能直接访问任何群集数据或外部管理节点。</font><font style="vertical-align: inherit;">（对于SQL节点，您应该采取与其他任何MySQL服务器实例相同的预防措施。）有关详细信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-security" title="21.5.12 NDB集群安全问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.12节“NDB集群安全问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-language-needed-cluster"></a><a name="idm140527952772336"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.15。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我是否必须学习一种新的编程或查询语言才能使用NDB群集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">虽然有些专用命令用于管理和配置集群本身，但以下操作只需要标准（My）SQL语句：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            创建，更改和删除表格
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            插入，更新和删除表格数据
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            创建，更改和删除主要索引和唯一索引
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        需要一些专门的配置参数和文件来设置NDB群集 - 参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-config-file" title="21.3.3 NDB群集配置文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.3.3节“NDB群集配置文件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解有关这些的信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在NDB集群管理客户端（</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">中使用一些简单的命令</font><font style="vertical-align: inherit;">来执行启动和停止集群节点等任务。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.2节“NDB集群管理客户端中的命令”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-api-cluster-support"></a><a name="idm140527952762896"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.16。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些编程语言和API？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持与标准MySQL服务器相同的编程API和语言，包括ODBC，.Net，MySQL C API以及多种流行脚本语言（如PHP，Perl和Python）的驱动程序。</font><font style="vertical-align: inherit;">使用这些API编写的NDB Cluster应用程序的行为与其他MySQL应用程序的行为相似; </font><font style="vertical-align: inherit;">它们将SQL语句传输到MySQL服务器（在NDB群集的情况下是一个SQL节点），并接收包含数据行的响应。</font><font style="vertical-align: inherit;">有关这些API的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/connectors-apis.html" title="第27章连接器和API"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第27章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接器和API</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群还支持使用NDB API进行应用程序编程，NDB API提供了一个低级别的C ++接口来连接NDB集群数据，而无需通过MySQL服务器。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbapi.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另外，许多
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理功能都由C语言MGM API公开。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-api.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，了解更多信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群还支持使用ClusterJ进行Java应用程序编程，ClusterJ支持使用会话和事务的数据的域对象模型。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息，</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-overview-java.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java和NDB集群</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        另外，NDB集群提供支持
         </font></font><code class="literal">memcached</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，允许开发人员使用</font></font><code class="literal">memcached</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        接口</font><font style="vertical-align: inherit;">访问存储在NDB集群中的</font><font style="vertical-align: inherit;">数据; </font><font style="vertical-align: inherit;">有关更多信息，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbmemcache.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集的ndbmemcache-Memcache API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB Cluster 7.3和更高版本包括支持NoSQL应用程序的适配器</font></font><code class="literal">Node.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并将NDB集群用作数据存储区。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于JavaScript的MySQL NoSQL连接器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-management-tools"></a><a name="idm140527952749888"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.17。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB Cluster是否包含任何管理工具？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群包含用于执行基本管理功能的命令行客户端。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.5节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  NDB集群管理客户端”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.2节“NDB集群管理客户端中的命令”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL集群管理器也支持NDB集群，这是一种独立的产品，提供了高级命令行界面，可以自动执行许多NDB集群管理任务，例如滚动重启和配置更改。</font><font style="vertical-align: inherit;">有关MySQL Cluster Manager的更多信息，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.4/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL™Cluster Manager 1.4.4用户手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        作为NDB Cluster软件分发的一部分，NDB集群（版本7.3和更高版本）提供了一个基于浏览器的图形化自动安装程序，用于设置和部署NDB集群。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-install-auto" title="21.2.1 NDB集群自动安装程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.2.1节“NDB群集自动安装程序”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-errors-are"></a><a name="idm140527952743552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.18。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何在使用NDB群集时找出错误或警告消息的含义？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有两种方法可以做到这一点：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端中，</font><font style="vertical-align: inherit;">在收到错误或警告条件通知后立即</font><font style="vertical-align: inherit;">使用
             </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHOW ERRORS</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHOW WARNINGS</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在系统shell提示符下，使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#perror" title="4.8.2 perror  - 解释错误代码"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perror --ndb
            </font></font><em class="replaceable"><code>error_code</code></em></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-is-cluster-transaction-safe"></a><a name="idm140527952735136"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.19。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群是否交易安全？</font><font style="vertical-align: inherit;">支持什么隔离级别？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是的</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于使用</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">创建的表
        </font><font style="vertical-align: inherit;">，支持事务。</font><font style="vertical-align: inherit;">目前，NDB群集仅支持
        </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事务隔离级别。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-storage-engines-cluster"></a><a name="idm140527952730080"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.20。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些存储引擎？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        只有</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">才支持使用MySQL进行群集
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">也就是说，为了在NDB群集中的节点之间共享表格，必须使用</font></font><code class="literal">ENGINE=NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （或等效选项</font></font><code class="literal">ENGINE=NDBCLUSTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">创建表格</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以在</font><font style="vertical-align: inherit;">与NDB集群一起使用的MySQL服务器上</font><font style="vertical-align: inherit;">使用其他存储引擎（如</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#myisam-storage-engine" title="15.2 MyISAM存储引擎"><code class="literal">MyISAM</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">创建表</font><font style="vertical-align: inherit;">，但由于这些表不使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此不参与集群; </font><font style="vertical-align: inherit;">每个这样的表对于创建它的单个MySQL服务器实例来说都是严格本地的。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-is-data-loss-no-power"></a><a name="idm140527952720864"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.21。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在发生灾难性故障时 - 例如，整个城市失去电力</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> UPS发生故障 - 我是否会丢失所有数据？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所有提交的事务都被记录。</font><font style="vertical-align: inherit;">因此，尽管在灾难事件中可能会丢失一些数据，但这应该是相当有限的。</font><font style="vertical-align: inherit;">通过最小化每次交易的操作次数可以进一步减少数据丢失。</font><font style="vertical-align: inherit;">（在任何情况下，对每笔交易执行大量操作不是一个好主意。）
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-fullindex"></a><a name="idm140527952717872"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.22。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否可以在</font></font><code class="literal">FULLTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB集群中</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">索引？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">FULLTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引是目前唯一支持</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#myisam-storage-engine" title="15.2 MyISAM存储引擎"><code class="literal">MyISAM</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/functions.html#fulltext-search" title="12.9全文搜索功能"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/functions.html#fulltext-search" title="12.9全文搜索功能"><font style="vertical-align: inherit;">第12.9节“全文搜索功能”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-multinode-cluster-one-host"></a><a name="idm140527952711216"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.23。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在一台计算机上运行多个节点吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是可能的，但并非总是可取的。</font><font style="vertical-align: inherit;">运行集群的主要原因之一是提供冗余。</font><font style="vertical-align: inherit;">为了获得这种冗余的全部好处，每个节点应该驻留在一台独立的机器上。</font><font style="vertical-align: inherit;">如果您将多个节点放置在单台计算机上并且该计算机发生故障，则会丢失所有这些节点。</font><font style="vertical-align: inherit;">因此，如果您在一台计算机上运行多个数据节点，那么</font><font style="vertical-align: inherit;">设置它们</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要，因为这台计算机的故障不会导致给定节点组中所有数据节点的丢失。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        鉴于NDB集群可以在装有低成本（甚至是免费）操作系统的商用硬件上运行，因此额外的一两台机器的费用非常值得保护关键任务数据。</font><font style="vertical-align: inherit;">同样值得注意的是，运行管理节点的集群主机的要求非常低。</font><font style="vertical-align: inherit;">该任务可以使用300 MHz奔腾或等效CPU以及操作系统所需的足够RAM来完成，另外还需要少量的</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgmd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        和</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程</font><font style="vertical-align: inherit;">的开销</font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在具有多个CPU，内核或两者的单个主机上运行多个群集数据节点是可以接受的。</font><font style="vertical-align: inherit;">NDB集群分发版还提供了旨在用于此类系统的数据节点二进制文件的多线程版本。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="21.4.3 ndbmtd  -  NDB群集数据节点守护进程（多线程）"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.3节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbmtd</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -  NDB群集数据节点守护进程（多线程）”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在某些情况下，也可以在同一台机器上同时运行数据节点和SQL节点; </font><font style="vertical-align: inherit;">这种安排的效果取决于许多因素，如内核数量和CPU数量以及数据节点和SQL节点进程可用的磁盘和内存数量，并且在规划时必须考虑这些因素一个配置。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-add-nodes-no-restart"></a><a name="idm140527952702544"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.24。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将数据节点添加到NDB群集而无需重新启动它吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以将新数据节点添加到正在运行的NDB群集，而无需使群集脱机。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-online-add-node" title="21.5.14在线添加NDB群集数据节点"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.14节“在线添加NDB群集数据节点”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于其他类型的NDB群集节点，只需要滚动重启（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-rolling-restart" title="21.5.5执行NDB群集的滚动重启"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.5节“执行NDB群集的滚动重启”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-limitations"></a><a name="idm140527952698512"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.25。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用NDB集群时，我应该注意哪些限制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL NDB Cluster 7.3及更高版本中</font><font style="vertical-align: inherit;">
        对</font><font style="vertical-align: inherit;">表的</font><font style="vertical-align: inherit;">限制</font><font style="vertical-align: inherit;">包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            临时表格不受支持; </font><font style="vertical-align: inherit;">一个
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#create-table" title="13.1.18 CREATE TABLE语法"><code class="literal">CREATE
            TEMPORARY TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">using语句
             </font></font><code class="literal">ENGINE=NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="literal">ENGINE=NDBCLUSTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因错误而失败。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font><font style="vertical-align: inherit;">
            支持的唯一用户定义分区类型
             </font><font style="vertical-align: inherit;">是
             </font></font><code class="literal">KEY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">LINEAR KEY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">尝试</font></font><code class="literal">NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用任何其他分区类型</font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">表时失败并显示错误。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">FULLTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 索引不受支持。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            索引前缀不受支持。</font><font style="vertical-align: inherit;">只有完整的列可能被编入索引。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            不支持空间索引（尽管可以使用空间列）。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#spatial-types" title="11.5空间数据类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11.5节“空间数据类型”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对部分事务和部分回滚的支持与其他事务性存储引擎的支持相当，例如</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以回滚单个语句。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个表允许的最大属性数为512.属性名不能超过31个字符。</font><font style="vertical-align: inherit;">对于每个表，表和数据库名称的最大组合长度为122个字符。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            表格行的最大大小是14千字节，不包括</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">BLOB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数值。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有对每个</font></font><code class="literal">NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">的行数设置限制
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">表大小的限制取决于许多因素，特别是每个数据节点可用的RAM数量。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关NDB集群的完整限制列表，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-limitations" title="21.1.6 NDB簇的已知限制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.1.6节“NDB集群的已知限制”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/refman/5.6/en/mysql-cluster-limitations-resolved.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDB群集7.3中已解决的以前的NDB群集问题</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-foreign-keys-cluster"></a><a name="idm140527952674336"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.26。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集是否支持外键？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB Cluster 7.3和更高版本提供对外键约束的支持，与</font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html" title="第14章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">中的相似
         </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">有关更多详细信息以及
         </font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-table-foreign-keys" title="13.1.18.6使用FOREIGN KEY约束"><font style="vertical-align: inherit;">第13.1.18.6节“使用FOREIGN KEY约束” </font></a></font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#constraint-foreign-key" title="1.8.3.2外键约束"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/introduction.html#constraint-foreign-key" title="1.8.3.2外键约束"><font style="vertical-align: inherit;">第1.8.3.2 </font></a></font><a class="xref" href="/mysql-5.7-google-zh/sql-syntax.html#create-table-foreign-keys" title="13.1.18.6使用FOREIGN KEY约束"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节“FOREIGN KEY约束”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">需要外键支持的应用程序应使用NDB集群7.3,7.4,7.5或更高版本。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-import-db-cluster"></a><a name="idm140527952669504"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.27。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何将现有的MySQL数据库导入NDB群集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以像使用任何其他版本的MySQL一样将数据库导入NDB群集。</font><font style="vertical-align: inherit;">除了本FAQ中其他地方提到的限制之外，唯一的其他特殊要求是要包含在群集中的任何表必须使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎。</font><font style="vertical-align: inherit;">这意味着表格必须使用</font></font><code class="literal">ENGINE=NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
         </font><font style="vertical-align: inherit;">创建</font></font><code class="literal">ENGINE=NDBCLUSTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        也可以将使用其他存储引擎的现有表转换为</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用一个或多个</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        语句。</font><font style="vertical-align: inherit;">但是，</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在进行转换之前，</font><font style="vertical-align: inherit;">表的定义必须与</font><font style="vertical-align: inherit;">存储引擎</font><font style="vertical-align: inherit;">兼容</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在MySQL 5.7中，还需要额外的解决方法; </font><font style="vertical-align: inherit;">有关详细信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-limitations" title="21.1.6 NDB簇的已知限制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-limitations" title="21.1.6 NDB簇的已知限制"><font style="vertical-align: inherit;">第21.1.6节“NDB群集的已知限制”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-nodes-communicate"></a><a name="idm140527952659440"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.28。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集节点如何相互通信？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        集群节点可以通过三种不同的传输机制进行通信：TCP / IP，SHM（共享内存）和SCI（可伸缩相关接口）。</font><font style="vertical-align: inherit;">在可用的情况下，SHM在驻留在同一集群主机上的节点之间默认使用; </font><font style="vertical-align: inherit;">然而，这被认为是实验性的。</font><font style="vertical-align: inherit;">SCI是一种高速（1吉比特每秒或更高）的高可用性协议，用于构建可扩展的多处理器系统; </font><font style="vertical-align: inherit;">它需要特殊的硬件和驱动程序。</font><font style="vertical-align: inherit;">有关将SCI用作NDB群集的传输机制的更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-interconnects" title="21.3.4使用与NDB群集的高速互连"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-interconnects" title="21.3.4使用与NDB群集的高速互连"><font style="vertical-align: inherit;">第21.3.4节“与NDB群集使用高速互连”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-is-arbitrator"></a><a name="idm140527952656192"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.29。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仲裁员</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果群集中的一个或多个数据节点发生故障，则可能并非所有群集数据节点都能够</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看到</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        彼此。</font><font style="vertical-align: inherit;">事实上，两组数据节点可能会在网络分区中彼此隔离，也称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">裂脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        场景。</font><font style="vertical-align: inherit;">这种情况是不可取的，因为每一组数据节点都试图像整个集群那样工作。</font><font style="vertical-align: inherit;">仲裁员需要在竞争的数据节点集之间做出决定。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当至少一个节点组中的所有数据节点都处于活动状态时，网络分区不是问题，因为没有任何一个集群子集可以单独形成功能集群。</font><font style="vertical-align: inherit;">真正的问题出现在没有单个节点组的所有节点都处于活动状态时，在这种情况下，网络分区（
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">裂脑</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情景）成为可能。</font><font style="vertical-align: inherit;">那么仲裁员是必需的。</font><font style="vertical-align: inherit;">所有集群节点都将仲裁器识别为同一节点，仲裁器通常是管理服务器; </font><font style="vertical-align: inherit;">但是，可以将群集中的任何MySQL服务器配置为充当仲裁者。</font><font style="vertical-align: inherit;">仲裁员接受第一组集群节点来联系它，并告知其余集合关闭。</font><font style="vertical-align: inherit;">仲裁器选择由</font></font><code class="literal">ArbitrationRank</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL服务器和管理服务器节点</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">配置参数</font><font style="vertical-align: inherit;">控制</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您也可以使用</font></font><code class="literal">ArbitrationRank</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置参数来控制仲裁器选择过程。</font><font style="vertical-align: inherit;">有关这些参数的更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-definition" title="21.3.3.5定义NDB集群管理服务器"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.3.3.5节“定义NDB群集管理服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        仲裁员的角色本身并不会对所指定的主持人提出任何重大要求，因此仲裁员主持人不需要特别快或特别为此目的拥有额外的记忆。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-types-cluster-support"></a><a name="idm140527952647440"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.30。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持哪些数据类型？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群支持所有常见的MySQL数据类型，包括与MySQL空间扩展相关的数据类型; </font><font style="vertical-align: inherit;">但是，</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎不支持空间索引。</font><font style="vertical-align: inherit;">（空间索引仅受到支持</font></font><a class="link" href="/mysql-5.7-google-zh/storage-engines.html#myisam-storage-engine" title="15.2 MyISAM存储引擎"><code class="literal">MyISAM</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">有关更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#spatial-types" title="11.5空间数据类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/data-types.html#spatial-types" title="11.5空间数据类型"><font style="vertical-align: inherit;">第11.5节“空间数据类型”</font></a><font style="vertical-align: inherit;">。）另外，与</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表一起</font><font style="vertical-align: inherit;">使用时，索引方面也存在一些差异</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          NDB群集磁盘数据表（也就是用</font></font><code class="literal">TABLESPACE ... STORAGE DISK ENGINE=NDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
           </font><font style="vertical-align: inherit;">创建的表
           </font></font><code class="literal">TABLESPACE ... STORAGE DISK
          ENGINE=NDBCLUSTER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）只有固定宽度的行。</font><font style="vertical-align: inherit;">这意味着（例如）包含</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#char" title="11.4.1 CHAR和VARCHAR类型"><code class="literal">VARCHAR(255)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          列的</font><font style="vertical-align: inherit;">每个磁盘数据表记录
           </font><font style="vertical-align: inherit;">需要255个字符的空间（正如用于该表的字符集和整理所需的），而不管其中存储的实际字符数。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关这些问题的更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-limitations" title="21.1.6 NDB簇的已知限制"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        请参见</font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-limitations" title="21.1.6 NDB簇的已知限制"><font style="vertical-align: inherit;">第21.1.6节“NDB集群的已知限制”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-start-stop-cluster"></a><a name="idm140527952635760"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.31。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何启动和停止NDB群集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有必要按照以下顺序分别启动集群中的每个节点：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgmd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">启动管理节点
             </font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您必须包含
             </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">-f</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项以告知管理节点可以找到其配置文件的位置。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            用</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            命令</font><font style="vertical-align: inherit;">启动每个数据节点</font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个数据节点必须以</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_ndb_common_ndb-connectstring"><code class="option">-c</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_ndb_common_ndb-connectstring"><code class="option">--ndb-connectstring</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            选项</font><font style="vertical-align: inherit;">启动，
             </font><font style="vertical-align: inherit;">以便数据节点知道如何连接到管理服务器。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用您的首选启动脚本（如</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld-safe" title="4.3.2 mysqld_safe  -  MySQL服务器启动脚本"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld_safe</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）启动每个MySQL服务器（SQL节点）</font><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            每个MySQL服务器必须以</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">启动
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些选项会导致mysqld启用
             </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDBCLUSTER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎支持以及如何连接到管理服务器。
</font></font></p></li></ol>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        每个命令都必须从容纳受影响节点的机器上的系统shell运行。</font><font style="vertical-align: inherit;">（您不必实际在机器上出现 - 为此可以使用远程登录shell。）可以通过</font><font style="vertical-align: inherit;">在容纳管理节点的计算机上</font><font style="vertical-align: inherit;">启动</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html" title="第21章MySQL NDB集群7.5和NDB集群7.6"><code class="literal">NDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        管理客户机</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并发出
         </font></font><code class="literal">SHOW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">ALL STATUS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        命令。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要关闭正在运行的集群，请</font></font><code class="literal">SHUTDOWN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在管理客户端中</font><font style="vertical-align: inherit;">发出该命令
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">或者，您可以在系统shell中输入以下命令：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>ndb_mgm -e "SHUTDOWN"</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （本例中的引号是可选的，因为该</font></font><code class="option">-e</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">后面的命令字符串中没有空格
         </font><font style="vertical-align: inherit;">;此外，该
         </font></font><code class="literal">SHUTDOWN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令与其他管理客户端命令一样，不区分大小写。）
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这些命令都会导致</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="21.4.5 ndb_mgm  -  NDB集群管理客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgm</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和任何</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        进程正常终止。</font><font style="vertical-align: inherit;">作为SQL节点运行的MySQL服务器可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin shutdown停止</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-mgm-client-commands" title="21.5.2 NDB集群管理客户端中的命令"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.2节“NDB集群管理客户端中的命令”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-install-shutdown-restart" title="21.2.7安全关闭并重新启动NDB群集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.2.7节“安全关闭并重新启动NDB集群”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-shutdown-do-data"></a><a name="idm140527952600336"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.32。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB群集关闭时NDB群集数据会发生什么？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        集群数据节点在内存中保存的数据将写入磁盘，并在下次启动集群时重新加载到内存中。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-node-managers"></a><a name="idm140527952598176"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.33。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为NDB群集配备多个管理节点是一个好主意吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        它可以作为故障安全有用。</font><font style="vertical-align: inherit;">只有一个管理节点在任何给定时间控制集群，但可以将一个管理节点配置为主节点，并且在主管理节点发生故障时可以配置一个或多个其他管理节点。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关</font><font style="vertical-align: inherit;">如何配置NDB群集管理节点的信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-config-file" title="21.3.3 NDB群集配置文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-config-file" title="21.3.3 NDB群集配置文件"><font style="vertical-align: inherit;">第21.3.3节“NDB群集配置文件”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-different-cluster-hosts"></a><a name="idm140527952594640"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.34。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在一个NDB群集中混合使用不同种类的硬件和操作系统吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，只要所有机器和操作系统具有相同的
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字节序</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（全部是大端或全部是小端）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        也可以在不同节点上使用来自不同NDB集群版本的软件。</font><font style="vertical-align: inherit;">但是，我们仅在滚动升级过程中支持此操作（请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-rolling-restart" title="21.5.5执行NDB群集的滚动重启"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.5节“执行NDB群集的滚动重新启动”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-nodes-one-host"></a><a name="idm140527952590768"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.35。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在单个主机上运行两个数据节点吗？</font><font style="vertical-align: inherit;">两个SQL节点？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，这是可能的。</font><font style="vertical-align: inherit;">在多个数据节点的情况下，每个节点使用不同的数据目录是明智的（但不是必需的）。</font><font style="vertical-align: inherit;">如果您想在一台机器上运行多个SQL节点，则每个</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例都</font><font style="vertical-align: inherit;">必须使用不同的TCP / IP端口。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在同一主机上同时运行数据节点和SQL节点是可能的，但您应该知道
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="21.4.3 ndbmtd  -  NDB群集数据节点守护进程（多线程）"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbmtd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程可能会争用内存。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-host-names-cluster"></a><a name="idm140527952582912"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.36。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以将主机名与NDB群集一起使用吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，可以为群集主机使用DNS和DHCP。</font><font style="vertical-align: inherit;">但是，如果您的应用程序需要</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">五个九</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        可用性，则应使用固定（数字）IP地址，因为在依赖于DNS和DHCP等服务的群集主机之间进行通信会引入其他潜在的故障点。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-ipv6-support-cluster"></a><a name="idm140527952580192"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.37。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        NDB集群是否支持IPv6？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        IPv6节点（MySQL服务器）之间的连接支持IPv6，但所有其他类型的NDB群集节点之间的连接必须使用IPv4。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        实际上，这意味着您可以在NDB群集之间使用IPv6进行复制，但同一NDB群集中的节点之间的连接必须使用IPv4。</font><font style="vertical-align: inherit;">有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-replication-issues" title="21.6.3 NDB群集复制中的已知问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.6.3节“NDB群集复制中的已知问题”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-users-servers-cluster"></a><a name="idm140527952576704"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.38。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何处理具有多个MySQL服务器的NDB群集中的MySQL用户？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL用户帐户和权限通常不会在访问同一NDB群集的不同MySQL服务器之间自动传播。</font><font style="vertical-align: inherit;">MySQL NDB集群提供对分布式权限的支持，您可以按照文档中提供的步骤启用它们; </font><font style="vertical-align: inherit;">有关更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-privilege-distribution" title="21.5.15用于NDB群集的分布式MySQL权限"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见
         </font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-privilege-distribution" title="21.5.15用于NDB群集的分布式MySQL权限"><font style="vertical-align: inherit;">第21.5.15节“NDB集群的分布式MySQL权限”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-continue-after-node-error"></a><a name="idm140527952573568"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.39。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果其中一个SQL节点失败，我该如何继续发送查询？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL NDB群集不提供SQL节点之间的任何类型的自动故障转移。</font><font style="vertical-align: inherit;">您的应用程序必须准备好处理SQL节点的丢失并在它们之间进行故障切换。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-backup-restore-cluster"></a><a name="idm140527952571328"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.40。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何备份和恢复NDB群集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以在NDB管理客户端和</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="21.4.24 ndb_restore  - 恢复NDB群集备份"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_restore</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序中</font><font style="vertical-align: inherit;">使用NDB集群本地备份和还原功能
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-backup" title="21.5.3 NDB集群的在线备份"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.5.3节“NDB群集的联机备份”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="21.4.24 ndb_restore  - 恢复NDB群集备份"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.4.24节“ </font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_restore</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 恢复NDB群集备份”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你也可以在</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和MySQL服务器中</font><font style="vertical-align: inherit;">使用为此提供的传统功能</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><font style="vertical-align: inherit;">第4.5.4节“ </font></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;">mysqldump</font></strong></span></a><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><font style="vertical-align: inherit;"> - 数据库备份程序”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-angel-process"></a><a name="idm140527952564080"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.10.41。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天使过程</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此进程将监视并在必要时尝试重新启动数据节点进程。</font><font style="vertical-align: inherit;">如果您在启动</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后检查系统上的活动进程列表</font><font style="vertical-align: inherit;">，您可以看到实际上有2个进程正在运行该名称，如下所示（</font><font style="vertical-align: inherit;">为简洁起见，</font><font style="vertical-align: inherit;">我们省略了</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="21.4.4 ndb_mgmd  -  NDB群集管理服务器守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndb_mgmd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        和</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的输出</font><font style="vertical-align: inherit;">）：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外壳&gt; </font></font><strong class="userinput"><code>./ndb_mgmd</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外壳&gt; </font></font><strong class="userinput"><code>ps aux | grep ndb</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我23002 0.0 0.0 122948 3104？</font><font style="vertical-align: inherit;">Ssl 14:14 0:00 ./ndb_mgmd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
me 23025 0.0 0.0 5284 820 pts / 2 S + 14:14 0:00 grep ndb</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外壳&gt; </font></font><strong class="userinput"><code>./ndbd -c 127.0.0.1 --initial</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外壳&gt; </font></font><strong class="userinput"><code>ps aux | grep ndb</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我23002 0.0 0.0 123080 3356？</font><font style="vertical-align: inherit;">Ssl 14:14 0:00 ./ndb_mgmd</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我23096 0.0 0.0 35876 2036？</font><font style="vertical-align: inherit;">Ss 14:14 0:00 ./ndbd -c 127.0.0.1  - 初始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我23097 1.0 2.4 524116 91096？</font><font style="vertical-align: inherit;">S1 14:14 0:00 ./ndbd -c 127.0.0.1  - 初始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我23168 0.0 0.0 5284 812 pts / 2 R + 14:15 0:00 grep ndb</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示0内存和CPU使用率</font><font style="vertical-align: inherit;">
        的</font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程是天使进程。</font><font style="vertical-align: inherit;">当然，它实际上使用的数量非常少。</font><font style="vertical-align: inherit;">它只是检查主
         </font></font><a class="link" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-programs-ndbd" title="21.4.1 ndbd  -  NDB群集数据节点守护进程"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ndbd</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程（实际处理数据的主数据节点进程）是否正在运行。</font><font style="vertical-align: inherit;">如果允许这样做（例如，如果</font></font><code class="literal">StopOnError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置参数设置为false，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/mysql-cluster.html#mysql-cluster-params-ndbd" title="21.3.2.1 NDB群集数据节点配置参数"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21.3.2.1节“NDB群集数据节点配置参数”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），angel进程将尝试重新启动主数据节点进程。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-cjk"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11 MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集</font></font></h2>
</div>
</div>
</div>
<a class="indexterm" name="idm140527952547504"></a><a class="indexterm" name="idm140527952546112"></a><a class="indexterm" name="idm140527952544576"></a><a class="indexterm" name="idm140527952543040"></a><a class="indexterm" name="idm140527952541520"></a><a class="indexterm" name="idm140527952539984"></a><a class="indexterm" name="idm140527952538480"></a><a class="indexterm" name="idm140527952537408"></a><a class="indexterm" name="idm140527952535888"></a><a class="indexterm" name="idm140527952534352"></a><a class="indexterm" name="idm140527952532848"></a><a class="indexterm" name="idm140527952531776"></a><a class="indexterm" name="idm140527952530240"></a><a class="indexterm" name="idm140527952528736"></a><a class="indexterm" name="idm140527952527248"></a><a class="indexterm" name="idm140527952525728"></a><a class="indexterm" name="idm140527952524224"></a><a class="indexterm" name="idm140527952523152"></a><a class="indexterm" name="idm140527952521616"></a><a class="indexterm" name="idm140527952520112"></a><a class="indexterm" name="idm140527952519040"></a><a class="indexterm" name="idm140527952517520"></a><a class="indexterm" name="idm140527952516016"></a><a class="indexterm" name="idm140527952514928"></a><a class="indexterm" name="idm140527952513408"></a><a class="indexterm" name="idm140527952511904"></a><a class="indexterm" name="idm140527952510400"></a><a class="indexterm" name="idm140527952508880"></a><a class="indexterm" name="idm140527952507376"></a><a class="indexterm" name="idm140527952505856"></a><a class="indexterm" name="idm140527952504336"></a><a class="indexterm" name="idm140527952502832"></a><a class="indexterm" name="idm140527952501328"></a><a class="indexterm" name="idm140527952499824"></a><a class="indexterm" name="idm140527952498320"></a><a class="indexterm" name="idm140527952496816"></a><a class="indexterm" name="idm140527952495312"></a><a class="indexterm" name="idm140527952493808"></a><a class="indexterm" name="idm140527952492304"></a><a class="indexterm" name="idm140527952490800"></a><a class="indexterm" name="idm140527952489296"></a><a class="indexterm" name="idm140527952487792"></a><a class="indexterm" name="idm140527952486288"></a><a class="indexterm" name="idm140527952485216"></a><a class="indexterm" name="idm140527952483696"></a><a class="indexterm" name="idm140527952482176"></a><a class="indexterm" name="idm140527952480656"></a><a class="indexterm" name="idm140527952479152"></a><a class="indexterm" name="idm140527952477664"></a><a class="indexterm" name="idm140527952476176"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      这组常见问题源于MySQL的支持和开发小组在处理关于CJK（中日韩）问题的许多查询时的经验。
</font></font></p>
<div class="qandaset">
<a name="idm140527952474080"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-what-cjk-avail"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL中有哪些CJK字符集可用？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-cjk-question-marks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我已将CJK字符插入到我的表格中。</font><font style="vertical-align: inherit;">为什么SELECT将它们显示为“？”字符？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-what-problems-big5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用Big5中文字符集时应该注意哪些问题？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-what-japanese-chars-fail"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么日文字符集转换失败？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-convert-81ca-cp932"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果我想将SJIS 81CA转换为cp932，该怎么办？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-represent-yen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL如何表示日元（¥）符号？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-what-problems-korean"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中使用韩文字符集时应该注意哪些问题？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-incorrect-string-value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我会收到不正确的字符串值错误消息？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-gui-not-display-cjk"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我的GUI前端或浏览器在使用Access，PHP或其他API的应用程序中错误地显示CJK字符？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-use-4-0-charset"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我已升级到MySQL 5.7。</font><font style="vertical-align: inherit;">我如何在MySQL 4.0中恢复类似于字符集的行为？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-cjk-fail-searches"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么一些使用CJK字符的LIKE和FULLTEXT搜索失败？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-know-avail-characters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何知道字符X是否可用于所有字符集？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-cjk-sort-unicode-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么CJK字符串在Unicode中排序不正确？</font><font style="vertical-align: inherit;">（一世）
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-cjk-sort-unicode-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么CJK字符串在Unicode中排序不正确？</font><font style="vertical-align: inherit;">（II）
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.15。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-supplement-char-rejected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我的补充字符被MySQL拒绝？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.16。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-why-cjk-not-cjkv"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “CJK”应该是“CJKV”吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.17。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-how-cjk-db-table-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL是否允许在数据库和表名中使用CJK字符？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.18。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-where-doc-translations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到将MySQL手册翻译成中文，日文和韩文的翻译？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.19。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-cjk-help-with-cjk"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在哪里获得有关CJK和MySQL相关问题的帮助？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-cjk-avail"></a><a name="idm140527952473312"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL中有哪些CJK字符集可用？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        CJK字符集的列表可能因您的MySQL版本而异。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集在MySQL 5.7.4之前不受支持。</font><font style="vertical-align: inherit;">但是，由于适用语言的名称出现在</font><font style="vertical-align: inherit;">
        表中</font></font><code class="literal">DESCRIPTION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个条目</font><font style="vertical-align: inherit;">的
         </font><font style="vertical-align: inherit;">列
         </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#character-sets-table" title="24.1 INFORMATION_SCHEMA CHARACTER_SETS表"><code class="literal">INFORMATION_SCHEMA.CHARACTER_SETS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中，因此可以使用此查询获取所有非Unicode CJK字符集的当前列表：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT CHARACTER_SET_NAME, DESCRIPTION</code></strong>
       <strong class="userinput"><code>FROM INFORMATION_SCHEMA.CHARACTER_SETS</code></strong>
       <strong class="userinput"><code>WHERE DESCRIPTION LIKE '%Chin%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Japanese%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Korean%'</code></strong>
       <strong class="userinput"><code>ORDER BY CHARACTER_SET_NAME;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CHARACTER_SET_NAME | </font><font style="vertical-align: inherit;">描述|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">big5 | </font><font style="vertical-align: inherit;">Big5繁体中文|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">cp932 | </font><font style="vertical-align: inherit;">SJIS for Windows日语|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">eucjpms | </font><font style="vertical-align: inherit;">UJIS for Windows日语|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">euckr | </font><font style="vertical-align: inherit;">EUC-KR韩文|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gb18030 | </font><font style="vertical-align: inherit;">中国国家标准GB18030 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gb2312 | </font><font style="vertical-align: inherit;">GB2312简体中文|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">gbk | </font><font style="vertical-align: inherit;">GBK简体中文|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sjis | </font><font style="vertical-align: inherit;">Shift-JIS日语|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ujis | </font><font style="vertical-align: inherit;">EUC-JP日语|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- + ---------------------------- ----- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#character-sets-table" title="24.1 INFORMATION_SCHEMA CHARACTER_SETS表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第24.1节“INFORMATION_SCHEMA CHARACTER_SETS表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL支持的三个变种
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GB</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><span class="foreignphrase"><em class="foreignphrase"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国嘉Biaozhun</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家标准</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简体中国</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）字符集这是在中国人民共和国官方：</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和（从MySQL 5.7.4的）</font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有时候人们试图插入</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且它大部分时间</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都是</font><font style="vertical-align: inherit;">有效的，因为</font><font style="vertical-align: inherit;">它是超集
         </font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但最终他们试图插入一个罕见的中文字符，它不起作用。</font><font style="vertical-align: inherit;">（例如，参见Bug＃16072）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在这里，我们试图澄清什么字符是合法的</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，参照官方文件。</font><font style="vertical-align: inherit;">报告</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误</font><font style="vertical-align: inherit;">之前请检查这些参考资料</font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集实际上是
             </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微软代码页936</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这与官方</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的角色
             </font></font><code class="literal">A1A4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（中间点），
             </font></font><code class="literal">A1AA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（时间短划线）
             </font></font><code class="literal">A6E0-A6F5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
             </font></font><code class="literal">A8BB-A8C0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ Unicode映射</font><font style="vertical-align: inherit;">的列表</font><font style="vertical-align: inherit;">，请参见
             </font></font><a class="ulink" href="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        也可以将CJK字符存储在Unicode字符集中，但可用的排序规则可能不会像您期望的那样对字符进行排序：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集支持从Unicode基本多文种平面（BMP）中的字符。</font><font style="vertical-align: inherit;">这些字符在</font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">之间有代码点值</font></font><code class="literal">U+FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集支持躺在BMP BMP之外的字符，以及增补字符。</font><font style="vertical-align: inherit;">补充字符在</font></font><code class="literal">U+10000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间有代码点值
             </font></font><code class="literal">U+10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        用于Unicode字符集的排序规则确定了排序（即区分）集中字符的能力：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            基于Unicode排序算法（UCA）4.0.0的排序规则仅区分BMP字符。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            基于UCA 5.2.0或9.0.0的排序规则可区分BMP和补充字符。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            非UCA归类可能无法区分所有Unicode字符。</font><font style="vertical-align: inherit;">例如，</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            默认排序规则是</font></font><code class="literal">utf8mb4_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它只区分BMP字符。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此外，区分字符不同于按给定CJK语言的惯例排序字符。</font><font style="vertical-align: inherit;">目前，MySQL只有一个特定于CJK的UCA整理
         </font></font><code class="literal">gb18030_unicode_520_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（需要使用非Unicode </font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关Unicode归类及其区分属性（包括补充字符的归类属性）的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-sets" title="10.10.1 Unicode字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.10.1节“Unicode字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-question-marks"></a><a name="idm140527952422960"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我已将CJK字符插入到我的表格中。</font><font style="vertical-align: inherit;">为什么
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示为
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人物？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此问题通常是由于MySQL中的设置与应用程序或操作系统的设置不匹配所致。</font><font style="vertical-align: inherit;">以下是纠正这些类型问题的一些常见步骤：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定你使用的MySQL版本</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用声明</font></font><code class="literal">SELECT VERSION();</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来确定这一点。
          </font></font></p></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保数据库实际上使用了所需的字符集</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            人们通常认为客户端字符集总是与用于显示目的的服务器字符集或字符集相同。</font><font style="vertical-align: inherit;">但是，这两个都是错误的假设。</font><font style="vertical-align: inherit;">您可以</font><font style="vertical-align: inherit;">通过使用以下语句</font><font style="vertical-align: inherit;">检查</font><font style="vertical-align: inherit;">或更好地</font><font style="vertical-align: inherit;">确定结果</font><font style="vertical-align: inherit;">：
          </font></font><code class="literal">SHOW CREATE TABLE
            <em class="replaceable"><code>tablename</code></em></code><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT character_set_name，collat​​ion_name</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    FROM information_schema.columns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    WHERE table_schema = your_database_name</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        AND table_name = your_table_name</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        AND column_name = your_column_name;</font></font><font></font>
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定未正确显示的字符的十六进制值</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您可以</font><font style="vertical-align: inherit;">使用以下查询</font><font style="vertical-align: inherit;">获取</font></font><em class="replaceable"><code>column_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中
             </font><font style="vertical-align: inherit;">列的此信息
             </font></font><em class="replaceable"><code>table_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT HEX（</font></font><em class="replaceable"><code>column_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM </font></font><em class="replaceable"><code>table_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;
</font></font></pre><p>
            <code class="literal">3F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font><font style="vertical-align: inherit;">的编码
             </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">这意味着这
             </font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是实际存储在列中的字符。</font><font style="vertical-align: inherit;">这经常发生是因为将客户端字符集中的特定字符转换为目标字符集时出现问题。
          </font></font></p></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保往返旅程是可能的。</font><font style="vertical-align: inherit;">当您选择</font></font><em class="replaceable"><code>literal</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或
             </font></font><em class="replaceable"><code>_introducer hexadecimal-value</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），你得到</font></font><em class="replaceable"><code>literal</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的结果</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            例如，</font><font style="vertical-align: inherit;">所有CJK字符集中都存在</font><font style="vertical-align: inherit;">日文片假名字符
             </font></font><span class="foreignphrase"><em class="foreignphrase"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="literal">ペ'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并且具有代码点值（十六进制编码）</font></font><code class="literal">0x30da</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要测试此字符的往返行程，请使用以下查询：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECT'ペ'AS'ペ`; </font><font style="vertical-align: inherit;">/ *或SELECT _ucs2 0x30da; </font><font style="vertical-align: inherit;">* /
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果结果不是</font></font><code class="literal">ペ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则往返失败。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关这类故障的错误报告，我们可能会要求您跟进</font></font><code class="literal">SELECT HEX('ペ');</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后我们可以确定客户端编码是否正确。
          </font></font></p></li><li class="listitem"><p>
            <span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保问题不在浏览器或其他应用程序中，而与MySQL无关</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端程序来完成这项任务。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确显示字符但你的应用程序没有，你的问题可能是由于系统设置。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要确定您的设置，请使用
             </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-variables" title="13.7.5.39 SHOW VARIABLES语法"><code class="literal">SHOW VARIABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句，其输出应类似于此处显示的内容：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_client | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_connection | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_database | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_filesystem | </font><font style="vertical-align: inherit;">二进制|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_results | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_server | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_system | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets_dir | </font><font style="vertical-align: inherit;">/ usr / local / mysql / share / mysql / charsets / |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这些是面向国际的客户端的典型字符集设置（注意使用
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode）与西部的服务器连接（</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是西欧字符集）。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            尽管Unicode（通常是</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            Unix上的</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变体和Windows上</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">变体）优于拉丁语，但它通常不是您的操作系统实用程序最适合支持的。</font><font style="vertical-align: inherit;">许多Windows用户发现Microsoft字符集（例如
             </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日文版Windows）是合适的。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果你无法控制的服务器设置，你不知道设置您的基础计算机使用，尝试改变，以一个共同的字符，你在（是全国设立</font></font><code class="literal">euckr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=韩国;
             </font></font><code class="literal">gb18030</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><code class="literal">gbk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=中国人民共和国;
             </font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=台; </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或
             </font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=日; </font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            或</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=任意位置）。</font><font style="vertical-align: inherit;">通常，只需更改客户端和连接以及结果设置即可。</font><font style="vertical-align: inherit;">这个</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET
            NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">声明一次更改所有三个。</font><font style="vertical-align: inherit;">例如：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET NAMES'big5';
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一旦设置正确，您可以通过编辑</font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font><font style="vertical-align: inherit;">将其设为永久</font></font><code class="filename">my.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，您可能会添加如下所示的线条：
          </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
字符集服务器=中文</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[客户]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
默认字符集=中文</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在您的应用程序中使用API​​配置设置也可能存在问题; </font><font style="vertical-align: inherit;">请参阅
             </font></font><em class="citetitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我的GUI前端或浏览器不能正确显示CJK字符...？</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解更多信息。
</font></font></p></li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-problems-big5"></a><a name="idm140527952366864"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用Big5中文字符集时，我应该注意哪些问题？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL支持在香港和台湾（中华民国）常见的Big5字符集。</font><font style="vertical-align: inherit;">MySQL
         </font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集实际上是Microsoft代码页950，它与原始</font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集</font><font style="vertical-align: inherit;">非常相似
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">HKSCS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经提交</font><font style="vertical-align: inherit;">
        了添加</font><font style="vertical-align: inherit;">扩展的</font><font style="vertical-align: inherit;">功能请求</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">需要此扩展程序的人可能会发现Bug＃13577的建议修补程序很有用。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-japanese-chars-fail"></a><a name="idm140527952361920"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么日文字符集转换失败？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL的支持</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集，以及为Unicode。</font><font style="vertical-align: inherit;">常见的需求是在字符集之间进行转换。</font><font style="vertical-align: inherit;">例如，可能有一个Unix服务器（通常使用
         </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和一个Windows客户端（通常使用</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在下面的转换表中，</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        列表示源极，并且</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和
         </font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列代表目的地; </font><font style="vertical-align: inherit;">也就是说，最后的4列提供了十六进制结果，当我们使用</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_convert"><code class="literal">CONVERT(ucs2)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或我们分配一个</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含该值到一个柱
         </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">ujis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code class="literal">eucjpms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">柱。
</font></font></p>
<div class="informaltable">
<table summary="Result of assigning various ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><colgroup><col width="40%"><col align="left" width="12%"><col align="right" width="12%"><col align="right" width="12%"><col align="right" width="12%"><col align="right" width="12%"></colgroup><thead><tr>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色名字</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UCS2</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SJIS</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP932</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UJIS</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eucjpms一起</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">破碎的酒吧</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A6</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8FA2C3</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全宽破碎的酒吧</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE4</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FA55</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8FA2</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YEN标志</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A5</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全宽日标</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE5</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">818F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">818F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1EF</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TILDE</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">007E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7E</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上划线</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">203E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单杠</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1BD</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1BD</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EM DASH</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2014</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REVERSE SOLIDUS</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">005C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5C</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全屏宽度 ””</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF3C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">815F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1C0</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WAVE DASH</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">301C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8160</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1C1</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FULLWIDTH TILDE</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF5E</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8160</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1C1</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">双垂直线</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8161</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1C2</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平行</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2225</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8161</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1C2</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减号</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2212</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">817C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1DD</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全宽捻角鲨</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FF0D</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">817C</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1DD</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CENT SIGN</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A2</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8191</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1F1</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全宽CENT SIGN</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE0</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8191</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1F1</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英镑符号</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00A3</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8192</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1F2</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全幅符号</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE1</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8192</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1F2</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不签</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00AC</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A2CC</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全面不符号</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE2</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A2CC</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        现在考虑表格的以下部分。
</font></font></p>
<div class="informaltable">
<table summary="Result of assigning NOT SIGN and FULLWIDTH NOT SIGN ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><colgroup><col width="55%"><col align="right" width="15%"><col align="right" width="15%"><col align="right" width="15%"></colgroup><thead><tr>
            <th scope="col"></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UCS2</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SJIS</font></font></th>
            <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP932</font></font></th>
          </tr></thead><tbody><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不签</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00AC</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
          </tr><tr>
            <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全面不符号</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFE2</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3F</font></font></td>
            <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81CA</font></font></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这意味着MySQL将</font></font><code class="literal">NOT SIGN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （Unicode </font></font><code class="literal">U+00AC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">转换</font><font style="vertical-align: inherit;">为</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        代码点</font></font><code class="literal">0x81CA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码点</font></font><code class="literal">3F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（</font></font><code class="literal">3F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是问号（</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”）</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是转换无法执行时总是使用的。）
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-convert-81ca-cp932"></a><a name="idm140527952176048"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果我想将SJIS转换</font></font><code class="literal">81CA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font><font style="vertical-align: inherit;">我应该怎么做
         </font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我们的答案是：</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有缺点此，许多人宁愿一个</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">松</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        的转换，从而使</font></font><code class="literal">81CA (NOT SIGN)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
         </font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变</font></font><code class="literal">81CA (FULLWIDTH NOT
        SIGN)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><code class="literal">cp932</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-represent-yen"></a><a name="idm140527952168704"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL如何表示Yen（</font></font><code class="literal">¥</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）符号？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        出现问题的原因是某些版本的日文字符集（都是</font></font><code class="literal">sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">euc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><code class="literal">5C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视为
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反向固体</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        （</font></font><code class="literal">\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也称为反斜杠），而其他版本则将其视为日元符号（</font></font><code class="literal">¥</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL仅遵循JIS（日本工业标准）标准描述的一个版本。</font><font style="vertical-align: inherit;">在MySQL中，
         </font></font><span class="emphasis"><em><code class="literal">5C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终是反向的solidus（</font></font><code class="literal">\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-problems-korean"></a><a name="idm140527952159424"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中使用韩文字符集时应该注意哪些问题？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        理论上，</font></font><code class="literal">euckr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展Unix代码韩国</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）字符集</font><font style="vertical-align: inherit;">有多个版本，但
         </font><font style="vertical-align: inherit;">只有一个问题。</font><font style="vertical-align: inherit;">我们使用</font><font style="vertical-align: inherit;">EUC-KR </font><font style="vertical-align: inherit;">的</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASCII</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变体，其中代码点</font></font><code class="literal">0x5c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是REVERSE SOLIDUS，即</font><font style="vertical-align: inherit;">代码点</font><font style="vertical-align: inherit;">为</font><font style="vertical-align: inherit;">
        （</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的EUC-KR </font></font><code class="literal">\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
         </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KS-Roman</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变体</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这意味着你不能将Unicode转换</font><font style="vertical-align: inherit;">为</font><font style="vertical-align: inherit;">：
      </font></font><code class="literal">0x5c</code><font style="vertical-align: inherit;"></font><code class="literal">WON SIGN</code><font style="vertical-align: inherit;"></font><code class="literal">₩</code><font style="vertical-align: inherit;"></font><code class="literal">U+20A9</code><font style="vertical-align: inherit;"></font><code class="literal">euckr</code><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT</code></strong>
           <strong class="userinput"><code>CONVERT('₩' USING euckr) AS euckr,</code></strong>
           <strong class="userinput"><code>HEX(CONVERT('₩' USING euckr)) AS hexeuckr;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">euckr | </font><font style="vertical-align: inherit;">hexeuckr |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">？</font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">3F |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + ---------- +</font></font><font></font>
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-incorrect-string-value"></a><a name="idm140527952146624"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我会收到</font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不正确的字符串值</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要查看问题，请创建一个包含一个Unicode（</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）列和一个中文（</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）列的表。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE ch</code></strong>
       <strong class="userinput"><code>(ucs2 CHAR(3) CHARACTER SET ucs2,</code></strong>
       <strong class="userinput"><code>gb2312 CHAR(3) CHARACTER SET gb2312);</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在非严格SQL模式下，尝试</font></font><code class="literal">汌</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在两列中</font><font style="vertical-align: inherit;">放置罕见字符
         </font><font style="vertical-align: inherit;">。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET sql_mode = '';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>INSERT INTO ch VALUES ('A汌B','A汌B');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响，1警告（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        将</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产生一个警告。</font><font style="vertical-align: inherit;">使用以下语句查看它是什么：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW WARNINGS\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  级别：警告</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   代码：1366</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
消息：错误的字符串值：第1行'gb2312'列的'\ xE6 \ xB1 \ x8CB'</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        所以这只是一个关于</font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专栏</font><font style="vertical-align: inherit;">的警告</font><font style="vertical-align: inherit;">。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; SELECT ucs2，HEX（ucs2），gb2312，HEX（gb2312）FROM ch;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------- + -------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">HEX（ucs2）| </font><font style="vertical-align: inherit;">gb2312 | </font><font style="vertical-align: inherit;">HEX（gb2312）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------- + -------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">A汌B | </font><font style="vertical-align: inherit;">00416C4C0042 | </font><font style="vertical-align: inherit;">A？B | </font><font style="vertical-align: inherit;">413F42 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- + -------------- + -------- + ------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这里有几件事需要解释：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如前所述，</font><font style="vertical-align: inherit;">
            该</font></font><code class="literal">汌</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符不在
             </font></font><code class="literal">gb2312</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集中。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果您使用的是旧版本的MySQL，则可能会看到不同的消息。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发生警告而不是错误，因为MySQL未设置为使用严格的SQL模式。</font><font style="vertical-align: inherit;">在非严格模式下，MySQL试图尽其所能，以达到最佳状态，而不是放弃。</font><font style="vertical-align: inherit;">在严格的SQL模式下，</font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不正确的字符串值</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息发生错误而不是警告，并且</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#insert" title="13.2.5 INSERT语法"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            失败。
</font></font></p></li></ol>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-gui-not-display-cjk"></a><a name="idm140527952122560"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我的GUI前端或浏览器在使用Access，PHP或其他API的应用程序中错误地显示CJK字符？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font><font style="vertical-align: inherit;">获得与服务器的直接连接
         </font><font style="vertical-align: inherit;">，并在那里尝试相同的查询。</font><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应正确，麻烦可能是你的应用程序接口需要初始化。</font><font style="vertical-align: inherit;">使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来告诉你它在语句中使用的字符集或集合</font></font><code class="literal">SHOW VARIABLES LIKE
        'char%';</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您使用的是Access，则很可能使用Connector / ODBC进行连接。</font><font style="vertical-align: inherit;">在这种情况下，您应该检查
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/connector-odbc/en/connector-odbc-configuration.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置连接器/ ODBC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，如果您使用</font></font><code class="literal">big5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您将进入</font></font><code class="literal">SET
        NAMES 'big5'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（在这种情况下，不需要</font></font><code class="literal">;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        字符。）如果您使用ASP，则可能需要添加</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在代码中。</font><font style="vertical-align: inherit;">以下是过去的一个例子：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;％</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Session.CodePage = 0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
昏暗的strConnection</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dim Conn</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strConnection =“driver = {MySQL ODBC 3.51 Driver}; server = </font></font><em class="replaceable"><code>server</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; uid = </font></font><em class="replaceable"><code>username</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;” </font><font style="vertical-align: inherit;">\</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               ＆“pwd = </font></font><em class="replaceable"><code>password</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; database = </font></font><em class="replaceable"><code>database</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; stmt = SET NAMES'big5';”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Set Conn = Server.CreateObject（“ADODB.Connection”）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conn.Open strConnection</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
％&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        同样，如果使用除</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connector / Net </font><font style="vertical-align: inherit;">之外的任何字符集</font><font style="vertical-align: inherit;">，则必须在连接字符串中指定字符集。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">更多信息，</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/connector-net-programming-connecting.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Connector / Net连接到MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用PHP，请尝试以下操作：
      </font></font></p><pre data-lang="php" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;？PHP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  $ link = new mysqli（$ host，$ usr，$ pwd，$ db）;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  if（mysqli_connect_errno（））</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    printf（“连接失败：％s \ n”，mysqli_connect_error（））;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    出口（）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  }</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  $ link-&gt; query（“SET NAMES'utf8'”）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
？&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在这种情况下，我们使用的</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        改变</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        PHP应用程序经常遇到的另一个问题与浏览器的假设有关。</font><font style="vertical-align: inherit;">有时添加或更改</font></font><code class="literal">&lt;meta&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签可以解决问题：例如，要确保用户代理将页面内容解释为</font></font><code class="literal">UTF-8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含
         </font></font><code class="literal">&lt;meta http-equiv="Content-Type" content="text/html;
        charset=utf-8"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="literal">&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML页面</font><font style="vertical-align: inherit;">的
         </font><font style="vertical-align: inherit;">部分中。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用的是Connector / J，请参阅
         </font></font><a class="ulink" href="http://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-charsets.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用字符集和Unicode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-use-4-0-charset"></a><a name="idm140527952094016"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我已升级到MySQL 5.7。</font><font style="vertical-align: inherit;">我如何在MySQL 4.0中恢复类似于字符集的行为？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 4.0版本中，</font><font style="vertical-align: inherit;">
        服务器和客户端都有</font><font style="vertical-align: inherit;">一个</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集，服务器管理员决定使用哪个字符。</font><font style="vertical-align: inherit;">这从MySQL版本4.1开始改变。</font><font style="vertical-align: inherit;">现在发生的是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">握手</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-connection" title="10.4连接字符集和排序规则"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.4节“连接字符集和排序规则”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p>
<div class="blockquote">
<blockquote class="blockquote"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当客户端连接时，它会向服务器发送它想要使用的字符集的名称。</font><font style="vertical-align: inherit;">服务器使用的名称，设置
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          系统变量。</font><font style="vertical-align: inherit;">实际上，服务器</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#set-names" title="13.7.4.3 SET NAMES语法"><code class="literal">SET NAMES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用字符集名称</font><font style="vertical-align: inherit;">执行
           </font><font style="vertical-align: inherit;">操作。
</font></font></p></blockquote>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这样做的效果是你无法控制的客户端字符由开始设定</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server=utf8</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，一些亚洲客户更喜欢MySQL 4.0行为。</font><font style="vertical-align: inherit;">为了保持这种行为，我们添加了一个
         </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它可以关闭
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果启动</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么，当客户端连接时，它发送的字符集的名称，它希望使用的服务器。</font><font style="vertical-align: inherit;">但是，</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器会忽略来自客户端的此请求</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        举个例子，假设你最喜欢的服务器字符集是</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不太可能在CJK区域，但这是默认值）。</font><font style="vertical-align: inherit;">进一步假设客户端使用，
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为这是客户端操作系统支持的内容。</font><font style="vertical-align: inherit;">现在，使用</font></font><code class="literal">latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认字符集</font><font style="vertical-align: inherit;">启动服务器
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --character-set-server = latin1
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        然后用默认字符集启动客户端
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql --default-character-set = utf8
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通过查看以下输出可以查看结果设置
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-variables" title="13.7.5.39 SHOW VARIABLES语法"><code class="literal">SHOW VARIABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_client | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_connection | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_database | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_filesystem | </font><font style="vertical-align: inherit;">二进制|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_results | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_server | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_system | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets_dir | </font><font style="vertical-align: inherit;">/ usr / local / mysql / share / mysql / charsets / |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        现在停止客户端，并使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqladmin" title="4.5.2 mysqladmin  - 用于管理MySQL服务器的客户端"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqladmin</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止服务器
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后再次启动服务器，但这次告诉它跳过这样的握手：
      </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --character-set-server = utf8 --skip-character-set-client-handshake
</font></font></pre><p><font style="vertical-align: inherit;"></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次</font><font style="vertical-align: inherit;">
        启动客户端</font><font style="vertical-align: inherit;">作为默认字符集，然后显示结果设置：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">变量名| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_client | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_connection | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_database | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_filesystem | </font><font style="vertical-align: inherit;">二进制|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_results | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_server | </font><font style="vertical-align: inherit;">latin1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_set_system | </font><font style="vertical-align: inherit;">utf8 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets_dir | </font><font style="vertical-align: inherit;">/ usr / local / mysql / share / mysql / charsets / |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- + ---------------------- ------------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        正如您通过比较不同结果所看到的，
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-variables" title="13.7.5.39 SHOW VARIABLES语法"><code class="literal">SHOW VARIABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果使用该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        选项</font><font style="vertical-align: inherit;">，服务器将忽略客户端的初始设置
         </font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-fail-searches"></a><a name="idm140527952054576"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么一些</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和中
         </font></font><code class="literal">FULLTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日韩字符搜索失败？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索来说，</font><font style="vertical-align: inherit;">对于</font><font style="vertical-align: inherit;">二进制字符串列类型（如</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">BINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and）
         </font><font style="vertical-align: inherit;">有一个非常简单的问题
         </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">BLOB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：我们必须知道字符在哪里结束。</font><font style="vertical-align: inherit;">对于多字节字符集，不同的字符可能具有不同的八位字节长度。</font><font style="vertical-align: inherit;">例如，in
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要一个字节但</font></font><code class="literal">ペ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要三个字节，如下所示：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ ------------------------- + ----------------------- ---- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">OCTET_LENGTH（_utf8'A'）| </font><font style="vertical-align: inherit;">OCTET_LENGTH（_utf8'ペ​​'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- + ----------------------- ---- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">3 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- + ----------------------- ---- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果我们不知道字符串中第一个字符的结束位置，我们不知道第二个字符开始的位置，在这种情况下甚至可以进行非常简单的搜索，例如
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE '_A%'</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败。</font><font style="vertical-align: inherit;">解决方案是使用非二进制字符串列类型定义为具有适当的CJK字符集。</font><font style="vertical-align: inherit;">例如：</font></font><code class="literal">mycol
        TEXT CHARACTER SET sjis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">或者，在比较之前转换为CJK字符集。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这是MySQL不允许编码不存在的字符的原因之一。</font><font style="vertical-align: inherit;">如果拒绝糟糕的输入并不严格，它无法知道字符在哪里结束。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="literal">FULLTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索，我们必须知道单词开始和结束的位置。</font><font style="vertical-align: inherit;">对于西方语言来说，这很少成为问题，因为大多数（如果不是全部的话）使用易于识别的单词边界：空格字符。</font><font style="vertical-align: inherit;">但是，亚洲写作通常不会这样。</font><font style="vertical-align: inherit;">由于语法结尾，我们可以使用任意的中途措施，例如假设所有汉字字符代表单词，或者（对于日语），取决于从片假名到平假名的变化。</font><font style="vertical-align: inherit;">然而，唯一可靠的解决方案需要一个全面的单词列表，这意味着我们必须在服务器中为每种支持的亚洲语言包含一本字典。</font><font style="vertical-align: inherit;">这根本不可行。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-know-avail-characters"></a><a name="idm140527952037824"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何知道角色</font></font><em class="replaceable"><code>X</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否可用于所有字符集？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        大多数简体中文和基本非半宽日文假名字符出现在所有CJK字符集中。</font><font style="vertical-align: inherit;">以下存储过程接受一个</font></font><code class="literal">UCS-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        Unicode字符，将其转换为其他字符集，并以十六进制显示结果。
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DELIMITER //</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE PROCEDURE p_convert（ucs2_char CHAR（1）CHARACTER SET ucs2）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
开始</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CREATE TABLE tj</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
             （ucs2 CHAR（1）字符集ucs2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              utf8 CHAR（1）字符集utf8，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              big5 CHAR（1）字符集big5，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              cp932 CHAR（1）字符集cp932，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              eucjpms CHAR（1）字符集eucjpms，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              euckr CHAR（1）字符集euckr，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              gb2312 CHAR（1）字符集gb2312，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              gbk CHAR（1）字符集gbk，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              sjis CHAR（1）字符集sjis，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              ujis CHAR（1）字符集ujis）;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT INTO tj（ucs2）VALUES（ucs2_char）;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPDATE tj SET utf8 = ucs2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              中文= UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              CP932 = UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              eucjpms一起= UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              EUCKR = UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              GB2312 = UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              GBK = UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              SJIS = UCS2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              UJIS = UCS2;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ *如果有转换问题，UPDATE会产生警告。</font><font style="vertical-align: inherit;">* /</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SELECT hex（ucs2）AS ucs2，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（utf8）AS utf8，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（big5）AS big5，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（cp932）AS cp932，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（eucjpms）AS eucjpms，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（euckr）AS euckr，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（gb2312）AS gb2312，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（gbk）AS gbk，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（sjis）AS sjis，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
       十六进制（ujis）AS ujis</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM tj;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DROP TABLE tj;</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结束//</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DELIMITER;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        输入可以是任何单个</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符，也可以是该字符的代码值（十六进制表示）。</font><font style="vertical-align: inherit;">例如，根据Unicode的</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编码和名称</font><font style="vertical-align: inherit;">列表
         </font><font style="vertical-align: inherit;">（</font></font><a class="ulink" href="http://www.unicode.org/Public/UNIDATA/UnicodeData.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/UNIDATA/UnicodeData.txt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），我们知道片假名字符
         </font></font><span class="foreignphrase"><em class="foreignphrase"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现在所有CJK字符集中，并且其代码值是</font></font><code class="literal">X'30DA'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果我们使用这个值作为参数
         </font></font><code class="literal">p_convert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，结果如下所示：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL p_convert(X'30DA');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + -------- + ------ + ------- + --------- + ------- + -------- + ------ + ------ + ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">utf8 | </font><font style="vertical-align: inherit;">big5 | </font><font style="vertical-align: inherit;">cp932 | </font><font style="vertical-align: inherit;">eucjpms | </font><font style="vertical-align: inherit;">euckr | </font><font style="vertical-align: inherit;">gb2312 | </font><font style="vertical-align: inherit;">gbk | </font><font style="vertical-align: inherit;">sjis | </font><font style="vertical-align: inherit;">ujis |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + -------- + ------ + ------- + --------- + ------- + -------- + ------ + ------ + ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">30DA | </font><font style="vertical-align: inherit;">E3839A | </font><font style="vertical-align: inherit;">C772 | </font><font style="vertical-align: inherit;">8379 | </font><font style="vertical-align: inherit;">A5DA | </font><font style="vertical-align: inherit;">ABDA | </font><font style="vertical-align: inherit;">A5DA | </font><font style="vertical-align: inherit;">A5DA | </font><font style="vertical-align: inherit;">8379 | </font><font style="vertical-align: inherit;">A5DA |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + -------- + ------ + ------- + --------- + ------- + -------- + ------ + ------ + ------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于没有列值</font></font><code class="literal">3F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（即问号字符</font></font><code class="literal">?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），我们知道每个转换都有效。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-sort-unicode-1"></a><a name="idm140527952023664"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么CJK字符串在Unicode中排序不正确？</font><font style="vertical-align: inherit;">（一世）
</font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这里描述的CJK排序问题可能发生在MySQL 8.0之前的MySQL版本中。</font><font style="vertical-align: inherit;">从MySQL 8.0开始，它们可以通过使用</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和</font></font><code class="literal">utf8mb4_ja_0900_as_cs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类</font><font style="vertical-align: inherit;">来解决</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有时候人们会发现，</font><font style="vertical-align: inherit;">搜索</font></font><code class="literal">utf8_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">ucs2_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索
         </font><font style="vertical-align: inherit;">的结果
         </font></font><code class="literal">ORDER BY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不是他们认为的本地人期望的结果。</font><font style="vertical-align: inherit;">尽管我们从不排除存在错误的可能性，但我们发现过去很多人没有正确阅读Unicode排序算法的标准权重表。</font><font style="vertical-align: inherit;">MySQL使用</font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.unicode.org/Public/UCA/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下的表格
         </font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            UCA 4.0.0表格：</font><a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;">：
             </font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt</font></font></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这包括
             </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            排序规则名称中没有版本号的排序规则。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            UCA 5.2.0表格：</font><a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;">：
             </font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.unicode.org/Public/UCA/5.2.0/allkeys.txt</font></font></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这包括</font></font><code class="literal">_520_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则名称中的排序规则。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            UCA 9.0.0表格：</font><a class="ulink" href="http://www.unicode.org/Public/UCA/9.0.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;">：
             </font></font><a class="ulink" href="http://www.unicode.org/Public/UCA/9.0.0/allkeys.txt" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.unicode.org/Public/UCA/9.0.0/allkeys.txt</font></font></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            这包括</font></font><code class="literal">_0900_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排序规则名称中的排序规则。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为了处理更新的UCA版本，我们创建新的排序规则。</font><font style="vertical-align: inherit;">我们对改变现有排序规则的排序非常谨慎，因为这会影响索引，这可能会导致类似Bug＃16526中报告的情况，如下所示：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE tj (s1 CHAR(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.05秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO tj VALUES ('が'),('か');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，2行受影响（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
记录：2重复：0警告：0</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM tj WHERE s1 = 'か';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">s1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">が|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">か|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        第一个结果行中的字符不是我们搜索的那个字符。</font><font style="vertical-align: inherit;">为什么MySQL检索它？</font><font style="vertical-align: inherit;">首先我们寻找Unicode代码点值，这可以通过读取</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符版本</font><font style="vertical-align: inherit;">的十六进制数字来实现</font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT s1, HEX(CONVERT(s1 USING ucs2)) FROM tj;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">s1 | </font><font style="vertical-align: inherit;">HEX（CONVERT（s1 USING ucs2））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">が| </font><font style="vertical-align: inherit;">304C |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">か| </font><font style="vertical-align: inherit;">304B |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        现在我们搜索</font></font><code class="literal">304B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
         </font></font><code class="literal">304C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code class="literal">4.0.0 allkeys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表格中找到这些行：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">304B; </font><font style="vertical-align: inherit;">[.1E57.0020.000E.304B]＃HIRAGANA LETTER KA</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
304C; </font><font style="vertical-align: inherit;">[.1E57.0020.000E.304B] [。0000.0140.0002.3099]＃HIRAGANA LETTER GA; </font><font style="vertical-align: inherit;">QQCM</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        官方的Unicode名称（在</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记</font><font style="vertical-align: inherit;">后面</font><font style="vertical-align: inherit;">）告诉我们日文音节（平假名），非正式分类（字母，数字或标点符号）和西方标识符（</font></font><code class="literal">KA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者
         </font></font><code class="literal">GA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恰好是浊音和清音组成部分相同的字母对）。</font><font style="vertical-align: inherit;">更重要的是，
         </font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要重量</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（方括号内的第一个十六进制数字）
         </font></font><code class="literal">1E57</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在两条线上。</font><font style="vertical-align: inherit;">为了在搜索和排序中进行比较，MySQL只关注主要权重，忽略所有其他数字。</font><font style="vertical-align: inherit;">这意味着我们正在整理</font></font><code class="literal">が</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">か</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        正确地根据Unicode规范。</font><font style="vertical-align: inherit;">如果我们想区分它们，我们将不得不使用非UCA（Unicode归类算法）归类（</font></font><code class="literal">utf8_bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">utf8_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），或者比较这些
         </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_hex"><code class="literal">HEX()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值或使用
         </font></font><code class="literal">ORDER BY CONVERT(s1 USING sjis)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">当然，</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据Unicode</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">正确的</font><font style="vertical-align: inherit;">是不够的：提交bug的人同样是正确的。</font><font style="vertical-align: inherit;">为了解决这个问题，我们需要根据JIS X 4061标准对日语进行另一个校对，其中有声/无声字母对像</font></font><code class="literal">KA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code class="literal">GA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以区分用于订购目的。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-sort-unicode-2"></a><a name="idm140527951984864"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么CJK字符串在Unicode中排序不正确？</font><font style="vertical-align: inherit;">（II）
</font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这里描述的CJK排序问题可能发生在MySQL 8.0之前的MySQL版本中。</font><font style="vertical-align: inherit;">从MySQL 8.0开始，它们可以通过使用</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集和</font></font><code class="literal">utf8mb4_ja_0900_as_cs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归类</font><font style="vertical-align: inherit;">来解决</font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用的是Unicode（</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并且您知道Unicode排序顺序是什么（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/faqs.html#faqs-cjk" title="A.11 MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第A.11节“MySQL 5.7 FAQ：MySQL中文，日文和韩文字符集”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），但MySQL似乎仍然会对您的表进行排序不正确地，首先验证表定义中的字符集：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW CREATE TABLE t\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
******************** 1. row ******************</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表：t</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
创建表：CREATE TABLE`t`（</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
`s1` char（1）CHARACTER SET ucs2 DEFAULT NULL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）ENGINE = MyISAM DEFAULT CHARSET = latin1</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        由于该列的字符集</font></font><code class="literal">s1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        似乎是正确的（</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），请检查
         </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#columns-table" title="24.4 INFORMATION_SCHEMA COLUMNS表"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表可以提供的有关此列的信息：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT COLUMN_NAME, CHARACTER_SET_NAME, COLLATION_NAME</code></strong>
       <strong class="userinput"><code>FROM INFORMATION_SCHEMA.COLUMNS</code></strong>
       <strong class="userinput"><code>WHERE COLUMN_NAME = 's1'</code></strong>
       <strong class="userinput"><code>AND TABLE_NAME = 't';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + -------------------- + -------------- --- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">COLUMN_NAME | </font><font style="vertical-align: inherit;">CHARACTER_SET_NAME | </font><font style="vertical-align: inherit;">COLLATION_NAME |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + -------------------- + -------------- --- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">s1 | </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">ucs2_general_ci |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + -------------------- + -------------- --- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        （有关</font><font style="vertical-align: inherit;">更多信息</font></font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#columns-table" title="24.4 INFORMATION_SCHEMA COLUMNS表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="/mysql-5.7-google-zh/information-schema.html#columns-table" title="24.4 INFORMATION_SCHEMA COLUMNS表"><font style="vertical-align: inherit;">第24.4节“INFORMATION_SCHEMA列表”</font></a><font style="vertical-align: inherit;">）。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你可以看到，对照为
         </font></font><code class="literal">ucs2_general_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替
         </font></font><code class="literal">ucs2_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是如此的原因可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-character-set" title="13.7.5.3 SHOW CHARACTER SET语法"><code class="literal">SHOW CHARACTER
        SET</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下所示：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW CHARSET LIKE 'ucs2%';</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + --------------- + ------------------- + --- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">字符集| </font><font style="vertical-align: inherit;">说明| </font><font style="vertical-align: inherit;">默认排序| </font><font style="vertical-align: inherit;">Maxlen |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + --------------- + ------------------- + --- ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ucs2 | </font><font style="vertical-align: inherit;">UCS-2 Unicode | </font><font style="vertical-align: inherit;">ucs2_general_ci | </font><font style="vertical-align: inherit;">2 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- + --------------- + ------------------- + --- ----- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，默认排序规则是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要指定Unicode UCA整理，请使用</font></font><code class="literal">COLLATE
        ucs2_unicode_ci</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如前面的项目所示。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-supplement-char-rejected"></a><a name="idm140527951959776"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.15。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        为什么我的补充字符被MySQL拒绝？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        补充字符位于Unicode </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basic Multilingual Plane / Plane 0之外</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">BMP字符在</font></font><code class="literal">U+0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font><font style="vertical-align: inherit;">之间有代码点值</font></font><code class="literal">U+FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">补充字符在</font></font><code class="literal">U+10000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font><font style="vertical-align: inherit;">之间有代码点值</font></font><code class="literal">U+10FFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要存储补充字符，您必须使用允许它们的字符集：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集仅支持BMP字符。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集只允许
             </font></font><code class="literal">UTF-8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种需要占用三个字节字符。</font><font style="vertical-align: inherit;">这导致了诸如Bug＃12600中发现的报告，我们拒绝这些报告为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不是bug</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用时
             </font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL在遇到不理解的字节时必须截断输入字符串。</font><font style="vertical-align: inherit;">否则，不知道坏的多字节字符有多长。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一种可能的解决方法是使用，</font></font><code class="literal">ucs2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            而不是</font></font><code class="literal">utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，
             </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">坏</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符被改为问号。</font><font style="vertical-align: inherit;">但是，不会发生截断。</font><font style="vertical-align: inherit;">您也可以将数据类型更改为</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#blob" title="11.4.3 BLOB和TEXT类型"><code class="literal">BLOB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
             </font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#binary-varbinary" title="11.4.2 BINARY和VARBINARY类型"><code class="literal">BINARY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不进行有效性检查。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在</font></font><code class="literal">utf8mb4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">utf16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
             </font></font><code class="literal">utf16le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，和</font></font><code class="literal">utf32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字符集支持BMP字符，以及在BMP之外增补字符。
</font></font></p></li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-not-cjkv"></a><a name="idm140527951938944"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.16。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CJK</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CJKV</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不是。</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CJKV</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        （</font></font><span class="firstterm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中文日文韩文越南文</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是指包含汉字（原来是中文）的越南字符集。</font><font style="vertical-align: inherit;">MySQL支持具有西方字符的现代越南文字，但不支持使用汉字的旧越南文字。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从MySQL 5.6起，有Unicode字符集的越南语排序规则，如
         </font></font><a class="xref" href="/mysql-5.7-google-zh/charset.html#charset-unicode-sets" title="10.10.1 Unicode字符集"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第10.10.1节“Unicode字符集”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-db-table-names"></a><a name="idm140527951933488"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.17。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL是否允许在数据库和表名中使用CJK字符？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-where-doc-translations"></a><a name="idm140527951931488"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.18。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到将MySQL手册翻译成中文，日文和韩文的翻译？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        日语翻译的MySQL 5.6手册可以从</font></font><a class="ulink" href="http://dev.mysql.com/doc/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://dev.mysql.com/doc/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-help-with-cjk"></a><a name="idm140527951928800"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.11.19。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以在哪里获得有关CJK和MySQL相关问题的帮助？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下资源可用：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              可以在</font></font><a class="ulink" href="https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到MySQL用户组列表
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              查看</font></font><a class="ulink" href="http://tinyurl.com/y6xcuf" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://tinyurl.com/y6xcuf上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关字符集问题的功能请求
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              访问MySQL
               </font></font><a class="ulink" href="http://forums.mysql.com/list.php?103" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符集，整理，Unicode论坛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font><a class="ulink" href="http://forums.mysql.com/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://forums.mysql.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还提供外语论坛。
</font></font></p></li></ul>
</div>
<p>
</p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-connectors-apis"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.12 MySQL 5.7 FAQ：连接器和API</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140527951920448"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      有关MySQL连接器和其他API的常见问题，问题和解答，请参见手册的以下部分：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="/mysql-5.7-google-zh/connectors-apis.html#c-api-common-issues" title="27.8.21 C API常见问题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第27.8.21节“C API常见问题”</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/apis-php/en/apis-php-problems.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL和PHP的常见问题</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/connector-odbc/en/connector-odbc-usagenotes.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接器/ ODBC注释和提示</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/connector-net-programming.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接器/网络编程</font></font></a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/connector-j/5.1/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Connector / J 5.1开发人员指南</font></font></a>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-replication"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13 MySQL 5.7 FAQ：复制</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140527951909216"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在以下部分中，我们提供了有关MySQL复制最常见问题的答案。
</font></font></p>
<div class="qandaset">
<a name="idm140527951907232"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-have-connected-slave"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        奴隶必须始终连接到主人吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-have-enable-networking"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我必须启用我的主站和从站上的网络以启用复制吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-compare-slave-date"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我怎么知道奴隶与主人相比有多迟？</font><font style="vertical-align: inherit;">换句话说，我如何知道从机复制的最后一条语句的日期？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-block-updates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何强制主人阻止更新，直到奴隶赶上？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-two-way-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在设置双向复制时应该注意哪些问题？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-improves-performance"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何使用复制来提高系统的性能？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-prepare-for-replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我应该如何在自己的应用程序中准备客户端代码以使用性能增强复制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-benefits-me"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL复制的时间和数量可以提高我系统的性能？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-high-availability"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何使用复制来提供冗余或高可用性？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-know-log-format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何判断主服务器是使用基于语句还是基于行的二进制日志记录格式？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-use-row-based"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何告诉一个奴隶使用基于行的复制？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-how-prevent-grant-revoke"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何防止GRANT和REVOKE语句复制到从属机器？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-can-mix-os"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制是否在混合操作系统上工作（例如，主服务器在Linux上运行，而从服务器在OS X和Windows上运行）？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-replication-can-mix-arch"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制在混合硬件体系结构上工作（例如，主机在64位机器上运行，而从机在32位机器上运行）？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-replication-have-connected-slave"></a><a name="idm140527951906416"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        奴隶必须始终连接到主人吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不，不是的。</font><font style="vertical-align: inherit;">从站可以关闭或保持断开连接数小时甚至数天，然后重新连接并跟上更新。</font><font style="vertical-align: inherit;">例如，您可以通过拨号链接建立主/从关系，其中链接仅在偶尔和短时间内连接。</font><font style="vertical-align: inherit;">这意味着，在任何时候，奴隶不能保证与主人同步，除非你采取一些特殊措施。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要确保已断开连接的从站可以发生追赶，您不得从主站中删除包含尚未复制到从站的信息的二进制日志文件。</font><font style="vertical-align: inherit;">异步复制只有在从设备能够从最后一次读取事件的地方继续读取二进制日志的情况下才能起作用。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-have-enable-networking"></a><a name="idm140527951903184"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我必须启用我的主站和从站上的网络以启用复制吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是的，必须在主机和从机上启用联网。</font><font style="vertical-align: inherit;">如果未启用联网，则从站无法连接到主站并传输二进制日志。</font><font style="vertical-align: inherit;">检查该</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_skip-networking"><code class="option">skip-networking</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器的配置文件中是否未启用</font><font style="vertical-align: inherit;">该
         </font><font style="vertical-align: inherit;">选项。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-compare-slave-date"></a><a name="idm140527951899920"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我怎么知道奴隶与主人相比有多迟？</font><font style="vertical-align: inherit;">换句话说，我如何知道从机复制的最后一条语句的日期？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        检查</font></font><code class="literal">Seconds_Behind_Master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-slave-status" title="13.7.5.34 SHOW SLAVE STATUS语法"><code class="literal">SHOW SLAVE STATUS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-administration-status" title="16.1.7.1检查复制状态"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.1.7.1节“检查复制状态”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当从属SQL线程执行从主设备读取的事件时，它将自己的时间修改为事件时间戳。</font><font style="vertical-align: inherit;">（这是为什么</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#datetime" title="11.3.1 DATE，DATETIME和TIMESTAMP类型"><code class="literal">TIMESTAMP</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复制得当。）在</font></font><code class="literal">Time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出列中</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从SQL SQL线程显示的秒数是上次复制事件的时间戳与从机的实时之间的秒数。</font><font style="vertical-align: inherit;">您可以使用它来确定上次复制事件的日期。</font><font style="vertical-align: inherit;">请注意，如果您的从服务器与主服务器断开了一个小时，然后重新连接，您可能会立即看到较大的
         </font></font><code class="literal">Time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值，如从属SQL线程的值为3600</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是因为从机正在执行一小时前的语句。</font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-implementation-details" title="16.2.2复制实现细节"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.2.2节“复制实现细节”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-block-updates"></a><a name="idm140527951888192"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何强制主人阻止更新，直到奴隶赶上？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用以下过程：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在主设备上，执行以下语句：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>FLUSH TABLES WITH READ LOCK;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SHOW MASTER STATUS;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show" title="13.7.5 SHOW语法"><code class="literal">SHOW</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">的输出中记录复制坐标（当前的二进制日志文件名称和位置）
             </font><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在从站上，发出以下语句，其中</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">的参数
             </font><font style="vertical-align: inherit;">是上一步中获得的复制坐标值：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT MASTER_POS_WAIT('<em class="replaceable"><code>log_name</code></em>', <em class="replaceable"><code>log_pos</code></em>);</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#select" title="13.2.9 SELECT语法"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句阻塞，直到从站到达指定的日志文件和位置。</font><font style="vertical-align: inherit;">此时，从属设备与主设备同步，语句返回。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在主服务器上，发出以下语句以使主服务器再次开始处理更新：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>UNLOCK TABLES;</code></strong>
</pre></li></ol>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-two-way-problems"></a><a name="idm140527951871152"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在设置双向复制时应该注意哪些问题？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL复制当前不支持主从机之间的任何锁定协议，以保证分布式（跨服务器）更新的原子性。</font><font style="vertical-align: inherit;">换句话说，客户端A可以对联合主控器1进行更新，同时，在它传播给联合主控器2之前，客户端B可以对联合主控器2进行更新，客户端A的工作方式与联合主控制器1的工作方式不同。因此，当客户端A的更新使其联合主控2时，即使在所有更新之后，它也会产生与您在联合主控制器1上不同的表格从合作大师2也传播。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        就更新而言，您应该也意识到双向复制实际上并不会极大地提高性能（如果有的话）。</font><font style="vertical-align: inherit;">每台服务器都必须执行相同数量的更新，就像您拥有单台服务器一样。</font><font style="vertical-align: inherit;">唯一的区别是锁定争用少一点，因为源自另一台服务器的更新在一个从属线程中被串行化。</font><font style="vertical-align: inherit;">即使这种好处也可能被网络延迟所抵消。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-improves-performance"></a><a name="idm140527951867168"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何使用复制来提高系统的性能？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        设置一台服务器作为主服务器并指示所有写入。</font><font style="vertical-align: inherit;">然后根据您的预算和机架空间配置尽可能多的从机，并在主机和从机之间分配读取。</font><font style="vertical-align: inherit;">你也可以开始与奴隶
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#option_mysqld_innodb"><code class="option">--skip-innodb</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_low-priority-updates"><code class="option">--low-priority-updates</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_delay-key-write"><code class="option">--delay-key-write=ALL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择，让slave端的速度提升。</font><font style="vertical-align: inherit;">在这种情况下，从属使用非事务性</font></font><code class="literal">MyISAM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表而不是</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表来通过消除事务性开销来获得更高的速度。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-prepare-for-replication"></a><a name="idm140527951860336"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我应该如何在自己的应用程序中准备客户端代码以使用性能增强复制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        请参阅将复制用作横向扩展解决方案的指南，</font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-solutions-scaleout" title="16.3.4使用复制进行扩展"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.3.4节“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为扩展
         </font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-solutions-scaleout" title="16.3.4使用复制进行扩展"><font style="vertical-align: inherit;">使用复制”</font></a><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-benefits-me"></a><a name="idm140527951857552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL复制的时间和数量可以提高我系统的性能？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL复制对于处理频繁读取和不频繁写入的系统是最有利的。</font><font style="vertical-align: inherit;">理论上，通过使用单主机/多从机设置，可以通过添加更多从机来扩展系统，直到耗尽网络带宽，或者您的更新负载增长到主机无法处理的程度。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要确定在添加的优势开始平稳之前可以使用多少个从站，以及可以提高站点性能的程度，您必须了解您的查询模式，并通过基准测试读取和写入的吞吐量之间的关系来凭经验确定一个典型的主人和一个典型的奴隶。</font><font style="vertical-align: inherit;">这里的例子显示了一个相当简单的计算，你可以通过假设系统的复制获得什么。</font><font style="vertical-align: inherit;">设</font></font><code class="literal">reads</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并
         </font></font><code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别表示每秒的读写次数。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        假设系统负载由10％写入和90％读取组成，并且我们已经通过基准测试确定了1200-2
         </font></font><code class="literal">reads</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*
         </font></font><code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">换句话说，系统可以每秒执行1,200次读取而无需写入，平均写入速度是平均读取的两倍，并且关系是线性的。</font><font style="vertical-align: inherit;">假设主机和每个从机具有相同的容量，并且我们有一个主机和
         </font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从机。</font><font style="vertical-align: inherit;">然后我们为每个服务器（主或从）：
      </font></font></p><p>
        <code class="literal">reads</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 1200  -  2 * </font></font><code class="literal">writes</code>
      </p><p>
        <code class="literal">reads</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 9 * </font></font><code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/（</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 1）（读取被拆分，但写入复制到所有从属）
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        9 * </font></font><code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/（</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 1）+ 2 * </font></font><code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 1200
      </font></font></p><p>
        <code class="literal">writes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 1200 /（2 + 9 /（</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 1））
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最后一个等式表示从设备的最大写入次数
         </font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，给定最大可能的读取速率为每秒1200次，每次写入的读取次数为9次。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该分析得出以下结论：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 0（这意味着我们没有复制），我们的系统可以处理大约每秒1200/11 = 109次写入。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 1，我们每秒钟可以达到184次写入。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 8，我们每秒钟可以达到400次写入。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 17，我们可以达到每秒480次写入。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            最终，随着</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接近无穷大（以及我们的预算负无穷大），我们可以实现每秒接近600次写入，从而将系统吞吐量提高约5.5倍。</font><font style="vertical-align: inherit;">但是，只有八台服务器，我们增加了近四倍。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        这些计算假设无限的网络带宽，并忽略了可能对您的系统有重大影响的其他几个因素。</font><font style="vertical-align: inherit;">在很多情况下，如果您添加</font></font><em class="replaceable"><code>N</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制从服务器</font><font style="vertical-align: inherit;">，您可能无法执行类似于刚刚显示的计算的准确预测系统将发生的情况的计算</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，回答以下问题可以帮助您决定是否以及通过多少复制来提高系统的性能：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            系统上的读/写比率是多少？
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果减少读取次数，一台服务器可以处理多少写入负载？
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            您的网络上有多少个可用带宽？
</font></font></p></li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-high-availability"></a><a name="idm140527951829312"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何使用复制来提供冗余或高可用性？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        你如何实现冗余完全取决于你的应用和环境。</font><font style="vertical-align: inherit;">高可用性解决方案（具有自动故障转移功能）需要主动监控，并且需要自定义脚本或第三方工具来提供从原始MySQL服务器到从服务器的故障转移支持。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要手动处理该过程，您应该能够通过更改您的应用程序与新服务器交谈或通过将MySQL服务器的DNS从故障服务器调整到新服务器，从故障主服务器切换到预配置从服务器。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息和一些示例解决方案，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/replication.html#replication-solutions-switch" title="16.3.7在故障转移期间切换主站"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第16.3.7节“在故障切换期间切换主服务器”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-know-log-format"></a><a name="idm140527951825136"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何判断主服务器是使用基于语句还是基于行的二进制日志记录格式？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        检查</font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的值
         </font><font style="vertical-align: inherit;">：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW VARIABLES LIKE 'binlog_format';</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        示出的值将是一</font></font><code class="literal">STATEMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">ROW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">MIXED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于
         </font></font><code class="literal">MIXED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式，默认情况下使用基于语句的日志记录，但在某些情况下，复制会自动切换到基于行的日志记录，例如不安全的语句。</font><font style="vertical-align: inherit;">有关何时可能发生的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#binary-log-mixed" title="5.4.4.3混合二进制记录格式"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.4.4.3节“混合二进制记录格式”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-use-row-based"></a><a name="idm140527951816000"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何告诉一个奴隶使用基于行的复制？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        从属自动知道使用哪种格式。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-prevent-grant-revoke"></a><a name="idm140527951813936"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何防止</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#grant" title="13.7.1.4 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
         </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#revoke" title="13.7.1.6 REVOKE语法"><code class="literal">REVOKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明复制到从属机器？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><a class="link" href="/mysql-5.7-google-zh/replication.html#option_mysqld_replicate-wild-ignore-table"><code class="option">--replicate-wild-ignore-table=mysql.%</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        忽略</font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">中表的复制</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">选项
         </font><font style="vertical-align: inherit;">启动服务器
         </font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-can-mix-os"></a><a name="idm140527951807600"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制是否在混合操作系统上工作（例如，主服务器在Linux上运行，而从服务器在OS X和Windows上运行）？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-can-mix-arch"></a><a name="idm140527951805552"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.13.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        复制是否在混合硬件体系结构上工作（例如，主机在64位机器上运行，而从机在32位机器上运行）？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-thread-pool"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14 MySQL 5.7 FAQ：MySQL企业线程池</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527951802688"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-thread-pool-what-solve"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是线程池，它解决了什么问题？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-thread-pool-how-manage-operation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池如何限制和管理并发会话和事务以实现最佳性能和吞吐量？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-thread-pool-how-diff-connector-pool"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池与客户端连接池有什么不同？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-thread-pool-when-use"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我应该何时使用线程池？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-thread-pool-what-config-recommend"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有推荐的线程池配置吗？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-what-solve"></a><a name="idm140527951801920"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是线程池，它解决了什么问题？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL线程池是一个MySQL服务器插件，它扩展了MySQL服务器的默认连接处理能力，以限制并发执行的语句/查询和事务的数量，以确保每个服务器都有足够的CPU和内存资源来完成其任务。</font><font style="vertical-align: inherit;">MySQL 5.7的商业版本包括Thread Pool插件。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL服务器中的默认线程处理模型执行每个客户端连接使用一个线程的语句。</font><font style="vertical-align: inherit;">随着更多客户端连接到服务器并执行语句，整体性能下降。</font><font style="vertical-align: inherit;">线程池插件提供了另一种线程处理模型，旨在减少开销并提高性能。</font><font style="vertical-align: inherit;">线程池插件通过有效地管理大量客户端连接的语句执行线程来提高服务器性能，特别是在现代多CPU /核心系统上。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#thread-pool" title="5.5.3 MySQL企业线程池"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.5.3节“MySQL企业线程池”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-how-manage-operation"></a><a name="idm140527951797488"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池如何限制和管理并发会话和事务以实现最佳性能和吞吐量？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池使用</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分而治之</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”的</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        方法来限制和平衡并发。</font><font style="vertical-align: inherit;">与MySQL服务器的默认连接处理不同，线程池将连接和线程分开，因此连接和执行从这些连接收到的语句的线程之间没有固定的关系。</font><font style="vertical-align: inherit;">线程池然后管理可配置线程组内的客户端连接，根据它们提交完成的工作的性质对它们进行优先级排序。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关更多信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#thread-pool-operation" title="5.5.3.3线程池操作"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.5.3.3节“线程池操作”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-how-diff-connector-pool"></a><a name="idm140527951793264"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池与客户端连接池有什么不同？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL连接池在客户端运行，以确保MySQL客户端不会不断地连接到MySQL服务器并与其断开连接。</font><font style="vertical-align: inherit;">它旨在缓存MySQL客户端中的空闲连接，以供其他用户在需要时使用。</font><font style="vertical-align: inherit;">这将查询提交给MySQL服务器时建立和拆除连接的开销和开销最小化。</font><font style="vertical-align: inherit;">MySQL连接池对查询处理能力或后端MySQL服务器的负载没有可见性。</font><font style="vertical-align: inherit;">相比之下，线程池在MySQL服务器端运行，旨在管理从访问后端MySQL数据库的客户端连接收到的入站并发连接和查询的执行。
      </font></font></p><p><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/connectors-apis.html" title="第27章连接器和API"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第27章</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接器和API</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        介绍了通过MySQL连接器进行MySQL连接池
         </font><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-when-use"></a><a name="idm140527951789104"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我应该何时使用线程池？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于最佳的线程池用例，有几条经验法则需要考虑：
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#statvar_Threads_running"><code class="literal">Threads_running</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        变量跟踪当前在MySQL服务器中执行的并发语句的数量。</font><font style="vertical-align: inherit;">如果这个变量始终超过服务器无法最佳运行的区域（对于InnoDB工作负载通常超过40），那么线程池将是有益的，特别是在极端并行过载情况下。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果您使用的
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_thread_concurrency"><code class="literal">innodb_thread_concurrency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是限制并发执行语句的数量，那么您会发现线程池通过分配连接到线程组来解决同样的问题，然后根据事务内容，用户定义的指定等排队执行。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        最后，如果你的工作量主要包括短的查询，线程池将是有益的。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要了解更多信息，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#thread-pool-tuning" title="5.5.3.4线程池调整"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.5.3.4节“线程池优化”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-what-config-recommend"></a><a name="idm140527951781424"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.14.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有推荐的线程池配置吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        线程池有许多影响其性能的用户案例驱动的配置参数。</font><font style="vertical-align: inherit;">要了解这些和调优技巧，请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/server-administration.html#thread-pool-tuning" title="5.5.3.4线程池调整"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.5.3.4节“线程池调优”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-innodb-change-buffer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15 MySQL 5.7 FAQ：InnoDB变更缓冲区</font></font></h2>

</div>

</div>

</div>
<div class="qandaset">
<a name="idm140527951777792"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-operations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪些类型的操作修改二级索引并导致更改缓冲？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-benefits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB更改缓冲区的好处是什么？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-index-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区是否支持其他类型的索引？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-space-max-size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB用于更改缓冲区有多少空间？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-current-size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何确定更改缓冲区的当前大小？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-merging"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时更改缓冲区合并发生？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-flush-time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区何时刷新？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-when-to-enable"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时应该使用更换缓冲区？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-when-to-disable"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时应该更改缓冲区不被使用？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-innodb-change-buffer-info"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关更改缓冲区的其他信息？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-operations"></a><a name="idm140527951777040"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        哪些类型的操作修改二级索引并导致更改缓冲？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">INSERT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">UPDATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
         </font></font><code class="literal">DELETE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作可以修改二级索引。</font><font style="vertical-align: inherit;">如果受影响的索引页不在缓冲池中，则更改可以缓存在更改缓冲区中。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-benefits"></a><a name="idm140527951772720"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改缓冲区有什么</font><font style="vertical-align: inherit;">
        好处</font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        二级索引页不在缓冲池中时缓冲二级索引更改可避免在磁盘中立即从受影响的索引页中读取所需的昂贵的随机访问I / O操作。</font><font style="vertical-align: inherit;">随着页面通过其他读取操作读入缓冲池，缓冲更改可以稍后批量应用。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-index-types"></a><a name="idm140527951769680"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区是否支持其他类型的索引？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不可以。更改缓冲区只支持二级索引。</font><font style="vertical-align: inherit;">不支持聚簇索引，全文索引和空间索引。</font><font style="vertical-align: inherit;">全文索引具有自己的缓存机制。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-space-max-size"></a><a name="idm140527951767520"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        多少空间</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于更改缓冲区？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_change_buffer_max_size"><code class="literal">innodb_change_buffer_max_size</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.6中</font><font style="vertical-align: inherit;">
        引入</font><font style="vertical-align: inherit;">配置选项</font><font style="vertical-align: inherit;">之前，
         </font><font style="vertical-align: inherit;">系统表空间中磁盘更改缓冲区的最大大小为</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲池大小的</font><font style="vertical-align: inherit;">1/3
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL 5.6及更高版本中，
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_change_buffer_max_size"><code class="literal">innodb_change_buffer_max_size</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        配置选项将更改缓冲区的最大大小定义为总缓冲池大小的百分比。</font><font style="vertical-align: inherit;">默认情况下，
         </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_change_buffer_max_size"><code class="literal">innodb_change_buffer_max_size</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        设置为25.最大设置为50。
      </font></font></p><p>
        <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 如果它会导致磁盘上的更改缓冲区超出定义的限制，则不缓冲该操作。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区页面不需要保存在缓冲池中，可能会被LRU操作驱逐。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-current-size"></a><a name="idm140527951757648"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何确定更改缓冲区的当前大小？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区的当前大小由</font><font style="vertical-align: inherit;">
        标题</font></font><code class="literal">SHOW ENGINE INNODB STATUS \G</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下的
         </font><font style="vertical-align: inherit;">报告
         </font></font><code class="literal">INSERT BUFFER AND ADAPTIVE HASH INDEX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如：
      </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-------------------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INSERT BUFFER和ADAPTIVE HASH INDEX</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ibuf：大小1，空闲列表len 0，seg大小2，0合并</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        相关数据点包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：更改缓冲区内使用的页数。</font><font style="vertical-align: inherit;">更改缓冲区大小等于</font></font><code class="literal">seg
            size - (1 + free list len)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">1
            +</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值代表更改缓冲区标题页面。
          </font></font></p></li><li class="listitem"><p>
            <code class="literal">seg size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：更改缓冲区的大小，以页为单位。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        有关监视更改缓冲区状态的信息，请参见
         </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-insert-buffering" title="14.4.2更改缓冲区"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.4.2节“更改缓冲区”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-merging"></a><a name="idm140527951746416"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时更改缓冲区合并发生？
</font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            当一个页面被读入缓冲池时，在读取完成之后，缓存的更改将被合并，然后该页面可用。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            更改缓冲区合并作为后台任务执行。</font><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_io_capacity"><code class="literal">innodb_io_capacity</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            参数设置</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台任务</font><font style="vertical-align: inherit;">执行的I / O活动的上限，</font><font style="vertical-align: inherit;">例如合并来自更改缓冲区的数据。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在崩溃恢复期间执行更改缓冲区合并。</font><font style="vertical-align: inherit;">随着索引页被读入缓冲池，更改将从更改缓冲区（在系统表空间中）应用到辅助索引的叶页。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            更换缓冲区完全耐用，可以在系统崩溃后继续运行。</font><font style="vertical-align: inherit;">重新启动后，将缓冲区合并操作作为正常操作的一部分恢复。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            更改缓冲区的完全合并可以作为慢速服务器关闭的一部分使用
             </font></font><a class="link" href="/mysql-5.7-google-zh/innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">--innodb-fast-shutdown=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-flush-time"></a><a name="idm140527951736320"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区何时刷新？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更新后的页面被相同的刷新机制冲刷，刷新占用缓冲池的其他页面。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-when-to-enable"></a><a name="idm140527951734240"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时应该使用更换缓冲区？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        更改缓冲区是一项功能，旨在随着索引变大并且不再适合</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲池</font><font style="vertical-align: inherit;">而减少对二级索引的随机I / O。</font><font style="vertical-align: inherit;">一般来说，当整个数据集不适合缓冲池，当有大量DML活动修改二级索引页面，或者有很多二级索引由DML活动定期更改时，应该使用更改缓冲区。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-when-to-disable"></a><a name="idm140527951731072"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        何时应该更改缓冲区不被使用？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果整个数据集适合</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲池，如果您的辅助索引相对较少，或者您正在使用固态存储，其中随机读取的速度与顺序读取速度一样快，则</font><font style="vertical-align: inherit;">可以考虑禁用更改缓冲区</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在进行配置更改之前，建议您使用代表性工作负载运行测试，以确定禁用更改缓冲区是否提供任何好处。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-info"></a><a name="idm140527951727888"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.15.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我在哪里可以找到有关更改缓冲区的其他信息？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分和博客帖子提供了有关</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改缓冲区的</font><font style="vertical-align: inherit;">其他信息</font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-insert-buffering" title="14.4.2更改缓冲区"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.4.2节“更换缓冲液”</font></font></a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-performance-change_buffering" title="14.6.5配置InnoDB变更缓存"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14.6.5节“配置InnoDB更改缓冲”</font></font></a>
          </p></li><li class="listitem"><p>
            <a class="ulink" href="https://blogs.oracle.com/mysqlinnodb/entry/mysql_5_5_innodb_change" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL 5.5：InnoDB更改缓冲</font></font></a>
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-tablespace-encryption"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16 MySQL 5.7 FAQ：InnoDB表空间加密</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140527951719488"></a>
<div class="qandaset">
<a name="idm140527951718032"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-access"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据是否被授权查看的用户解密？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.2。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-overhead"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        与InnoDB表空间加密相关的开销是多少？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.3。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-algorithm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB表空间加密使用哪些加密算法？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.4。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-other-algorithms"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有可能使用第三方加密算法代替InnoDB表空间加密功能提供的算法？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.5。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-indexed-columns"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        索引列可以加密吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.6。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-data-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB表空间加密支持哪些数据类型和数据长度？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.7。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-network"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据是否在网络上保持加密？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.8。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-database-memory"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据库内存是否包含明文或加密数据？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.9。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-data-to-encrypt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何知道要加密的数据？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.10。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-mysql-encryption"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB表空间加密与MySQL已经提供的加密函数有何不同？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.11。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-transportable-tablespaces"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可移植表空间功能是否可以与InnoDB表空间加密一起使用？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.12。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-compression"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        压缩与InnoDB表空间加密一起工作吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.13。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-mysqldump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以使用mysqlpump或mysqldump加密表吗？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.14。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-key-rotation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何更改（旋转，重新键入）主加密密钥？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.15。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-data-migration"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何将数据从明文InnoDB表空间迁移到已加密的InnoDB表空间？
      </font></font></a></dt><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.16。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-tablespace-encryption-external-key-storage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        InnoDB表空间加密功能可以使用PKSC11接口将主加密密钥存储在外部设备中吗？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-access"></a><a name="idm140527951717216"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据是否被授权查看的用户解密？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密旨在为客户提供在数据库中透明应用加密而不影响现有应用程序的能力。</font><font style="vertical-align: inherit;">以加密格式返回数据会破坏大多数现有应用程序。</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密提供了加密的好处，而没有与传统数据库加密解决方案相关的开销，这通常需要对应用程序，数据库触发器和视图进行昂贵且实质性的更改。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-overhead"></a><a name="idm140527951713200"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.2。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        与</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表空间加密</font><font style="vertical-align: inherit;">相关的开销是</font><font style="vertical-align: inherit;">多少？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有额外的存储开销。</font><font style="vertical-align: inherit;">根据内部基准，性能开销达到单位数百分比的差异。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-algorithm"></a><a name="idm140527951710352"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.3。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        什么是与</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密一起</font><font style="vertical-align: inherit;">使用的加密算法
         </font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密支持高级加密标准（AES256）基于块的加密算法。</font><font style="vertical-align: inherit;">它使用电子密码本（ECB）块加密模式进行表空间密钥加密和密码块链接（CBC）块加密模式进行数据加密。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-other-algorithms"></a><a name="idm140527951706560"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.4。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是否有可能使用第三方加密算法来代替</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密功能</font><font style="vertical-align: inherit;">提供的算法</font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不，不可能使用其他加密算法。</font><font style="vertical-align: inherit;">提供的加密算法被广泛接受。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-indexed-columns"></a><a name="idm140527951703568"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.5。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        索引列可以加密吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 表空间加密透明地支持所有索引。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-types"></a><a name="idm140527951700880"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.6。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表空间加密支持</font><font style="vertical-align: inherit;">
        哪些数据类型和数据长度</font><font style="vertical-align: inherit;">？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密支持所有支持的数据类型。</font><font style="vertical-align: inherit;">没有数据长度限制。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-network"></a><a name="idm140527951697392"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.7。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据是否在网络上保持加密？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从表空间文件读取</font><font style="vertical-align: inherit;">
        数据时，由</font><font style="vertical-align: inherit;">表空间加密功能</font><font style="vertical-align: inherit;">加密的数据将</font><font style="vertical-align: inherit;">被解密。</font><font style="vertical-align: inherit;">因此，如果数据在网络上，则以明文形式显示。</font><font style="vertical-align: inherit;">但是，网络上的数据可以使用MySQL网络加密进行加密，该网络加密使用SSL / TLS加密传入和传出数据库的数据。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-database-memory"></a><a name="idm140527951694320"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.8。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        数据库内存是否包含明文或加密数据？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        通过</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密，内存数据被解密，从而提供100％的透明度。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-to-encrypt"></a><a name="idm140527951691504"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.9。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我如何知道要加密的数据？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        遵守PCI-DSS标准要求信用卡号码（主帐号或“PAN”）以加密形式存储。</font><font style="vertical-align: inherit;">违反通知法律（例如，CA SB 1386，CA AB 1950以及美国43个州以上的类似法律）要求对名字，姓氏，驾驶执照号码和其他PII数据进行加密。</font><font style="vertical-align: inherit;">2008年初，CA AB 1298为PII数据增加了医疗和健康保险信息。</font><font style="vertical-align: inherit;">此外，行业特定的隐私和安全标准可能需要加密某些资产。</font><font style="vertical-align: inherit;">例如，诸如药物研究结果，油田勘探结果，金融合同或执法情报人员的个人数据等资产可能需要加密。</font><font style="vertical-align: inherit;">在医疗保健行业，
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-mysql-encryption"></a><a name="idm140527951688592"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.10。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何为</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密进行了加密功能的MySQL已经提供了不同的？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL中有对称和非对称加密API，可用于手动加密数据库中的数据。</font><font style="vertical-align: inherit;">但是，应用程序必须通过调用API函数来管理加密密钥并执行所需的加密和解密操作。</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密不需要应用程序更改，对最终用户透明，并提供自动化的内置密钥管理。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-transportable-tablespaces"></a><a name="idm140527951684688"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.11。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可移动表空间功能是否可以使用
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">有关更多信息，请参阅
         </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-tablespace-encryption-exporting" title="导出加密表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导出加密表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-compression"></a><a name="idm140527951681200"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.12。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        压缩是否适用于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密的</font><font style="vertical-align: inherit;">客户将</font><font style="vertical-align: inherit;">获得压缩的全部好处，因为在数据块加密之前应用了压缩。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-mysqldump"></a><a name="idm140527951677600"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.13。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        我可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlpump" title="4.5.6 mysqlpump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlpump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
         </font></font><code class="literal">mysqldump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密表吗？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        是。</font><font style="vertical-align: inherit;">由于这些实用程序会创建逻辑备份，因此从加密表中转储的数据不会被加密。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-key-rotation"></a><a name="idm140527951673536"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.14。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何更改（旋转，重新键入）主加密密钥？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密使用双层关键机制。</font><font style="vertical-align: inherit;">使用表空间加密时，单个表空间键存储在基础表空间数据文件的标题中。</font><font style="vertical-align: inherit;">表空间密钥使用主加密密钥进行加密。</font><font style="vertical-align: inherit;">主加密密钥在启用表空间加密时生成，并存储在数据库外部。</font><font style="vertical-align: inherit;">使用该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-instance" title="13.1.4 ALTER INSTANCE语法"><code class="literal">ALTER INSTANCE
        ROTATE INNODB MASTER KEY</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">旋转</font><font style="vertical-align: inherit;">主加密密钥，</font><font style="vertical-align: inherit;">该
         </font><font style="vertical-align: inherit;">语句生成新的主加密密钥，存储该密钥并旋转该密钥以供使用。
      </font></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-migration"></a><a name="idm140527951668992"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.15。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如何将数据从明文</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间</font><font style="vertical-align: inherit;">迁移
         </font><font style="vertical-align: inherit;">到加密
         </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        不需要将数据从一个表空间传输到另一个表空间。</font><font style="vertical-align: inherit;">要加密</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        表空间中的</font><font style="vertical-align: inherit;">数据</font><font style="vertical-align: inherit;">，请运行
         </font><font style="vertical-align: inherit;">。
        </font><font style="vertical-align: inherit;">表空间加密仅支持
         </font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_file_per_table" title="文件的每个表"><font style="vertical-align: inherit;">每个文件表的表</font></a><font style="vertical-align: inherit;"> 
        空间。
      </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE语法"><code class="literal">ALTER TABLE
        <em class="replaceable"><code>tbl_name</code></em> ENCRYPTION='Y'</code></a><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/glossary.html#glos_file_per_table" title="文件的每个表"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-external-key-storage"></a><a name="idm140527951661344"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.16.16。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在能</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表空间加密功能存储在使用PKSC11接口的外部设备主加密密钥？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        目前还没有。</font><font style="vertical-align: inherit;">目前，该</font></font><code class="literal">keyring_okv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件</font><font style="vertical-align: inherit;">支持KMIP 1.1协议，该</font><font style="vertical-align: inherit;">插件可用于MySQL企业版。
</font></font></p></td></tr></tbody></table>
</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="faqs-virtualization"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.17 MySQL 5.7 FAQ：虚拟化支持</font></font></h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140527951656976"></a>
<div class="qandaset">
<a name="idm140527951655520"></a><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.17.1。</font></font><a href="/mysql-5.7-google-zh/faqs.html#faq-virtualization-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL是否支持Oracle VM，VMWare，Docker，Microsoft Hyper-V等虚拟化环境？
      </font></font></a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-virtualization-support"></a><a name="idm140527951654704"></a><p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A.17.1。</font></font></b></p></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL是否支持Oracle VM，VMWare，Docker，Microsoft Hyper-V等虚拟化环境？
      </font></font></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL在虚拟化环境中受支持，但仅针对</font></font><a class="ulink" href="http://www.oracle.com/technetwork/server-storage/vm/index.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle VM进行了</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认证
         </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">联系Oracle支持以获取更多信息。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在使用虚拟化软件时要注意潜在的问题。</font><font style="vertical-align: inherit;">通常的问题与磁盘，I / O，网络和内存的性能，性能下降，缓慢或不可预测性有关。
</font></font></p></td></tr></tbody></table>
</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/workbench.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a></td>
<td width="20%" align="center"><a accesskey="u" href="/mysql-5.7-google-zh/faqs.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/error-handling.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第30章MySQL Workbench</font></font></td>
<td width="20%" align="center"><a accesskey="h" href="/mysql-5.7-google-zh/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></td>
<td width="40%" align="right" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附录B错误，错误代码和常见问题</font></font></td>
</tr>
</tbody></table>
</div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./images/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>