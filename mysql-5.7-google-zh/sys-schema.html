<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>第26章MySQL sys模式</title>
<link rel="stylesheet" href="./images/mvl.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
<link rel="start" href="/mysql-5.7-google-zh/index.html" title="{书名}">
<link rel="up" href="/mysql-5.7-google-zh/sys-schema.html" title="">
<link rel="prev" href="/mysql-5.7-google-zh/performance-schema.html" title="Chapter 25 MySQL Performance Schema">
<link rel="next" href="/mysql-5.7-google-zh/connectors-apis.html" title="Chapter 27 Connectors and APIs">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./images/translateelement.css"></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26章MySQL sys模式</font></font></th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/performance-schema.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a>&nbsp;</td>
<th width="60%" align="center"></th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/connectors-apis.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
</tbody></table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="sys-schema"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26章MySQL sys模式</font></font></h1>

</div>

</div>

</div>
<div class="toc">
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></b></p><dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-prerequisites"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.1使用sys模式的先决条件</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-usage"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.2使用sys模式</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-progress-reporting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.3 sys模式进度报告</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4 sys模式对象参考</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-object-index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.1 sys模式对象索引</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2 sys模式表和触发器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3 sys模式视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-procedures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4 sys模式存储过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5 sys模式存储函数</font></font></a></span></dt></dl></dd></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    MySQL 5.7.7及更高版本包含
     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式，这是一组对象，可帮助DBA和开发人员解释由性能模式收集的数据。</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象可以用于典型的调优和诊断用例。</font><font style="vertical-align: inherit;">这个模式中的对象包括：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        将性能模式数据汇总为更容易理解的形式。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        执行诸如性能模式配置和生成诊断报告等操作的存储过程。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        存储的查询性能模式配置并提供格式化服务的函数。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    对于新安装，该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式由默认的数据目录初始化过程中安装，如果您使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
     </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
     </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项，或者如果您使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db的</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为了禁止这种行为，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个
     </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_install_db_skip-sys-schema"><code class="option">--skip-sys-schema</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。
    </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有这样的选项，但是如果使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqld" title="4.3.1 mysqld  -  MySQL服务器"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqld --initialize</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或
     </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）而不是
     </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-install-db" title="4.4.2 mysql_install_db  - 初始化MySQL数据目录"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_install_db</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化数据目录</font><font style="vertical-align: inherit;">，则可以</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在初始化后手动</font><font style="vertical-align: inherit;">删除
     </font><font style="vertical-align: inherit;">模式（如果不需要）。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    对于升级，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未安装的</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong><font style="vertical-align: inherit;">情况下</font></strong></span></a><font style="vertical-align: inherit;">安装</font><font style="vertical-align: inherit;">模式</font><font style="vertical-align: inherit;">，</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong><font style="vertical-align: inherit;">否则</font></strong></span></a><font style="vertical-align: inherit;">将
     </font><font style="vertical-align: inherit;">升级到当前版本。</font><font style="vertical-align: inherit;">为了允许这种行为被抑制，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql_upgrade</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个
     </font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#option_mysql_upgrade_skip-sys-schema"><code class="option">--skip-sys-schema</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项。
  </font></font></p><p>
    <a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade  - 检查并升级MySQL表"><span class="command"><strong><font style="vertical-align: inherit;"></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式存在但没有</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version" title="26.4.3.47版本视图"><code class="literal">version</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图，</font><font style="vertical-align: inherit;">则</font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong><font style="vertical-align: inherit;"> mysql_upgrade会</font></strong></span></a><font style="vertical-align: inherit;">返回错误，
    </font><font style="vertical-align: inherit;">但
    </font><font style="vertical-align: inherit;">假设没有此视图指示用户创建的</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    模式。</font><font style="vertical-align: inherit;">要在这种情况下升级，请先删除或重命名现有
    </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式。
  </font></font></p><a class="indexterm" name="idm140527966510192"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    在MySQL 5.7.9中，</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象有一个</font></font><code class="literal">DEFINER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
     </font></font><code class="literal">'mysql.sys'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（在MySQL 5.7.9之前，这
     </font></font><code class="literal">DEFINER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
     </font></font><code class="literal">'root'@'localhost'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）使用专用
     </font></font><code class="literal">mysql.sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户可避免DBA重命名或删除</font></font><code class="literal">root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户时</font><font style="vertical-align: inherit;">发生的问题</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="sys-schema-prerequisites"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.1使用sys模式的先决条件</font></font></h2>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在使用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font><font style="vertical-align: inherit;">之前</font><font style="vertical-align: inherit;">，必须满足本部分中描述的先决条件。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      由于</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构提供了访问性能架构的替代方法，因此必须启用性能架构才能使
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构发挥作用。</font><font style="vertical-align: inherit;">请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-startup-configuration" title="25.3性能模式启动配置"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.3节“性能架构启动配置”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      为了完全访问</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式，用户必须具有以下特权：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#priv_select"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所有
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格和视图上
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#priv_execute"><code class="literal">EXECUTE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所有
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储过程和函数上
        </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#priv_insert"><code class="literal">INSERT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_update"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中，如果改变是它使
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如他们的描述中指出的那样，</font><font style="vertical-align: inherit;">
          某些</font><font style="vertical-align: inherit;">模式存储过程和函数的</font><font style="vertical-align: inherit;">额外特权
           </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">例如，
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      还有必要拥有</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象</font><font style="vertical-align: inherit;">下的</font><font style="vertical-align: inherit;">对象的</font><font style="vertical-align: inherit;">特权</font><font style="vertical-align: inherit;">：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#priv_select"><code class="literal">SELECT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          架构对象</font><font style="vertical-align: inherit;">访问的任何性能架构表上</font><font style="vertical-align: inherit;">以及</font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_update"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象
         </font><font style="vertical-align: inherit;">更新任何表
          </font></font></p></li><li class="listitem"><p>
          <a class="link" href="/mysql-5.7-google-zh/security.html#priv_process"><code class="literal">PROCESS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为
           </font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-buffer-page-table" title="24.31.1 INFORMATION_SCHEMA INNODB_BUFFER_PAGE表"><code class="literal">INNODB_BUFFER_PAGE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌子
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      某些性能架构工具和消费者必须启用并且（对于仪器）定时才能充分利用
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式功能：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所有</font></font><code class="literal">wait</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪器
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所有</font></font><code class="literal">stage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪器
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所有</font></font><code class="literal">statement</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪器
        </font></font></p></li><li class="listitem"><p>
          <code class="literal"><em class="replaceable"><code>xxx</code></em>_current</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal"><em class="replaceable"><code>xxx</code></em>_history_long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          所有事件的消费者
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式本身来启用所有其他工具和使用者：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CALL sys.ps_setup_enable_instrument（'wait'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CALL sys.ps_setup_enable_instrument（'stage'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CALL sys.ps_setup_enable_instrument（'statement'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CALL sys.ps_setup_enable_consumer（'current'）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CALL sys.ps_setup_enable_consumer（'history_long'）;</font></font><font></font>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        对于</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式的</font><font style="vertical-align: inherit;">许多用途</font><font style="vertical-align: inherit;">，默认的性能模式足以用于数据收集。</font><font style="vertical-align: inherit;">启用刚刚提到的所有工具和消费者都会对性能产生影响，因此最好仅启用所需的其他配置。</font><font style="vertical-align: inherit;">另外，请记住，如果启用其他配置，则可以轻松恢复如下所示的默认配置：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CALL sys.ps_setup_reset_to_default（TRUE）;
</font></font></pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="sys-schema-usage"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.2使用sys模式</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以将</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式设置为默认模式，以便对其对象的引用不需要使用模式名称进行限定：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>USE sys;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库改变</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM version;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys_version | </font><font style="vertical-align: inherit;">mysql_version |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1.5.0 | </font><font style="vertical-align: inherit;">5.7.9-debug-log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      （该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version" title="26.4.3.47版本视图"><code class="literal">version</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图显示了
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构和MySQL服务器版本。）
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要访问</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式对象，而不同的模式是默认模式（或者只是显式的），请使用模式名称限定对象引用：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM sys.version;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys_version | </font><font style="vertical-align: inherit;">mysql_version |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1.5.0 | </font><font style="vertical-align: inherit;">5.7.9-debug-log |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ----------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本章中的示例通常假定
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为默认模式。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构包含许多以各种方式汇总性能模式表的视图。</font><font style="vertical-align: inherit;">这些视图中的大多数是成对出现的，这样一对中的一个成员与另一个成员具有相同的名称，并加上一个</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀。</font><font style="vertical-align: inherit;">例如，该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      视图总结了按主机分组的文件I / O，并显示了从皮秒转换为更具可读性的值（以单位表示）的延迟时间;
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM host_summary_by_file_io;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">ios | </font><font style="vertical-align: inherit;">io_latency |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">67570 | </font><font style="vertical-align: inherit;">5.38秒|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">背景| </font><font style="vertical-align: inherit;">3468 | </font><font style="vertical-align: inherit;">4.18 s |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">x$host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图总结了相同的数据，但显示未格式化的皮秒级延迟：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM x$host_summary_by_file_io;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">ios | </font><font style="vertical-align: inherit;">io_latency |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">67574 | </font><font style="vertical-align: inherit;">5380678125144 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">背景| </font><font style="vertical-align: inherit;">3474 | </font><font style="vertical-align: inherit;">4758696829416 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      没有</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀</font><font style="vertical-align: inherit;">的视图</font><font style="vertical-align: inherit;">旨在提供更易于用户阅读的输出。</font><font style="vertical-align: inherit;">带有</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以原始形式显示相同值</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">前缀</font><font style="vertical-align: inherit;">的视图</font><font style="vertical-align: inherit;">旨在更多地用于对数据执行自己的处理的其他工具。</font><font style="vertical-align: inherit;">有关非</font><font style="vertical-align: inherit;">视图</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图</font><font style="vertical-align: inherit;">之间差异的其他信息</font><font style="vertical-align: inherit;">，请参见
       </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-views" title="26.4.3 sys模式视图"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.3节“sys模式视图”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要检查</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式对象定义，请使用适当的
       </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show" title="13.7.5 SHOW语法"><code class="literal">SHOW</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句或
       </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html" title="第24章INFORMATION_SCHEMA表"><code class="literal">INFORMATION_SCHEMA</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询。</font><font style="vertical-align: inherit;">例如，要检查</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-session" title="26.4.3.33会话和x $会话视图"><code class="literal">session</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图和
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-bytes" title="26.4.5.3 format_bytes（）函数"><code class="literal">format_bytes()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">的定义
       </font><font style="vertical-align: inherit;">，请使用以下语句：
    </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SHOW CREATE VIEW session;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SHOW CREATE FUNCTION format_bytes;</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      但是，这些语句以相对无格式的形式显示定义。</font><font style="vertical-align: inherit;">要查看具有更多可读格式的对象定义，请访问</font><font style="vertical-align: inherit;">架构开发网站
       </font><a class="ulink" href="https://github.com/mysql/mysql-sys" target="_top"><font style="vertical-align: inherit;">https://github.com/mysql/mysql-sys中</font></a></font><code class="filename">.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">的单个</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">。
    </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"></font><a class="ulink" href="https://github.com/mysql/mysql-sys" target="_top"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqldump" title="4.5.4 mysqldump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysqlpump" title="4.5.6 mysqlpump  - 数据库备份程序"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlpump</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      都</font><font style="vertical-align: inherit;">不会
       </font><font style="vertical-align: inherit;">转储
       </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式。</font><font style="vertical-align: inherit;">要生成转储文件，请</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用以下任一命令在命令行上明确</font><font style="vertical-align: inherit;">命名</font><font style="vertical-align: inherit;">模式：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqldump  - 数据库 - 例程sys&gt; sys_dump.sql</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlpump sys&gt; sys_dump.sql</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要从转储文件重新安装模式，请使用以下命令：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql &lt;sys_dump.sql
</font></font></pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="sys-schema-progress-reporting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.3 sys模式进度报告</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      从MySQL 5.7.9开始，以下</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      模式视图为长时间运行的事务提供进度报告：
    </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PROCESSLIST</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会议</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
X $ PROCESSLIST</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
X $会议</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      假设所需的工具和消费者已启用，</font></font><code class="literal">progress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些视图</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列将显示支持进度报告的阶段完成的工作的百分比。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      阶段进度报告要求
       </font></font><code class="literal">events_stages_current</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用消费者，以及需要进度信息的工具。</font><font style="vertical-align: inherit;">这些阶段的工具目前支持进度报告：
    </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stage / sql /复制到tmp表</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
舞台/ innodb / alter table（结束）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
舞台/ innodb / alter table（同花顺）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
舞台/ innodb / alter table（插入）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stage / innodb / alter table（日志应用索引）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stage / innodb / alter table（日志应用表）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stage / innodb / alter table（合并排序）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stage / innodb / alter table（读PK和内部排序）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stage / innodb /缓冲池负载</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      对于不支持估计和完成的工作报告的阶段，或者未启用所需的工具或使用者的情况，该</font></font><code class="literal">progress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列是
       </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="sys-schema-reference"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4 sys模式对象参考</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-object-index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.1 sys模式对象索引</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2 sys模式表和触发器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-views"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3 sys模式视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-procedures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4 sys模式存储过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5 sys模式存储函数</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式包括表和触发器，视图以及存储过程和函数。</font><font style="vertical-align: inherit;">以下各节提供了每个这些对象的详细信息。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="sys-schema-object-index"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.1 sys模式对象索引</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        下表列出了</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        架构对象并提供了每个架构对象的简短描述。
</font></font></p>
<div class="table">
<a name="sys-schema-tables-table"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表26.1 sys模式表和触发器</font></font></b></p>
<div class="table-contents">
<table summary="Tables and triggers used in the sys schema implementation"><colgroup><col width="60%"><col width="40%"></colgroup><thead><tr>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或触发器名称</font></font></th>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
          </tr></thead><tbody><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a></td>
            <td align="left"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 模式配置选项</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-insert-set-user" title="26.4.2.2 sys_config_insert_set_user触发器"><code class="literal">sys_config_insert_set_user</code></a></td>
            <td align="left"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 插入触发器</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-update-set-user" title="26.4.2.3 sys_config_update_set_user触发器"><code class="literal">sys_config_update_set_user</code></a></td>
            <td align="left"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 更新触发器</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="sys-schema-views-table"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表26.2 sys模式视图</font></font></b></p>
<div class="table-contents">
<table summary="Views used in the sys schema implementation"><colgroup><col width="60%"><col width="40%"></colgroup><thead><tr>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看名称</font></font></th>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
          </tr></thead><tbody><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary" title="26.4.3.1 host_summary和x $ host_summary Views"><code class="literal">host_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary" title="26.4.3.1 host_summary和x $ host_summary Views"><code class="literal">x$host_summary</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句活动，文件I / O和连接，按主机分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">x$host_summary_by_file_io</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件I / O，按主机分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io-type" title="26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图"><code class="literal">host_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io-type" title="26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图"><code class="literal">x$host_summary_by_file_io_type</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件I / O，按主机和事件类型分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-stages" title="26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图"><code class="literal">host_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-stages" title="26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图"><code class="literal">x$host_summary_by_stages</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">陈述阶段，按主持人分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-latency" title="26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图"><code class="literal">host_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-latency" title="26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图"><code class="literal">x$host_summary_by_statement_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报表统计信息，按主机分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-type" title="26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图"><code class="literal">host_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-type" title="26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图"><code class="literal">x$host_summary_by_statement_type</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行的语句，按主机和语句分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-schema" title="26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图"><code class="literal">innodb_buffer_stats_by_schema</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-schema" title="26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图"><code class="literal">x$innodb_buffer_stats_by_schema</code></a></td>
            <td align="left"><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 缓冲区信息，按模式分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-table" title="26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图"><code class="literal">innodb_buffer_stats_by_table</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-table" title="26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图"><code class="literal">x$innodb_buffer_stats_by_table</code></a></td>
            <td align="left"><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 缓冲区信息，按模式和表分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-lock-waits" title="26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图"><code class="literal">innodb_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-lock-waits" title="26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图"><code class="literal">x$innodb_lock_waits</code></a></td>
            <td align="left"><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 锁定信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-by-thread-by-latency" title="26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图"><code class="literal">io_by_thread_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-by-thread-by-latency" title="26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图"><code class="literal">x$io_by_thread_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I / O消费者，按线程分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-bytes" title="26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图"><code class="literal">io_global_by_file_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-bytes" title="26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图"><code class="literal">x$io_global_by_file_by_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全局I / O使用者，按文件和字节分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-latency" title="26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图"><code class="literal">io_global_by_file_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-latency" title="26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图"><code class="literal">x$io_global_by_file_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球I / O消费者，按文件和延迟分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-bytes" title="26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图"><code class="literal">io_global_by_wait_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-bytes" title="26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图"><code class="literal">x$io_global_by_wait_by_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球I / O使用者，按字节分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-latency" title="26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图"><code class="literal">io_global_by_wait_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-latency" title="26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图"><code class="literal">x$io_global_by_wait_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球I / O消费者，按延迟分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-latest-file-io" title="26.4.3.15 latest_file_io和x $ latest_file_io Views"><code class="literal">latest_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-latest-file-io" title="26.4.3.15 latest_file_io和x $ latest_file_io Views"><code class="literal">x$latest_file_io</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近的I / O，按文件和线程分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-host-by-current-bytes" title="26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图"><code class="literal">memory_by_host_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-host-by-current-bytes" title="26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图"><code class="literal">x$memory_by_host_by_current_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用，按主机分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-thread-by-current-bytes" title="26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图"><code class="literal">memory_by_thread_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-thread-by-current-bytes" title="26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图"><code class="literal">x$memory_by_thread_by_current_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用，按线程分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-user-by-current-bytes" title="26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图"><code class="literal">memory_by_user_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-user-by-current-bytes" title="26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图"><code class="literal">x$memory_by_user_by_current_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用，按用户分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-by-current-bytes" title="26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图"><code class="literal">memory_global_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-by-current-bytes" title="26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图"><code class="literal">x$memory_global_by_current_bytes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用，按分配类型分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-total" title="26.4.3.20 memory_global_total和x $ memory_global_total视图"><code class="literal">memory_global_total</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-total" title="26.4.3.20 memory_global_total和x $ memory_global_total视图"><code class="literal">x$memory_global_total</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用总量</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器指标</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">processlist</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">x$processlist</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流程表信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-check-lost-instrumentation" title="26.4.3.23 ps_check_lost_instrumentation视图"><code class="literal">ps_check_lost_instrumentation</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪器丢失的变量</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-auto-increment-columns" title="26.4.3.24 schema_auto_increment_columns视图"><code class="literal">schema_auto_increment_columns</code></a></td>
            <td align="left"><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 列信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-index-statistics" title="26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图"><code class="literal">schema_index_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-index-statistics" title="26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图"><code class="literal">x$schema_index_statistics</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指数统计</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-object-overview" title="26.4.3.26 schema_object_overview视图"><code class="literal">schema_object_overview</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个模式中的对象类型</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">schema_redundant_indexes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重复或多余的索引</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-lock-waits" title="26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图"><code class="literal">schema_table_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-lock-waits" title="26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图"><code class="literal">x$schema_table_lock_waits</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话等待元数据锁定</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics" title="26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图"><code class="literal">schema_table_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics" title="26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图"><code class="literal">x$schema_table_statistics</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表统计</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics-with-buffer" title="26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图"><code class="literal">schema_table_statistics_with_buffer</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics-with-buffer" title="26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图"><code class="literal">x$schema_table_statistics_with_buffer</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表统计信息，包括</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲池统计信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables-with-full-table-scans" title="26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图"><code class="literal">schema_tables_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables-with-full-table-scans" title="26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图"><code class="literal">x$schema_tables_with_full_table_scans</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在使用完整扫描访问表</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-unused-indexes" title="26.4.3.32 schema_unused_indexes视图"><code class="literal">schema_unused_indexes</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引不在使用中</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-session" title="26.4.3.33会话和x $会话视图"><code class="literal">session</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-session" title="26.4.3.33会话和x $会话视图"><code class="literal">x$session</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户会话的处理列表信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-session-ssl-status" title="26.4.3.34 session_ssl_status视图"><code class="literal">session_ssl_status</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接SSL信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis" title="26.4.3.35 statement_analysis和x $ statement_analysis Views"><code class="literal">statement_analysis</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis" title="26.4.3.35 statement_analysis和x $ statement_analysis Views"><code class="literal">x$statement_analysis</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明汇总统计</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings" title="26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views"><code class="literal">statements_with_errors_or_warnings</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings" title="26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views"><code class="literal">x$statements_with_errors_or_warnings</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生错误或警告的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans" title="26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views"><code class="literal">statements_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans" title="26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views"><code class="literal">x$statements_with_full_table_scans</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已完成全表扫描的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">statements_with_runtimes_in_95th_percentile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">x$statements_with_runtimes_in_95th_percentile</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均运行时间最高的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting" title="26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views"><code class="literal">statements_with_sorting</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting" title="26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views"><code class="literal">x$statements_with_sorting</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行排序的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables" title="26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views"><code class="literal">statements_with_temp_tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables" title="26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views"><code class="literal">x$statements_with_temp_tables</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用临时表的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary" title="26.4.3.41 user_summary和x $ user_summary Views"><code class="literal">user_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary" title="26.4.3.41 user_summary和x $ user_summary Views"><code class="literal">x$user_summary</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户声明和连接活动</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io" title="26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views"><code class="literal">user_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io" title="26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views"><code class="literal">x$user_summary_by_file_io</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件I / O，按用户分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io-type" title="26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图"><code class="literal">user_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io-type" title="26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图"><code class="literal">x$user_summary_by_file_io_type</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件I / O，按用户和事件分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-stages" title="26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图"><code class="literal">user_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-stages" title="26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图"><code class="literal">x$user_summary_by_stages</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">舞台活动，按用户分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-latency" title="26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图"><code class="literal">user_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-latency" title="26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图"><code class="literal">x$user_summary_by_statement_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报表统计数据，按用户分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-type" title="26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图"><code class="literal">user_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-type" title="26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图"><code class="literal">x$user_summary_by_statement_type</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行的语句，按用户和语句分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version" title="26.4.3.47版本视图"><code class="literal">version</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式和MySQL服务器版本</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-avg-latency" title="26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图"><code class="literal">wait_classes_global_by_avg_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-avg-latency" title="26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图"><code class="literal">x$wait_classes_global_by_avg_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等待课程平均延迟，按事件类别分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-latency" title="26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views"><code class="literal">wait_classes_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-latency" title="26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views"><code class="literal">x$wait_classes_global_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等待课程总延迟，按事件类别分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-host-by-latency" title="26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views"><code class="literal">waits_by_host_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-host-by-latency" title="26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views"><code class="literal">x$waits_by_host_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等待事件，按主机和事件分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-user-by-latency" title="26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图"><code class="literal">waits_by_user_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-user-by-latency" title="26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图"><code class="literal">x$waits_by_user_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等待事件，按用户和事件分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-global-by-latency" title="26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views"><code class="literal">waits_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-global-by-latency" title="26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views"><code class="literal">x$waits_global_by_latency</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等待事件，按事件分组</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">x$ps_digest_95th_percentile_by_avg_us</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95％百分位视图的助手视图</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">x$ps_digest_avg_latency_distribution</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95％百分位视图的助手视图</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics" title="26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图"><code class="literal">x$ps_schema_table_statistics_io</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表统计视图的助手视图</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">x$schema_flattened_keys</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助视图 </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">schema_redundant_indexes</code></a></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="sys-schema-procedures-table"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表26.3 sys模式存储过程</font></font></b></p>
<div class="table-contents">
<table summary="Stored procedures used in the sys schema implementation"><colgroup><col width="60%"><col width="40%"></colgroup><thead><tr>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序名称</font></font></th>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
          </tr></thead><tbody><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-create-synonym-db" title="26.4.4.1 create_synonym_db（）过程"><code class="literal">create_synonym_db()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为模式创建同义词</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集系统诊断信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-execute-prepared-stmt" title="26.4.4.3 execute_prepared_stmt（）过程"><code class="literal">execute_prepared_stmt()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行准备好的语句</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-background-threads" title="26.4.4.4 ps_setup_disable_background_threads（）过程"><code class="literal">ps_setup_disable_background_threads()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用后台线程检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-consumer" title="26.4.4.5 ps_setup_disable_consumer（）过程"><code class="literal">ps_setup_disable_consumer()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用消费者</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-instrument" title="26.4.4.6 ps_setup_disable_instrument（）过程"><code class="literal">ps_setup_disable_instrument()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用仪器</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-thread" title="26.4.4.7 ps_setup_disable_thread（）过程"><code class="literal">ps_setup_disable_thread()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用线程的检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-background-threads" title="26.4.4.8 ps_setup_enable_background_threads（）过程"><code class="literal">ps_setup_enable_background_threads()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用后台线程检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-consumer" title="26.4.4.9 ps_setup_enable_consumer（）过程"><code class="literal">ps_setup_enable_consumer()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用消费者</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-instrument" title="26.4.4.10 ps_setup_enable_instrument（）过程"><code class="literal">ps_setup_enable_instrument()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用仪器</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-thread" title="26.4.4.11 ps_setup_enable_thread（）过程"><code class="literal">ps_setup_enable_thread()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为线程启用检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reload-saved" title="26.4.4.12 ps_setup_reload_saved（）过程"><code class="literal">ps_setup_reload_saved()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新加载保存的性能模式配置</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reset-to-default" title="26.4.4.13 ps_setup_reset_to_default（）过程"><code class="literal">ps_setup_reset_to_default()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重置已保存的性能架构配置</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存性能架构配置</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled" title="26.4.4.15 ps_setup_show_disabled（）过程"><code class="literal">ps_setup_show_disabled()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示禁用的性能架构配置</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled-consumers" title="26.4.4.16 ps_setup_show_disabled_consumers（）过程"><code class="literal">ps_setup_show_disabled_consumers()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示禁用的性能架构使用者</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled-instruments" title="26.4.4.17 ps_setup_show_disabled_instruments（）过程"><code class="literal">ps_setup_show_disabled_instruments()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示禁用的性能模式工具</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled" title="26.4.4.18 ps_setup_show_enabled（）过程"><code class="literal">ps_setup_show_enabled()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示已启用的性能架构配置</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled-consumers" title="26.4.4.19 ps_setup_show_enabled_consumers（）过程"><code class="literal">ps_setup_show_enabled_consumers()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示启用的性能架构使用者</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled-instruments" title="26.4.4.20 ps_setup_show_enabled_instruments（）过程"><code class="literal">ps_setup_show_enabled_instruments()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示启用的性能模式工具</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-statement-avg-latency-histogram" title="26.4.4.21 ps_statement_avg_latency_histogram（）过程"><code class="literal">ps_statement_avg_latency_histogram()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示语句延迟直方图</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-trace-statement-digest" title="26.4.4.22 ps_trace_statement_digest（）过程"><code class="literal">ps_trace_statement_digest()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为摘要跟踪性能模式检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-trace-thread" title="26.4.4.23 ps_trace_thread（）过程"><code class="literal">ps_trace_thread()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程的转储性能模式数据</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-truncate-all-tables" title="26.4.4.24 ps_truncate_all_tables（）过程"><code class="literal">ps_truncate_all_tables()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">截断性能架构摘要表</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-performance-analyzer" title="26.4.4.25 statement_performance_analyzer（）过程"><code class="literal">statement_performance_analyzer()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务器上运行的语句报告</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-table-exists" title="26.4.4.26 table_exists（）过程"><code class="literal">table_exists()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否存在表格</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="sys-schema-functions-table"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表26.4 sys模式存储函数</font></font></b></p>
<div class="table-contents">
<table summary="Stored functions used in the sys schema implementation"><colgroup><col width="60%"><col width="40%"></colgroup><thead><tr>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数名称</font></font></th>
            <th align="center" scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
          </tr></thead><tbody><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-extract-schema-from-file-name" title="26.4.5.1 extract_schema_from_file_name（）函数"><code class="literal">extract_schema_from_file_name()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从文件路径名中提取模式名称</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-extract-table-from-file-name" title="26.4.5.2 extract_table_from_file_name（）函数"><code class="literal">extract_table_from_file_name()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从文件路径名中提取表名</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-bytes" title="26.4.5.3 format_bytes（）函数"><code class="literal">format_bytes()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将字节值转换为单位值</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-path" title="26.4.5.4 format_path（）函数"><code class="literal">format_path()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用符号值替换路径名中的数据和临时文件目录</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将long语句截断为固定长度</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-time" title="26.4.5.6 format_time（）函数"><code class="literal">format_time()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将皮秒值转换为单位值</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-list-add" title="26.4.5.7 list_add（）函数"><code class="literal">list_add()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将项目添加到列表</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-list-drop" title="26.4.5.8 list_drop（）函数"><code class="literal">list_drop()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从列表中删除项目</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-account-enabled" title="26.4.5.9 ps_is_account_enabled（）函数"><code class="literal">ps_is_account_enabled()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查是否启用帐户检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-consumer-enabled" title="26.4.5.10 ps_is_consumer_enabled（）函数"><code class="literal">ps_is_consumer_enabled()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查消费者是否已启用</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-instrument-default-enabled" title="26.4.5.11 ps_is_instrument_default_enabled（）函数"><code class="literal">ps_is_instrument_default_enabled()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查仪器是否启用</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-instrument-default-timed" title="26.4.5.12 ps_is_instrument_default_timed（）函数"><code class="literal">ps_is_instrument_default_timed()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查仪器是否计时</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-thread-instrumented" title="26.4.5.13 ps_is_thread_instrumented（）函数"><code class="literal">ps_is_thread_instrumented()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查线程是否被检测</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-account" title="26.4.5.14 ps_thread_account（）函数"><code class="literal">ps_thread_account()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回线程ID的帐户</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-id" title="26.4.5.15 ps_thread_id（）函数"><code class="literal">ps_thread_id()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回连接ID的线程ID</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-stack" title="26.4.5.16 ps_thread_stack（）函数"><code class="literal">ps_thread_stack()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回线程ID的事件信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-trx-info" title="26.4.5.17 ps_thread_trx_info（）函数"><code class="literal">ps_thread_trx_info()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回线程标识的事务信息</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-quote-identifier" title="26.4.5.18 quote_identifier（）函数"><code class="literal">quote_identifier()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将字符串作为引用标识符返回</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-get-config" title="26.4.5.19 sys_get_config（）函数"><code class="literal">sys_get_config()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式配置选项</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version-major" title="26.4.5.20 version_major（）函数"><code class="literal">version_major()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器主要版本号</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version-minor" title="26.4.5.21 version_minor（）函数"><code class="literal">version_minor()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器次要版本号</font></font></td>
          </tr><tr>
            <td align="left" scope="row"><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version-patch" title="26.4.5.22 version_patch（）函数"><code class="literal">version_patch()</code></a></td>
            <td align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL服务器补丁发布版本号</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="sys-schema-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2 sys模式表和触发器</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.1 sys_config表</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-insert-set-user"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.2 sys_config_insert_set_user触发器</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-update-set-user"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.3 sys_config_update_set_user触发器</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分描述
         </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式表和触发器。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-sys-config"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.1 sys_config表</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965858160"></a><a class="indexterm" name="idm140527965856672"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该表包含</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式配置选项，每个选项一行。</font><font style="vertical-align: inherit;">通过更新此表进行的配置更改在客户端会话和服务器重新启动之间持续存在。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表具有以下列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">variable</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置选项名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">value</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置选项值。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">set_time</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该行最近修改的时间戳。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">set_by</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对该行进行了最新修改的帐户。</font><font style="vertical-align: inherit;">该值是</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装模式</font><font style="vertical-align: inherit;">以来该行尚未更改
               </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          作为一种效率度量，可以最大限度地减少</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
           </font><font style="vertical-align: inherit;">中直接读取的次数</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用此表中值的模式函数将检查具有相应名称的用户定义变量，该用户定义变量是具有相同名称的用户定义变量加上</font></font><code class="literal">@sys.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀。</font><font style="vertical-align: inherit;">（例如，与该</font></font><code class="literal">diagnostics.include_raw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">相对应的变量
           </font><font style="vertical-align: inherit;">是
           </font></font><code class="literal">@sys.diagnostics.include_raw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。）如果用户定义的变量存在于当前会话中并且不是</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该函数优先使用它的值而不是
          </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表。</font><font style="vertical-align: inherit;">否则，该函数读取并使用表中的值。</font><font style="vertical-align: inherit;">在后一种情况下，调用函数通常还会将相应的用户定义变量设置为表值，以便在同一个会话中对配置选项的进一步引用使用该变量并且不需要再次读取该表。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，该</font></font><code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          选项控制</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">返回的语句的最大长度</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值为64.要将当前会话的值临时更改为32，请设置相应的
           </font></font><code class="literal">@sys.statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义变量：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET @stmt = 'SELECT variable, value, set_time, set_by FROM sys_config';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT format_statement(@stmt);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_statement（@stmt）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SELECT变量，值，set_time，set_by FROM sys_config |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>SET @sys.statement_truncate_len = 32;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT format_statement(@stmt);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_statement（@stmt）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SELECT变量... ROM sys_config |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话内的</font><font style="vertical-align: inherit;">
          后续调用
           </font><font style="vertical-align: inherit;">继续使用用户定义的变量值（32），而不是存储在表（64）中的值。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要停止使用用户定义的变量并恢复使用表中的值，请将变量设置为
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您的会话中：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET @sys.statement_truncate_len = NULL;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT format_statement(@stmt);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_statement（@stmt）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SELECT变量，值，set_time，set_by FROM sys_config |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          或者，结束当前会话（导致用户定义变量不再存在）并开始新会话。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          刚才在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格中的</font><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">和用户定义的变量</font><font style="vertical-align: inherit;">之间描述的传统关系</font><font style="vertical-align: inherit;">可用于进行临时配置更改，这些更改在会话结束时结束。</font><font style="vertical-align: inherit;">但是，如果您设置了用户定义的变量，然后在同一个会话中更改相应的表值，则只要用户定义的变量存在非</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">，则该会话中将不会使用更改后的表</font><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">（更改后的表值
           </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于没有指定用户定义变量的其他会话。）
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下列表描述了</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font><font style="vertical-align: inherit;">中的选项
           </font><font style="vertical-align: inherit;">和相应的用户定义变量：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">diagnostics.allow_i_s_tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.diagnostics.allow_i_s_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果此选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则允许</font><font style="vertical-align: inherit;">该
               </font><font style="vertical-align: inherit;">过程在表上执行表扫描
               </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#tables-table" title="24.24 INFORMATION_SCHEMA表格表"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              。</font><font style="vertical-align: inherit;">如果有许多表格，这可能很昂贵。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该选项已添加到MySQL 5.7.9中。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">diagnostics.include_raw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.diagnostics.include_raw</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              如果此选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该
               </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程包含查询</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图</font><font style="vertical-align: inherit;">的原始输出
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认是
               </font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该选项已添加到MySQL 5.7.9中。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ps_thread_trx_info.max_length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.ps_thread_trx_info.max_length</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-trx-info" title="26.4.5.17 ps_thread_trx_info（）函数"><code class="literal">ps_thread_trx_info()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              函数</font><font style="vertical-align: inherit;">生成的JSON输出的最大长度
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值是65535。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该选项已添加到MySQL 5.7.9中。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.statement_performance_analyzer.limit</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于没有内置限制的视图返回的最大行数。</font><font style="vertical-align: inherit;">（例如，
               </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">statements_with_runtimes_in_95th_percentile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              视图具有内置限制，因为它只返回平均执行时间在第95百分位的语句。）缺省值为100。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该选项已添加到MySQL 5.7.9中。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_performance_analyzer.view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.statement_performance_analyzer.view</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-performance-analyzer" title="26.4.4.25 statement_performance_analyzer（）过程"><code class="literal">statement_performance_analyzer()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              过程</font><font style="vertical-align: inherit;">使用的自定义查询或视图
               </font><font style="vertical-align: inherit;">（该过程本身将调用该
               </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程）。</font><font style="vertical-align: inherit;">如果选项值包含空格，则将其解释为查询。</font><font style="vertical-align: inherit;">否则，它必须是查询性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表</font><font style="vertical-align: inherit;">的现有视图的名称
               </font><font style="vertical-align: inherit;">。</font></font><code class="literal">LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置选项大于0 </font><font style="vertical-align: inherit;">，则查询或视图定义中</font><font style="vertical-align: inherit;">不能有任何</font><font style="vertical-align: inherit;">子句
               </font><font style="vertical-align: inherit;">。缺省值是
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（没有定义自定义视图）。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该选项已添加到MySQL 5.7.9中。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
              </font></font><code class="literal">@sys.statement_truncate_len</code>
            </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">
              返回的语句的最大长度
               </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">更长的语句被截断到这个长度。</font><font style="vertical-align: inherit;">默认值是64。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          其他选项可以添加到
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格中。</font><font style="vertical-align: inherit;">例如，</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-execute-prepared-stmt" title="26.4.4.3 execute_prepared_stmt（）过程"><code class="literal">execute_prepared_stmt()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          程序使用</font></font><code class="literal">debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果它存在，但此选项不是的部件选项
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为调试输出通常只是暂时启用，通过将相应的默认表</font></font><code class="literal">@sys.debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          的用户定义的变量。</font><font style="vertical-align: inherit;">要启用调试输出而不必在单个会话中设置该变量，请将该选项添加到表中：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>INSERT INTO sys_config (variable, value) VALUES('debug', 'ON');</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要更改表格中的调试设置，请执行以下两项操作。</font><font style="vertical-align: inherit;">首先，修改表格本身的值：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>UPDATE sys_config SET value = 'OFF' WHERE variable = 'debug';</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          其次，为了确保当前会话中的过程调用使用表中已更改的值，请将相应的用户定义变量设置为
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
        </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SET @sys.debug = NULL;</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-sys-config-insert-set-user"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.2 sys_config_insert_set_user触发器</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          通过</font></font><code class="literal">INSERT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句</font><font style="vertical-align: inherit;">添加到</font><font style="vertical-align: inherit;">表中的</font><font style="vertical-align: inherit;">行</font><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-insert-set-user" title="26.4.2.2 sys_config_insert_set_user触发器"><code class="literal">sys_config_insert_set_user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          触发器将</font></font><code class="literal">set_by</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列设置为当前用户。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-sys-config-update-set-user"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.2.3 sys_config_update_set_user触发器</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-update-set-user" title="26.4.2.3 sys_config_update_set_user触发器"><code class="literal">sys_config_update_set_user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          用于触发</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表类似于
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config-insert-set-user" title="26.4.2.2 sys_config_insert_set_user触发器"><code class="literal">sys_config_insert_set_user</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          触发，但</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#update" title="13.2.11更新语法"><code class="literal">UPDATE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          语句。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="sys-schema-views"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3 sys模式视图</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.1 host_summary和x $ host_summary Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io-type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-stages"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-schema"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-lock-waits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-io-by-thread-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-latest-file-io"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.15 latest_file_io和x $ latest_file_io Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-host-by-current-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-thread-by-current-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-user-by-current-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-by-current-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-total"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.20 memory_global_total和x $ memory_global_total视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.21度量视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.22进程列表和x $ processlist视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-check-lost-instrumentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.23 ps_check_lost_instrumentation视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-auto-increment-columns"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.24 schema_auto_increment_columns视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-index-statistics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-object-overview"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.26 schema_object_overview视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-lock-waits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics-with-buffer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables-with-full-table-scans"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-unused-indexes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.32 schema_unused_indexes视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-session"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.33会话和x $会话视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-session-ssl-status"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.34 session_ssl_status视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.35 statement_analysis和x $ statement_analysis Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.41 user_summary和x $ user_summary Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io-type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-stages"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-version"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.47版本视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-avg-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-host-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-user-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-global-by-latency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分描述
         </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式视图。
      </font></font></p><a class="indexterm" name="idm140527965746080"></a><a class="indexterm" name="idm140527965744592"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构包含许多以各种方式汇总性能模式表的视图。</font><font style="vertical-align: inherit;">这些视图中的大多数是成对出现的，这样一对中的一个成员与另一个成员具有相同的名称，并加上一个</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        前缀。</font><font style="vertical-align: inherit;">例如，该
         </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图总结了按主机分组的文件I / O，并显示了从皮秒转换为更具可读性的值（以单位表示）的延迟时间;
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM host_summary_by_file_io;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">ios | </font><font style="vertical-align: inherit;">io_latency |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">67570 | </font><font style="vertical-align: inherit;">5.38秒|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">背景| </font><font style="vertical-align: inherit;">3468 | </font><font style="vertical-align: inherit;">4.18 s |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + ------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">x$host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图总结了相同的数据，但显示未格式化的皮秒级延迟：
      </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT * FROM x$host_summary_by_file_io;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">主机| </font><font style="vertical-align: inherit;">ios | </font><font style="vertical-align: inherit;">io_latency |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">localhost | </font><font style="vertical-align: inherit;">67574 | </font><font style="vertical-align: inherit;">5380678125144 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">背景| </font><font style="vertical-align: inherit;">3474 | </font><font style="vertical-align: inherit;">4758696829416 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ------- + -------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀</font><font style="vertical-align: inherit;">的视图</font><font style="vertical-align: inherit;">旨在提供更易于阅读和更易于阅读的输出。</font><font style="vertical-align: inherit;">带有</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以原始形式显示相同值</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">前缀</font><font style="vertical-align: inherit;">的视图</font><font style="vertical-align: inherit;">旨在更多地用于对数据执行自己的处理的其他工具。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        没有</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀的</font></font><code class="literal">x$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图在这些方面</font><font style="vertical-align: inherit;">与相应的</font><font style="vertical-align: inherit;">视图不同：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            字节值使用大小单位格式化
             </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-bytes" title="26.4.5.3 format_bytes（）函数"><code class="literal">format_bytes()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            时间值使用时间单位格式化
             </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-time" title="26.4.5.6 format_time（）函数"><code class="literal">format_time()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用SQL语句截断到最大显示宽度</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            路径名称使用缩短
             </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-path" title="26.4.5.4 format_path（）函数"><code class="literal">format_path()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.1 host_summary和x $ host_summary Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965720368"></a><a class="indexterm" name="idm140527965718912"></a><a class="indexterm" name="idm140527965717424"></a><a class="indexterm" name="idm140527965715936"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按主机分组的语句活动，文件I / O和连接。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary" title="26.4.3.1 host_summary和x $ host_summary Views"><code class="literal">host_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary" title="26.4.3.1 host_summary和x $ host_summary Views"><code class="literal">x$host_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statements</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的语句总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的定时语句总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的每个定时语句的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的表扫描总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">file_ios</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的文件I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">file_io_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的定时文件I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_connections</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的当前连接数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_connections</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的总连接数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">unique_users</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的不同用户数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_memory</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前为主机分配的内存量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_memory_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机分配的内存总量。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary-by-file-io"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965683744"></a><a class="indexterm" name="idm140527965682288"></a><a class="indexterm" name="idm140527965680784"></a><a class="indexterm" name="idm140527965679280"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了文件I / O，按主机分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总文件I / O延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io" title="26.4.3.2 host_summary_by_file_io和x $ host_summary_by_file_io Views"><code class="literal">x$host_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ios</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的文件I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的定时文件I / O事件的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary-by-file-io-type"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965664400"></a><a class="indexterm" name="idm140527965662944"></a><a class="indexterm" name="idm140527965661440"></a><a class="indexterm" name="idm140527965659936"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了文件I / O，按主机和事件类型分组。</font><font style="vertical-align: inherit;">默认情况下，行按主机排序并降低总I / O延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io-type" title="26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图"><code class="literal">host_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-file-io-type" title="26.4.3.3 host_summary_by_file_io_type和x $ host_summary_by_file_io_type视图"><code class="literal">x$host_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件I / O事件名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机文件I / O事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机文件I / O事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机文件I / O事件定时发生的最长单一等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary-by-stages"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965641008"></a><a class="indexterm" name="idm140527965639552"></a><a class="indexterm" name="idm140527965638048"></a><a class="indexterm" name="idm140527965636544"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了由主持人分组的陈述阶段。</font><font style="vertical-align: inherit;">默认情况下，行按主机排序并降低总延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-stages" title="26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图"><code class="literal">host_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-stages" title="26.4.3.4 host_summary_by_stages和x $ host_summary_by_stages视图"><code class="literal">x$host_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              舞台事件名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主持人舞台事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机阶段事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机阶段事件每次发生的平均等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary-by-statement-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965617648"></a><a class="indexterm" name="idm140527965616192"></a><a class="indexterm" name="idm140527965614688"></a><a class="indexterm" name="idm140527965613168"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按主机分组的总体声明统计数据。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-latency" title="26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图"><code class="literal">host_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-latency" title="26.4.3.5 host_summary_by_statement_latency和x $ host_summary_by_statement_latency视图"><code class="literal">x$host_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的语句总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的定时语句总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的定时语句的最长单个等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待主机的定时语句锁定的总时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机语句返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过主机的语句从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受主机语句影响的行总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机报表的全表扫描总数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-host-summary-by-statement-type"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965586432"></a><a class="indexterm" name="idm140527965584976"></a><a class="indexterm" name="idm140527965583472"></a><a class="indexterm" name="idm140527965581968"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了关于执行的语句的信息，按主机和语句类型分组。</font><font style="vertical-align: inherit;">默认情况下，行按主机排序并降低总延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-type" title="26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图"><code class="literal">host_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-host-summary-by-statement-type" title="26.4.3.6 host_summary_by_statement_type和x $ host_summary_by_statement_type视图"><code class="literal">x$host_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句事件名称的最后组件。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机语句事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机语句事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机语句事件定时发生的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过定时发生主机语句事件来等待锁定的总时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的语句事件发生时返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由主机的语句事件发生而从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受主机语句事件影响的行总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              发生主机语句事件的全表扫描总数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-innodb-buffer-stats-by-schema"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965553072"></a><a class="indexterm" name="idm140527965551616"></a><a class="indexterm" name="idm140527965550112"></a><a class="indexterm" name="idm140527965548608"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了</font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-buffer-page-table" title="24.31.1 INFORMATION_SCHEMA INNODB_BUFFER_PAGE表"><code class="literal">INNODB_BUFFER_PAGE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">的信息
           </font><font style="vertical-align: inherit;">，按模式分组。</font><font style="vertical-align: inherit;">默认情况下，行按缓冲区大小递减排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-schema" title="26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图"><code class="literal">innodb_buffer_stats_by_schema</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-schema" title="26.4.3.7 innodb_buffer_stats_by_schema和x $ innodb_buffer_stats_by_schema视图"><code class="literal">x$innodb_buffer_stats_by_schema</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">object_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该对象的模式名称，或者</font></font><code class="literal">InnoDB
              System</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表属于
               </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为模式分配的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">data</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为模式分配的数据字节总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为模式分配的总页数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages_hashed</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              分配给模式的散列页面的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages_old</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为模式分配的旧页面总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_cached</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              模式的缓存行总数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-innodb-buffer-stats-by-table"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965524832"></a><a class="indexterm" name="idm140527965523376"></a><a class="indexterm" name="idm140527965521872"></a><a class="indexterm" name="idm140527965520368"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了</font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-buffer-page-table" title="24.31.1 INFORMATION_SCHEMA INNODB_BUFFER_PAGE表"><code class="literal">INNODB_BUFFER_PAGE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">的信息
           </font><font style="vertical-align: inherit;">，按模式和表分组。</font><font style="vertical-align: inherit;">默认情况下，行按缓冲区大小递减排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-table" title="26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图"><code class="literal">innodb_buffer_stats_by_table</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-buffer-stats-by-table" title="26.4.3.8 innodb_buffer_stats_by_table和x $ innodb_buffer_stats_by_table视图"><code class="literal">x$innodb_buffer_stats_by_table</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">object_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该对象的模式名称，或者</font></font><code class="literal">InnoDB
              System</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表属于
               </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储引擎。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">object_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为表分配的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">data</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为表分配的数据字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为表格分配的总页数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages_hashed</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              分配给表的散列页数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pages_old</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              分配给表格的旧页面的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_cached</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的缓存行数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-innodb-lock-waits"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965494720"></a><a class="indexterm" name="idm140527965493264"></a><a class="indexterm" name="idm140527965491776"></a><a class="indexterm" name="idm140527965490272"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交易正在等待</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">锁。</font><font style="vertical-align: inherit;">默认情况下，行按降序锁定年龄排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-lock-waits" title="26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图"><code class="literal">innodb_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-innodb-lock-waits" title="26.4.3.9 innodb_lock_waits和x $ innodb_lock_waits视图"><code class="literal">x$innodb_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">wait_started</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              锁开始等待的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">wait_age</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              作为一个</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#time" title="11.3.2时间类型"><code class="literal">TIME</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">，锁已经等了多久
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">wait_age_secs</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在几秒钟内锁等待了多久。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">locked_table</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              锁定表的名称。</font><font style="vertical-align: inherit;">此列包含组合的模式/表名称值。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">locked_index</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              锁定索引的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">locked_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待锁的类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_trx_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待交易的ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_trx_started</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待交易开始的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_trx_age</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              作为</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#time" title="11.3.2时间类型"><code class="literal">TIME</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值</font><font style="vertical-align: inherit;">，等待交易等待多久
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_trx_rows_locked</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待事务锁定的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_trx_rows_modified</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待事务修改的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_pid</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待事务的进程列表ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              正在等待锁定的声明。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_lock_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待锁的ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_lock_mode</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待锁定的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_trx_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻止等待锁定的事务的ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_pid</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞事务的流程列表ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞事务正在执行的语句。</font><font style="vertical-align: inherit;">如果发布阻止查询的会话变为空闲，此字段将报告NULL。</font><font style="vertical-align: inherit;">有关更多信息，请参阅
               </font></font><a class="xref" href="/mysql-5.7-google-zh/innodb-storage-engine.html#innodb-information-schema-examples-null-blocking-query" title="在发布会变得空闲后识别阻塞查询"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在发布会话变为空闲后识别阻塞查询</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_lock_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻止等待锁的锁的ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_lock_mode</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              锁定等待锁定的锁定模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_trx_started</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻止事务开始的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_trx_age</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              作为一个</font></font><a class="link" href="/mysql-5.7-google-zh/data-types.html#time" title="11.3.2时间类型"><code class="literal">TIME</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">，阻塞事务执行了多长时间
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_trx_rows_locked</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞事务锁定的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_trx_rows_modified</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞事务修改的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sql_kill_blocking_query</code>
            </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#kill" title="13.7.6.4 KILL语法"><code class="literal">KILL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要执行</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">语句来终止阻塞语句。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sql_kill_blocking_connection</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#kill" title="13.7.6.4 KILL语法"><code class="literal">KILL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句执行终止正在运行的阻塞语句的会话。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-io-by-thread-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965424096"></a><a class="indexterm" name="idm140527965422640"></a><a class="indexterm" name="idm140527965421136"></a><a class="indexterm" name="idm140527965419632"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了I / O使用者显示等待I / O的时间，按线程分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总I / O延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-by-thread-by-latency" title="26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图"><code class="literal">io_by_thread_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-by-thread-by-latency" title="26.4.3.10 io_by_thread_by_latency和x $ io_by_thread_by_latency视图"><code class="literal">x$io_by_thread_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于前台线程，与线程关联的账户。</font><font style="vertical-align: inherit;">对于后台线程，线程名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程定时I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">min_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的定时I / O事件的最小单个等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的每个定时I / O事件的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的定时I / O事件的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">thread_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">processlist_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于前台线程，线程的进程列表ID。</font><font style="vertical-align: inherit;">对于后台线程，</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-io-global-by-file-by-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965396528"></a><a class="indexterm" name="idm140527965395072"></a><a class="indexterm" name="idm140527965393568"></a><a class="indexterm" name="idm140527965392064"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了全局I / O使用者显示按文件分组的I / O量。</font><font style="vertical-align: inherit;">默认情况下，行按降序总I / O（字节读取和写入）排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-bytes" title="26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图"><code class="literal">io_global_by_file_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-bytes" title="26.4.3.11 io_global_by_file_by_bytes和x $ io_global_by_file_by_bytes视图"><code class="literal">x$io_global_by_file_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">file</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件路径名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件的读取事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从文件中读取的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从文件中读取的每个字节的平均数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的写入事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_written</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入文件的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次写入文件的平均字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为文件读取和写入的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">write_pct</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入的I / O总字节的百分比。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-io-global-by-file-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965367856"></a><a class="indexterm" name="idm140527965366400"></a><a class="indexterm" name="idm140527965364896"></a><a class="indexterm" name="idm140527965363392"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了全局I / O使用者显示等待I / O的时间，按文件分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-latency" title="26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图"><code class="literal">io_global_by_file_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-file-by-latency" title="26.4.3.12 io_global_by_file_by_latency和x $ io_global_by_file_by_latency视图"><code class="literal">x$io_global_by_file_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">file</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件路径名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的定时I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的读取I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">read_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为文件定时读取I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的写入I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">write_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时写入文件的I / O事件总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_misc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该文件的其他I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">misc_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为文件定时的其他I / O事件的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-io-global-by-wait-by-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965339104"></a><a class="indexterm" name="idm140527965337648"></a><a class="indexterm" name="idm140527965336144"></a><a class="indexterm" name="idm140527965334640"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了全局I / O使用者显示I / O量和等待I / O的时间，并按事件分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总I / O（字节读取和写入）排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-bytes" title="26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图"><code class="literal">io_global_by_wait_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-bytes" title="26.4.3.13 io_global_by_wait_by_bytes和x $ io_global_by_wait_by_bytes视图"><code class="literal">x$io_global_by_wait_by_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件名称，
               </font></font><code class="literal">wait/io/file/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀已被除去。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">min_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件定时发生的最小单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生I / O事件的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件定时发生的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的读请求数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为I / O事件读取的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件每次读取的平均字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的写入请求数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_written</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为I / O事件写入的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_written</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件每次写入的平均字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_requested</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为I / O事件读取和写入的总字节数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-io-global-by-wait-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965301760"></a><a class="indexterm" name="idm140527965300304"></a><a class="indexterm" name="idm140527965298800"></a><a class="indexterm" name="idm140527965297296"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了全局I / O使用者显示I / O量和等待I / O的时间，并按事件分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-latency" title="26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图"><code class="literal">io_global_by_wait_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-io-global-by-wait-by-latency" title="26.4.3.14 io_global_by_wait_by_latency和x $ io_global_by_wait_by_latency视图"><code class="literal">x$io_global_by_wait_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件名称，
               </font></font><code class="literal">wait/io/file/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀已被除去。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生I / O事件的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件定时发生的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">read_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时读取I / O事件的等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">write_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的定时写入发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">misc_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时发生其他I / O事件的等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的读请求数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为I / O事件读取的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件每次读取的平均字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">count_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件的写入请求数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_written</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为I / O事件写入的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_written</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              I / O事件每次写入的平均字节数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-latest-file-io"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.15 latest_file_io和x $ latest_file_io Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965262528"></a><a class="indexterm" name="idm140527965261072"></a><a class="indexterm" name="idm140527965259584"></a><a class="indexterm" name="idm140527965258096"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了文件和线程分组的文件I / O活动。</font><font style="vertical-align: inherit;">默认情况下，行最先被排序为最近的I / O。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-latest-file-io" title="26.4.3.15 latest_file_io和x $ latest_file_io Views"><code class="literal">latest_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-latest-file-io" title="26.4.3.15 latest_file_io和x $ latest_file_io Views"><code class="literal">x$latest_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">thread</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于前台线程，与线程关联的帐户（以及TCP / IP连接的端口号）。</font><font style="vertical-align: inherit;">对于后台线程，线程名称和线程ID
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">file</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件路径名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件I / O事件的等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">operation</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              操作的类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">requested</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件I / O事件请求的数据字节数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-memory-by-host-by-current-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965241696"></a><a class="indexterm" name="idm140527965240240"></a><a class="indexterm" name="idm140527965238736"></a><a class="indexterm" name="idm140527965237232"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了由主机分组的内存使用情况。</font><font style="vertical-align: inherit;">默认情况下，行按照所用内存的递减量排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-host-by-current-bytes" title="26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图"><code class="literal">memory_by_host_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-host-by-current-bytes" title="26.4.3.16 memory_by_host_by_current_bytes和x $ memory_by_host_by_current_bytes视图"><code class="literal">x$memory_by_host_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端连接的主机。</font></font><code class="literal">HOST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_count_used</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尚未为主机释放的当前已分配内存块数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              目前还没有为主机释放的分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_avg_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机每个内存块的当前分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_max_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的最大单个当前内存分配（以字节为单位）。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机的总内存分配（以字节为单位）。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-memory-by-thread-by-current-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965216336"></a><a class="indexterm" name="idm140527965214880"></a><a class="indexterm" name="idm140527965213376"></a><a class="indexterm" name="idm140527965211856"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按线程分组的内存使用情况。</font><font style="vertical-align: inherit;">默认情况下，行按照所用内存的递减量排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-thread-by-current-bytes" title="26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图"><code class="literal">memory_by_thread_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-thread-by-current-bytes" title="26.4.3.17 memory_by_thread_by_current_bytes和x $ memory_by_thread_by_current_bytes视图"><code class="literal">x$memory_by_thread_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">thread_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程用户或线程名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_count_used</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尚未释放线程的当前已分配内存块数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尚未为该线程释放的当前分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_avg_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的每个内存块的当前分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_max_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的最大单个当前内存分配（以字节为单位）。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的总内存分配（以字节为单位）。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-memory-by-user-by-current-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965191312"></a><a class="indexterm" name="idm140527965189856"></a><a class="indexterm" name="idm140527965188352"></a><a class="indexterm" name="idm140527965186848"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了由用户分组的内存使用情况。</font><font style="vertical-align: inherit;">默认情况下，行按照所用内存的递减量排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-user-by-current-bytes" title="26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图"><code class="literal">memory_by_user_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-by-user-by-current-bytes" title="26.4.3.18 memory_by_user_by_current_bytes和x $ memory_by_user_by_current_bytes视图"><code class="literal">x$memory_by_user_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_count_used</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尚未为用户释放的当前已分配内存块数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              尚未为用户释放的当前分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_avg_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前每个内存块为用户分配的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_max_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的最大单个当前内存分配（以字节为单位）。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的字节总内存分配。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-memory-global-by-current-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527965166000"></a><a class="indexterm" name="idm140527965164544"></a><a class="indexterm" name="idm140527965163040"></a><a class="indexterm" name="idm140527965161536"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了内存使用情况，按分配类型（即按事件）分组。</font><font style="vertical-align: inherit;">默认情况下，行按照所用内存的递减量排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-by-current-bytes" title="26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图"><code class="literal">memory_global_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-by-current-bytes" title="26.4.3.19 memory_global_by_current_bytes和x $ memory_global_by_current_bytes视图"><code class="literal">x$memory_global_by_current_bytes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              内存事件名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件发生的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前尚未释放的事件分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_avg_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前每个内存块的事件分配字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">high_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              分配给事件的内存块数量的高水位标记。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">high_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              分配给该事件的字节数的高水位标记。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">high_avg_alloc</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为事件分配的每个内存块的平均字节数的高水位标记。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-memory-global-total"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.20 memory_global_total和x $ memory_global_total视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965141008"></a><a class="indexterm" name="idm140527965139536"></a><a class="indexterm" name="idm140527965138032"></a><a class="indexterm" name="idm140527965136528"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了服务器内的总内存使用情况。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-total" title="26.4.3.20 memory_global_total和x $ memory_global_total视图"><code class="literal">memory_global_total</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-memory-global-total" title="26.4.3.20 memory_global_total和x $ memory_global_total视图"><code class="literal">x$memory_global_total</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">total_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              服务器内分配的内存总字节数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-metrics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.21度量视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965128144"></a><a class="indexterm" name="idm140527965126656"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此视图汇总了MySQL服务器度量标准，以显示变量名称，值，类型以及它们是否已启用。</font><font style="vertical-align: inherit;">默认情况下，行按变量类型和名称排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个视图是在MySQL 5.7.9中添加的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图包含以下信息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              来自性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><code class="literal">global_status</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表的
             </font><font style="vertical-align: inherit;">全局状态变量
              </font></font></p></li><li class="listitem"><p>
              <code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font></font><code class="literal">INFORMATION_SCHEMA</code>
              <a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格的
             </font><font style="vertical-align: inherit;">指标
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前和总内存分配，基于性能架构内存仪器
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前时间（人类可读和Unix时间戳格式）
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          目前的信息之间的一些重复
           </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><code class="literal">global_status</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表，该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图消除。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">Variable_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              度量标准名称。</font><font style="vertical-align: inherit;">度量标准类型决定了名称的来源：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于全局状态变量：</font><font style="vertical-align: inherit;">表格
                 </font><font style="vertical-align: inherit;">的
                   </font></font><code class="literal">VARIABLE_NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                  </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><code class="literal">global_status</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指标：</font><font style="vertical-align: inherit;">表中
                 </font><font style="vertical-align: inherit;">的
                   </font></font><code class="literal">NAME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                  </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于其他指标：视图提供的描述性字符串
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">Variable_value</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              度量值。</font><font style="vertical-align: inherit;">度量标准类型决定了值的来源：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于全局状态变量：</font><font style="vertical-align: inherit;">表格
                 </font><font style="vertical-align: inherit;">的
                   </font></font><code class="literal">VARIABLE_VALUE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                  </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-status-variable-tables" title="25.11.14性能模式状态变量表"><code class="literal">global_status</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指标：</font><font style="vertical-align: inherit;">表中
                 </font><font style="vertical-align: inherit;">的
                   </font></font><code class="literal">COUNT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                  </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于内存度量标准：Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#memory-summary-tables" title="25.11.15.9内存汇总表"><code class="literal">memory_summary_global_by_event_name</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  表中
                 </font><font style="vertical-align: inherit;">的相关列
                  </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于当前时间：</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_now"><code class="literal">NOW(3)</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
                   </font><font style="vertical-align: inherit;">的值
                  </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP(NOW(3))</code></a>
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">Type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              度量类型：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于全局状态变量： </font></font><code class="literal">Global
                  Status</code>
                </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">度量标准：</font></font><code class="literal">InnoDB
                  Metrics - %</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中</font></font><code class="literal">%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由</font><font style="vertical-align: inherit;">表格
                 </font><font style="vertical-align: inherit;">的</font></font><code class="literal">SUBSYSTEM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                   </font><font style="vertical-align: inherit;">值替换
                  </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于内存指标： </font></font><code class="literal">Performance
                  Schema</code>
                </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  目前时间： </font></font><code class="literal">System Time</code>
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">Enabled</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该指标是否启用：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于全局状态变量： </font></font><code class="literal">YES</code>
                </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于</font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">度量标准：
                   </font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">表</font><font style="vertical-align: inherit;">的
                   </font></font><code class="literal">STATUS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列
                   </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#innodb-metrics-table" title="24.31.15 INFORMATION_SCHEMA INNODB_METRICS表"><code class="literal">INNODB_METRICS</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
                   </font></font><code class="literal">enabled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  否则
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  对于内存度量标准：</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                   </font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">PARTIAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  （当前，</font></font><code class="literal">PARTIAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅针对内存度量标准，并且表示并非所有
                   </font></font><code class="literal">memory/%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪器都已启用;性能架构内存仪器始终启用）
                </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  目前时间： </font></font><code class="literal">YES</code>
</p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-processlist"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.22进程列表和x $ processlist视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527965055152"></a><a class="indexterm" name="idm140527965053696"></a><a class="indexterm" name="idm140527965052208"></a><a class="indexterm" name="idm140527965050720"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了过程列表信息。</font><font style="vertical-align: inherit;">他们提供比</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW
          PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">陈述和
           </font></font><code class="literal">INFORMATION_SCHEMA</code>
          <a class="link" href="/mysql-5.7-google-zh/information-schema.html#processlist-table" title="24.17 INFORMATION_SCHEMA PROCESSLIST表"><code class="literal">PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font><font style="vertical-align: inherit;">更完整的信息</font><font style="vertical-align: inherit;">，也是非阻塞的。</font><font style="vertical-align: inherit;">默认情况下，行按降序处理时间和降等时间排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这里的列描述是简短的。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><font style="vertical-align: inherit;">第25.11.16.3节“线程表”</font></a><font style="vertical-align: inherit;">中对性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
           </font><font style="vertical-align: inherit;">的描述
           </font><font style="vertical-align: inherit;">。
        </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">processlist</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">x$processlist</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">thd_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">conn_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程用户或线程名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">command</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对于前台线程，线程正在代表客户端执行的命令的类型，或者
               </font></font><code class="literal">Sleep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话是否空闲。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">state</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              指示线程正在执行的动作，事件或状态。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">time</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程处于当前状态的时间（以秒为单位）。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_statement</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程正在执行的语句，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它没有执行任何语句。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该声明已执行多长时间。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">progress</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为支持进度报告的阶段完成的工作的百分比。</font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-progress-reporting" title="26.3 sys模式进度报告"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.3节“sys模式进度报告”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待当前语句锁定的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前语句从存储引擎读取的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前语句返回的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受当前语句影响的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">tmp_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由当前语句创建的内部内存中临时表的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">tmp_disk_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由当前语句创建的内部磁盘临时表的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scan</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前声明执行的全表扫描的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_statement</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程执行的最后一条语句，如果没有当前正在执行的语句或等待。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_statement_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              最后一条语句执行多长时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_memory</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程分配的字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_wait</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程最近的等待事件的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_wait_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程最近一次等待事件的等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">source</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含生成事件的检测代码的源文件和行号。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">trx_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程当前事务的等待时间。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">trx_state</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              线程当前事务的状态。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">trx_autocommit</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前事务开始时是否启用自动提交模式。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">pid</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端进程ID。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">program_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端程序名称。
            </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              本专栏是在MySQL 5.7.9中添加的。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-check-lost-instrumentation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.23 ps_check_lost_instrumentation视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964977008"></a><a class="indexterm" name="idm140527964975504"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该视图返回有关丢失的性能模式工具的信息，以指示性能模式是否无法监控所有运行时数据。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-check-lost-instrumentation" title="26.4.3.23 ps_check_lost_instrumentation视图"><code class="literal">ps_check_lost_instrumentation</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">variable_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              性能模式状态变量名称，指示哪种类型的仪器丢失。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">variable_value</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              仪器丢失的数量。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-auto-increment-columns"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.24 schema_auto_increment_columns视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964966096"></a><a class="indexterm" name="idm140527964964592"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该视图指示哪些表具有
           </font></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列并提供有关这些列的信息，例如当前列和最大列值以及使用率（使用率与可能值的比率）。</font><font style="vertical-align: inherit;">默认情况下，行按降序使用率和最大列值排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在这些模式中的表被排除在视图输出：
           </font></font><code class="literal">mysql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">performance_schema</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个视图是在MySQL 5.7.9中添加的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-auto-increment-columns" title="26.4.3.24 schema_auto_increment_columns视图"><code class="literal">schema_auto_increment_columns</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该</font></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">的表
               </font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">column_name</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">
              的名称</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">data_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列的数据类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">column_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列的列类型，即数据类型加上可能的其他信息。</font><font style="vertical-align: inherit;">例如，对于具有</font></font><code class="literal">bigint(20) unsigned</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列类型</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列，数据类型是刚好</font></font><code class="literal">bigint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">is_signed</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列类型是否已签名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">is_unsigned</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列类型是否是无符号的。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_value</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              列的最大允许值。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">auto_increment</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">AUTO_INCREMENT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">
              的当前</font><font style="vertical-align: inherit;">值。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">auto_increment_ratio</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用于该列允许值的比率。</font><font style="vertical-align: inherit;">这表示有多少值序列
               </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用完了”。</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">”</font></font></span>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-index-statistics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964931072"></a><a class="indexterm" name="idm140527964929616"></a><a class="indexterm" name="idm140527964928112"></a><a class="indexterm" name="idm140527964926608"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图提供索引统计。</font><font style="vertical-align: inherit;">默认情况下，行按降序总索引延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-index-statistics" title="26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图"><code class="literal">schema_index_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-index-statistics" title="26.4.3.25 schema_index_statistics和x $ schema_index_statistics视图"><code class="literal">x$schema_index_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含索引的表。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">index_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_selected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用索引读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">select_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用索引定时读取的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_inserted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              插入索引的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">insert_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时插入索引的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_updated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引中更新的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">update_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引中定时更新的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_deleted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从索引中删除的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">delete_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时从索引中删除的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-object-overview"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.26 schema_object_overview视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964898752"></a><a class="indexterm" name="idm140527964897248"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该视图总结了每个模式中对象的类型。</font><font style="vertical-align: inherit;">默认情况下，行按模式和对象类型排序。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于具有大量对象的MySQL实例，此视图可能需要很长时间才能执行。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-object-overview" title="26.4.3.26 schema_object_overview视图"><code class="literal">schema_object_overview</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              模式名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">object_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              对象类型：</font></font><code class="literal">BASE TABLE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
               </font><font style="vertical-align: inherit;">，
               </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
               </font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，
               </font><font style="vertical-align: inherit;">。
            </font></font><code class="literal">INDEX
              (<em class="replaceable"><code>index_type</code></em>)</code><font style="vertical-align: inherit;"></font><code class="literal">EVENT</code><font style="vertical-align: inherit;"></font><code class="literal">FUNCTION</code><font style="vertical-align: inherit;"></font><code class="literal">PROCEDURE</code><font style="vertical-align: inherit;"></font><code class="literal">TRIGGER</code><font style="vertical-align: inherit;"></font><code class="literal">VIEW</code><font style="vertical-align: inherit;"></font></p></li><li class="listitem"><p>
              <code class="literal">count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              给定类型的模式中的对象数量。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-redundant-indexes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964879808"></a><a class="indexterm" name="idm140527964878352"></a><a class="indexterm" name="idm140527964876848"></a><a class="indexterm" name="idm140527964875344"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">schema_redundant_indexes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图显示重复其他索引或由它们冗余的索引。</font><font style="vertical-align: inherit;">该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">x$schema_flattened_keys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图是帮助者的观点
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">schema_redundant_indexes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图是在MySQL 5.7.9中添加的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下列描述中，显性索引是使冗余索引冗余的索引。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">schema_redundant_indexes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含索引的表。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">redundant_index_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              冗余索引的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">redundant_index_columns</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              冗余索引中列的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">redundant_index_non_unique</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              冗余索引中的非唯一列的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">dominant_index_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              显性索引的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">dominant_index_columns</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              显性索引中列的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">dominant_index_non_unique</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              显性指数中非唯一列的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">subpart_exists</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引是否仅索引列的一部分。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sql_drop_index</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              要执行的语句以删除冗余索引。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-redundant-indexes" title="26.4.3.27 schema_redundant_indexes和x $ schema_flattened_keys Views"><code class="literal">x$schema_flattened_keys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含索引的表。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">index_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">non_unique</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引中非唯一列的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">subpart_exists</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引是否仅索引列的一部分。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">index_columns</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              索引中列的名称。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-table-lock-waits"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964832080"></a><a class="indexterm" name="idm140527964830624"></a><a class="indexterm" name="idm140527964829120"></a><a class="indexterm" name="idm140527964827616"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图显示阻止等待元数据锁定的会话，以及阻止它们的内容。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图是在MySQL 5.7.9中添加的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这里的列描述是简短的。</font><font style="vertical-align: inherit;">有关更多信息，请参见</font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#metadata-locks-table" title="25.11.12.1 metadata_locks表"><font style="vertical-align: inherit;">第25.11.12.1节“元数据锁表”</font></a><font style="vertical-align: inherit;">的性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#metadata-locks-table" title="25.11.12.1 metadata_locks表"><code class="literal">metadata_locks</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
           </font><font style="vertical-align: inherit;">的描述
           </font><font style="vertical-align: inherit;">。
        </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#metadata-locks-table" title="25.11.12.1 metadata_locks表"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-lock-waits" title="26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图"><code class="literal">schema_table_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-lock-waits" title="26.4.3.28 schema_table_lock_waits和x $ schema_table_lock_waits视图"><code class="literal">x$schema_table_lock_waits</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">object_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含要锁定的对象的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">object_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              检测对象的名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_thread_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              正在等待锁定的线程的线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_pid</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              正在等待锁定的线程的进程列表ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_account</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              与正在等待锁定的会话关联的帐户。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_lock_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待锁的类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_lock_duration</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待的锁等待多久。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              正在等待锁定的声明。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_query_secs</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明等待了多久，以秒为单位。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_query_rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受该语句影响的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">waiting_query_rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句从存储引擎读取的行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_thread_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞等待锁的线程的线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_pid</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻止等待锁的线程的进程列表ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_account</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              与阻止等待锁定的线程关联的帐户。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_lock_type</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻止等待锁定的锁定类型。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">blocking_lock_duration</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              阻塞锁持续了多久。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sql_kill_blocking_query</code>
            </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#kill" title="13.7.6.4 KILL语法"><code class="literal">KILL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要执行</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">语句来终止阻塞语句。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sql_kill_blocking_connection</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#kill" title="13.7.6.4 KILL语法"><code class="literal">KILL</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语句执行终止正在运行的阻塞语句的会话。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-table-statistics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964780432"></a><a class="indexterm" name="idm140527964778976"></a><a class="indexterm" name="idm140527964777472"></a><a class="indexterm" name="idm140527964775968"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了表格统计信息。</font><font style="vertical-align: inherit;">默认情况下，行按降序总等待时间排序（首先竞争最多的表）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图使用助手视图，
           </font></font><code class="literal">x$ps_schema_table_statistics_io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics" title="26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图"><code class="literal">schema_table_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics" title="26.4.3.29 schema_table_statistics和x $ schema_table_statistics视图"><code class="literal">x$schema_table_statistics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该表的定时I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_fetched</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">fetch_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时读取表的I / O事件总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_inserted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              插入到表中的行的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">insert_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的定时插入I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_updated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中更新的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">update_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该表的定时更新I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_deleted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中删除的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">delete_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为表格定时删除I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的读取请求总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的写入请求总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入表的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入表的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_misc_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中杂项I / O请求的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_misc_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中杂项I / O请求的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-table-statistics-with-buffer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964731168"></a><a class="indexterm" name="idm140527964729648"></a><a class="indexterm" name="idm140527964728128"></a><a class="indexterm" name="idm140527964726608"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图汇总了表统计信息，包括
           </font></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲池统计信息。</font><font style="vertical-align: inherit;">默认情况下，行按降序总等待时间排序（首先竞争最多的表）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图使用助手视图，
           </font></font><code class="literal">x$ps_schema_table_statistics_io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics-with-buffer" title="26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图"><code class="literal">schema_table_statistics_with_buffer</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-table-statistics-with-buffer" title="26.4.3.30 schema_table_statistics_with_buffer和x $ schema_table_statistics_with_buffer视图"><code class="literal">x$schema_table_statistics_with_buffer</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">table_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              包含该表的模式。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_fetched</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">fetch_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时读取表的I / O事件总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_inserted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              插入到表中的行的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">insert_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的定时插入I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_updated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中更新的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">update_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该表的定时更新I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_deleted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中删除的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">delete_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              为表格定时删除I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的读取请求总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_read_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中读取的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格的写入请求总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入表的总字节数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_write_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              写入表的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_misc_requests</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中杂项I / O请求的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_misc_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中杂项I / O请求的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_allocated</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为表分配</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">缓冲区字节</font><font style="vertical-align: inherit;">总数</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_data</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为表分配</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">数据字节</font><font style="vertical-align: inherit;">总数</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_free</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给表（</font></font><code class="literal">innodb_buffer_allocated</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-
               </font></font><code class="literal">innodb_buffer_data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">非数据字节</font><font style="vertical-align: inherit;">总数</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_pages</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为表格分配</font><font style="vertical-align: inherit;">
              的总</font><font style="vertical-align: inherit;">页数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_pages_hashed</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给表</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">散列页</font><font style="vertical-align: inherit;">的总数</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_pages_old</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为表格分配</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">旧页面</font><font style="vertical-align: inherit;">总数</font><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">innodb_buffer_rows_cached</code>
            </p><p><font style="vertical-align: inherit;"></font><code class="literal">InnoDB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font><font style="vertical-align: inherit;">
              的</font><font style="vertical-align: inherit;">缓存行</font><font style="vertical-align: inherit;">总数</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-tables-with-full-table-scans"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964662928"></a><a class="indexterm" name="idm140527964661408"></a><a class="indexterm" name="idm140527964659888"></a><a class="indexterm" name="idm140527964658368"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图显示正在使用全表扫描访问哪些表。</font><font style="vertical-align: inherit;">默认情况下，行按扫描的降序排列。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables-with-full-table-scans" title="26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图"><code class="literal">schema_tables_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-tables-with-full-table-scans" title="26.4.3.31 schema_tables_with_full_table_scans和x $ schema_tables_with_full_table_scans视图"><code class="literal">x$schema_tables_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">object_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              模式名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">object_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_full_scanned</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过对表进行全面扫描扫描的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表格全面扫描的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-schema-unused-indexes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.32 schema_unused_indexes视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964643984"></a><a class="indexterm" name="idm140527964642480"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图显示没有事件的索引，表示它们没有被使用。</font><font style="vertical-align: inherit;">默认情况下，行按模式和表排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          当服务器启动并处理足够长的时间以使其工作负载具有代表性时，此视图非常有用。</font><font style="vertical-align: inherit;">否则，在这个视图中存在索引可能没有意义。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-schema-unused-indexes" title="26.4.3.32 schema_unused_indexes视图"><code class="literal">schema_unused_indexes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">object_schema</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              模式名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">object_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表名。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">index_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              未使用的索引名称。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-session"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.33会话和x $会话视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964630720"></a><a class="indexterm" name="idm140527964629264"></a><a class="indexterm" name="idm140527964627776"></a><a class="indexterm" name="idm140527964626288"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图类似于
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">processlist</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><code class="literal">x$processlist</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但它们筛选出的后台进程，以便只显示用户会话。</font><font style="vertical-align: inherit;">有关这些列的说明，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-processlist" title="26.4.3.22进程列表和x $ processlist视图"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.3.22节“进程列表和x $进程列表视图”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图是在MySQL 5.7.9中添加的。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-session-ssl-status"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.34 session_ssl_status视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964619344"></a><a class="indexterm" name="idm140527964617888"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于每个连接，此视图显示SSL版本，密码以及重用SSL会话的数量。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个视图是在MySQL 5.7.9中添加的。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-session-ssl-status" title="26.4.3.34 session_ssl_status视图"><code class="literal">session_ssl_status</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">thread_id</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接的线程ID。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ssl_version</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用于连接的SSL版本。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ssl_cipher</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用于连接的SSL密码。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ssl_sessions_reused</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接重用的SSL会话数量。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statement-analysis"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.35 statement_analysis和x $ statement_analysis Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964604368"></a><a class="indexterm" name="idm140527964602912"></a><a class="indexterm" name="idm140527964601424"></a><a class="indexterm" name="idm140527964599920"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图列出了带有汇总统计的标准化语句。</font><font style="vertical-align: inherit;">内容模仿MySQL企业监视器查询分析视图。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis" title="26.4.3.35 statement_analysis和x $ statement_analysis Views"><code class="literal">statement_analysis</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis" title="26.4.3.35 statement_analysis和x $ statement_analysis Views"><code class="literal">x$statement_analysis</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scan</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明中出现的全表扫描总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">err_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的错误总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">warn_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的警告总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              报表定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句定时发生的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明每次发生的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过定时发生的语句等待锁定的总时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句出现次数返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生该语句时返回的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句发生时从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次出现语句时从存储引擎读取的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句发生影响的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明每次出现的平均受影响行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">tmp_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由语句出现创建的内部内存中临时表的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">tmp_disk_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由语句出现创建的内部磁盘临时表的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sorted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              按语句出现次数排序的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sort_merge_passes</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过声明的出现来排序合并传递的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statements-with-errors-or-warnings"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964547360"></a><a class="indexterm" name="idm140527964545904"></a><a class="indexterm" name="idm140527964544400"></a><a class="indexterm" name="idm140527964542880"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图显示已产生错误或警告的规范化语句。</font><font style="vertical-align: inherit;">默认情况下，行按降序错误和警告计数排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings" title="26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views"><code class="literal">statements_with_errors_or_warnings</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings" title="26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views"><code class="literal">x$statements_with_errors_or_warnings</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">errors</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的错误总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">error_pct</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              发生错误的语句发生的百分比。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">warnings</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的警告总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">warning_pct</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              产生警告的语句发生的百分比。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statements-with-full-table-scans"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964515888"></a><a class="indexterm" name="idm140527964514432"></a><a class="indexterm" name="idm140527964512928"></a><a class="indexterm" name="idm140527964511424"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图显示已完成全表扫描的规范化语句。</font><font style="vertical-align: inherit;">默认情况下，行按完成扫描完成时间的下降百分比和总延迟下降进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans" title="26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views"><code class="literal">statements_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans" title="26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views"><code class="literal">x$statements_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句的定时语句事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">no_index_used_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              没有索引用于扫描表的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">no_good_index_used_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              没有好的索引被用来扫描表的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">no_index_used_pct</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              没有索引用于扫描表的时间的百分比。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表中返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表的存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              表中返回的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              从表的存储引擎读取的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statements-with-runtimes-in-95th-percentile"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964476432"></a><a class="indexterm" name="idm140527964474976"></a><a class="indexterm" name="idm140527964473456"></a><a class="indexterm" name="idm140527964471936"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些观点列出运行时间在第95百分位的报表。</font><font style="vertical-align: inherit;">默认情况下，行按平均等待时间递减排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          两个视图都使用两个辅助视图，
           </font></font><code class="literal">x$ps_digest_avg_latency_distribution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且
           </font></font><code class="literal">x$ps_digest_95th_percentile_by_avg_us</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">statements_with_runtimes_in_95th_percentile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">x$statements_with_runtimes_in_95th_percentile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scan</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明中出现的全表扫描总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">err_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的错误总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">warn_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明发生的警告总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              报表定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句定时发生的最长单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明每次发生的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句出现次数返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生该语句时返回的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句发生时从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined_avg</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次出现语句时从存储引擎读取的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statements-with-sorting"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964431168"></a><a class="indexterm" name="idm140527964429712"></a><a class="indexterm" name="idm140527964428208"></a><a class="indexterm" name="idm140527964426704"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图列出已执行排序的规范化语句。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting" title="26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views"><code class="literal">statements_with_sorting</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting" title="26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views"><code class="literal">x$statements_with_sorting</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              报表定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sort_merge_passes</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过声明的出现来排序合并传递的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_sort_merges</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生该声明时排序合并传递的平均数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sorts_using_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用表扫描发生的语句的排序总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">sort_using_range</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              使用范围按语句的出现次数访问的排序总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sorted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              按语句出现次数排序的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_rows_sorted</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生语句时排序的平均行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statements-with-temp-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964393936"></a><a class="indexterm" name="idm140527964392480"></a><a class="indexterm" name="idm140527964390976"></a><a class="indexterm" name="idm140527964389472"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图列出了使用临时表的规范化语句。</font><font style="vertical-align: inherit;">缺省情况下，行按照使用的磁盘临时表的递减数量和使用的内存中临时表的递减数量进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables" title="26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views"><code class="literal">statements_with_temp_tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables" title="26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views"><code class="literal">x$statements_with_temp_tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              规范化的语句字符串。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">db</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该语句的默认数据库，或者
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">exec_count</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句执行的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              报表定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">memory_tmp_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由语句出现创建的内部内存中临时表的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">disk_tmp_tables</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              由语句出现创建的内部磁盘临时表的总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_tmp_tables_per_query</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次发生该声明时创建的内部临时表的平均数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">tmp_tables_to_disk_pct</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              已转换为磁盘表的内部内存临时表的百分比。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">first_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明第一次出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">last_seen</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明最近出现的时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">digest</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              声明摘要。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.41 user_summary和x $ user_summary Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964360480"></a><a class="indexterm" name="idm140527964359024"></a><a class="indexterm" name="idm140527964357536"></a><a class="indexterm" name="idm140527964356048"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按用户分组的语句活动，文件I / O和连接。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary" title="26.4.3.41 user_summary和x $ user_summary Views"><code class="literal">user_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary" title="26.4.3.41 user_summary和x $ user_summary Views"><code class="literal">x$user_summary</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statements</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的语句总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的定时语句的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement_avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的每个定时语句的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">table_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的表扫描总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">file_ios</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的文件I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">file_io_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的定时文件I / O事件的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_connections</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的当前连接数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_connections</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的总连接数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">unique_hosts</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户发起连接的不同主机的数量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">current_memory</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              当前为用户分配的内存量。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_memory_allocated</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户分配的内存总量。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary-by-file-io"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964323760"></a><a class="indexterm" name="idm140527964322304"></a><a class="indexterm" name="idm140527964320800"></a><a class="indexterm" name="idm140527964319296"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了文件I / O，按用户分组。</font><font style="vertical-align: inherit;">默认情况下，行按降序总文件I / O延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io" title="26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views"><code class="literal">user_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io" title="26.4.3.42 user_summary_by_file_io和x $ user_summary_by_file_io Views"><code class="literal">x$user_summary_by_file_io</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">ios</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的文件I / O事件总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">io_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的定时文件I / O事件的总等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary-by-file-io-type"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964304496"></a><a class="indexterm" name="idm140527964303040"></a><a class="indexterm" name="idm140527964301536"></a><a class="indexterm" name="idm140527964300032"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了文件I / O，按用户和事件类型分组。</font><font style="vertical-align: inherit;">默认情况下，行按用户排序并降低总延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io-type" title="26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图"><code class="literal">user_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-file-io-type" title="26.4.3.43 user_summary_by_file_io_type和x $ user_summary_by_file_io_type视图"><code class="literal">x$user_summary_by_file_io_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              文件I / O事件名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的文件I / O事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的文件I / O事件的定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的文件I / O事件定时发生的最长单次等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary-by-stages"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964281200"></a><a class="indexterm" name="idm140527964279744"></a><a class="indexterm" name="idm140527964278240"></a><a class="indexterm" name="idm140527964276736"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了由用户分组的阶段。</font><font style="vertical-align: inherit;">默认情况下，行按用户排序并降低总阶段延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-stages" title="26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图"><code class="literal">user_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-stages" title="26.4.3.44 user_summary_by_stages和x $ user_summary_by_stages视图"><code class="literal">x$user_summary_by_stages</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event_name</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              舞台事件名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的舞台事件发生的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的阶段事件的定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次用户阶段事件发生的平均等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary-by-statement-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964257888"></a><a class="indexterm" name="idm140527964256432"></a><a class="indexterm" name="idm140527964254928"></a><a class="indexterm" name="idm140527964253408"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了用户分组的总体声明统计信息。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-latency" title="26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图"><code class="literal">user_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-latency" title="26.4.3.45 user_summary_by_statement_latency和x $ user_summary_by_statement_latency视图"><code class="literal">x$user_summary_by_statement_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的语句总数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的定时语句的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的定时语句的最长单个等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              等待用户定时语句锁定的总时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的语句返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过用户的语句从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受用户语句影响的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户使用语句的全表扫描总数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-user-summary-by-statement-type"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964226704"></a><a class="indexterm" name="idm140527964225248"></a><a class="indexterm" name="idm140527964223744"></a><a class="indexterm" name="idm140527964222240"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了关于执行的语句的信息，按用户和语句类型分组。</font><font style="vertical-align: inherit;">默认情况下，行按用户排序并降低总延迟。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-type" title="26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图"><code class="literal">user_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-user-summary-by-statement-type" title="26.4.3.46 user_summary_by_statement_type和x $ user_summary_by_statement_type视图"><code class="literal">x$user_summary_by_statement_type</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              客户端用户名。</font></font><code class="literal">USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础性能模式表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">列所在的</font><font style="vertical-align: inherit;">行
               </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被假定为后台线程，并以主机名称报告</font></font><code class="literal">background</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">statement</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              语句事件名称的最后组件。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的声明事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的语句事件定时发生的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户的语句事件定时发生的最长单个等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">lock_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过定时发生用户的语句事件来等待锁定的总时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_sent</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户发生的语句事件返回的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_examined</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              通过发生用户的语句事件从存储引擎读取的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">rows_affected</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              受用户语句事件发生影响的总行数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">full_scans</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户发生的语句事件发生的全表扫描总数。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-version"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.47版本视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964193520"></a><a class="indexterm" name="idm140527964192032"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该视图提供了当前的
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式和MySQL服务器版本。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-version" title="26.4.3.47版本视图"><code class="literal">version</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">sys_version</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              该</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构版本。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">mysql_version</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL服务器版本。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-wait-classes-global-by-avg-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964180480"></a><a class="indexterm" name="idm140527964179024"></a><a class="indexterm" name="idm140527964177520"></a><a class="indexterm" name="idm140527964176000"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些观点总结了按事件类别分组的等待班平均等待时间。</font><font style="vertical-align: inherit;">默认情况下，行按平均等待时间递减排序。</font><font style="vertical-align: inherit;">空闲事件被忽略。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          事件类是通过从事件名称中除去前三个组件后的所有内容来确定的。</font><font style="vertical-align: inherit;">例如，类</font></font><code class="literal">wait/io/file/sql/slow_log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是is
           </font></font><code class="literal">wait/io/file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-avg-latency" title="26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图"><code class="literal">wait_classes_global_by_avg_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-avg-latency" title="26.4.3.48 wait_classes_global_by_avg_latency和x $ wait_classes_global_by_avg_latency视图"><code class="literal">x$wait_classes_global_by_avg_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">event_class</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件类。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中发生事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中事件发生时间的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">min_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中事件发生时间的最小单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中每次事件发生的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              类中事件的定时发生的最大单个等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-wait-classes-global-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964155424"></a><a class="indexterm" name="idm140527964153968"></a><a class="indexterm" name="idm140527964152464"></a><a class="indexterm" name="idm140527964150960"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些观点总结了按照事件类别分组的等待班次总延迟。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。</font><font style="vertical-align: inherit;">空闲事件被忽略。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          事件类是通过从事件名称中除去前三个组件后的所有内容来确定的。</font><font style="vertical-align: inherit;">例如，类</font></font><code class="literal">wait/io/file/sql/slow_log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是is
           </font></font><code class="literal">wait/io/file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-latency" title="26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views"><code class="literal">wait_classes_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-wait-classes-global-by-latency" title="26.4.3.49 wait_classes_global_by_latency和x $ wait_classes_global_by_latency Views"><code class="literal">x$wait_classes_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">event_class</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件类。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中发生事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中事件发生时间的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">min_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中事件发生时间的最小单一等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              班级中每次事件发生的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              类中事件的定时发生的最大单个等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-waits-by-host-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964130416"></a><a class="indexterm" name="idm140527964128960"></a><a class="indexterm" name="idm140527964127456"></a><a class="indexterm" name="idm140527964125952"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按主机和事件分组的等待事件。</font><font style="vertical-align: inherit;">默认情况下，行按主机排序并降低总延迟。</font><font style="vertical-align: inherit;">空闲事件被忽略。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-host-by-latency" title="26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views"><code class="literal">waits_by_host_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-host-by-latency" title="26.4.3.50 waits_by_host_by_latency和x $ waits_by_host_by_latency Views"><code class="literal">x$waits_by_host_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">host</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              发起连接的主机。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              活动名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机发生事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机事件发生时间的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机事件发生时间的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              主机事件发生时间最长的一次等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-waits-by-user-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964107488"></a><a class="indexterm" name="idm140527964106032"></a><a class="indexterm" name="idm140527964104528"></a><a class="indexterm" name="idm140527964103024"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按用户和事件分组的等待事件。</font><font style="vertical-align: inherit;">默认情况下，行按用户排序并降低总延迟。</font><font style="vertical-align: inherit;">空闲事件被忽略。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-user-by-latency" title="26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图"><code class="literal">waits_by_user_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-by-user-by-latency" title="26.4.3.51 waits_by_user_by_latency和x $ waits_by_user_by_latency视图"><code class="literal">x$waits_by_user_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">user</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              与连接关联的用户。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">event</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              活动名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户事件的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户事件发生时间的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户事件发生时间的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              用户事件发生时间最长的一次等待时间。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-waits-global-by-latency"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964084576"></a><a class="indexterm" name="idm140527964083120"></a><a class="indexterm" name="idm140527964081616"></a><a class="indexterm" name="idm140527964080112"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这些视图总结了按事件分组的等待事件。</font><font style="vertical-align: inherit;">默认情况下，行按降序总延迟进行排序。</font><font style="vertical-align: inherit;">空闲事件被忽略。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-global-by-latency" title="26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views"><code class="literal">waits_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-waits-global-by-latency" title="26.4.3.52 waits_global_by_latency和x $ waits_global_by_latency Views"><code class="literal">x$waits_global_by_latency</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意见有这些列：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">events</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              活动名称。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件发生的总次数。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">total_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件发生时间的总等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">avg_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              每次事件发生的平均等待时间。
            </font></font></p></li><li class="listitem"><p>
              <code class="literal">max_latency</code>
            </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              事件定时发生的最长单次等待时间。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="sys-schema-procedures"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4 sys模式存储过程</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-create-synonym-db"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.1 create_synonym_db（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.2诊断（）程序</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-execute-prepared-stmt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.3 execute_prepared_stmt（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-background-threads"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.4 ps_setup_disable_background_threads（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-consumer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.5 ps_setup_disable_consumer（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-instrument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.6 ps_setup_disable_instrument（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-disable-thread"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.7 ps_setup_disable_thread（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-background-threads"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.8 ps_setup_enable_background_threads（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-consumer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.9 ps_setup_enable_consumer（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-instrument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.10 ps_setup_enable_instrument（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-enable-thread"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.11 ps_setup_enable_thread（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reload-saved"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.12 ps_setup_reload_saved（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reset-to-default"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.13 ps_setup_reset_to_default（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.14 ps_setup_save（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.15 ps_setup_show_disabled（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled-consumers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.16 ps_setup_show_disabled_consumers（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-disabled-instruments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.17 ps_setup_show_disabled_instruments（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.18 ps_setup_show_enabled（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled-consumers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.19 ps_setup_show_enabled_consumers（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-show-enabled-instruments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.20 ps_setup_show_enabled_instruments（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-statement-avg-latency-histogram"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.21 ps_statement_avg_latency_histogram（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-trace-statement-digest"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.22 ps_trace_statement_digest（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-trace-thread"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.23 ps_trace_thread（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-truncate-all-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.24 ps_truncate_all_tables（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-performance-analyzer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.25 statement_performance_analyzer（）过程</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-table-exists"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.26 table_exists（）过程</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分描述
         </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式存储过程。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-create-synonym-db"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.1 create_synonym_db（）过程</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527964060912"></a><a class="indexterm" name="idm140527964059440"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在给定模式名称的情况下，此过程会创建一个同义模式，其中包含引用原始模式中所有表和视图的视图。</font><font style="vertical-align: inherit;">例如，这可以用来创建一个较短的名称，通过该名称来引用具有长名称的模式（比如</font></font><code class="literal">info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是
           </font></font><code class="literal">INFORMATION_SCHEMA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-create-synonym-db-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_db_name VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要为其创建同义词的模式的名称。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_synonym VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于同义词模式的名称。</font><font style="vertical-align: inherit;">此架构不得已经存在。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-create-synonym-db-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SHOW DATABASES;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据库|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysql |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">世界|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL create_synonym_db('INFORMATION_SCHEMA', 'info');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">在信息数据库中创建了63个视图</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SHOW DATABASES;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据库|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">information_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">info |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysql |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sys |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">世界|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SHOW FULL TABLES FROM info;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------- + --------- --- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Tables_in_info | </font><font style="vertical-align: inherit;">Table_type |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------- + --------- --- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">character_sets | </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">collat​​ion_character_set_applicability | </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">排序规则| </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">column_privileges | </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">列| </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-diagnostics"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.2诊断（）程序</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527964042880"></a><a class="indexterm" name="idm140527964041424"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为诊断目的创建当前服务器状态的报告。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          收集的数据</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          包含以下信息：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              来自</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              视图的</font><font style="vertical-align: inherit;">信息</font><font style="vertical-align: inherit;">（请参见</font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.3.21节“度量视图”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              来自其他相关</font></font><code class="literal">sys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              模式视图的信息，例如确定第95百分位查询的信息
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"></font><code class="literal">ndbinfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果MySQL服务器是NDB集群的一部分，则</font><font style="vertical-align: inherit;">
              来自</font><font style="vertical-align: inherit;">架构的
             </font><font style="vertical-align: inherit;">信息</font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              复制状态（主站和从站）
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          一些sys模式视图计算为初始（可选），总体和增量值：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              初始视图是过程开始时视图的内容</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              。</font><font style="vertical-align: inherit;">该输出与用于增量视图的起始值相同。</font><font style="vertical-align: inherit;">如果</font></font><code class="literal">diagnostics.include_raw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              配置选项是，</font><font style="vertical-align: inherit;">则包含初始视图</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              整体观点是</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序</font><font style="vertical-align: inherit;">结束时的观点内容</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该输出与用于增量视图的最终值相同。</font><font style="vertical-align: inherit;">总体视图始终包含在内。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              增量视图是程序执行从开始到结束的差异。</font><font style="vertical-align: inherit;">最小值和最大值分别是端视图中的最小值和最大值。</font><font style="vertical-align: inherit;">它们不一定反映受监测期间的最小值和最大值。</font><font style="vertical-align: inherit;">除
               </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图外，增量仅在第一个输出和最后一个输出之间计算。
</font></font></p></li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-diagnostics-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_max_runtime INT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：以秒为单位的最大数据收集时间。</font><font style="vertical-align: inherit;">使用
                 </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集的数据为60秒的默认值。</font><font style="vertical-align: inherit;">否则，请使用大于0的值。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_interval INT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：数秒之间的睡眠时间。</font><font style="vertical-align: inherit;">使用
                 </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入睡眠状态30秒的默认。</font><font style="vertical-align: inherit;">否则，请使用大于0的值。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_auto_config ENUM('current', 'medium',
                'full')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要使用的性能架构配置。</font><font style="vertical-align: inherit;">允许的值是：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <code class="literal">current</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用当前的乐器和用户设置。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">medium</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启用一些工具和消费者。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">full</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：启用所有仪器和消费者。
</font></font></p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  启用的工具和消费者越多，对MySQL服务器性能的影响就越大。</font><font style="vertical-align: inherit;">小心</font></font><code class="literal">medium</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置，尤其是</font></font><code class="literal">full</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置，这对性能有很大的影响。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                使用</font></font><code class="literal">medium</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
                 </font></font><code class="literal">full</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置需要
                 </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权。
              </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果比其他的设定</font></font><code class="literal">current</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被选择，当前的设置是在过程结束时恢复。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-diagnostics-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font></font></h5>

</div>

</div>

</div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作可以使用以下的配置选项或它们相应的用户定义的变量被修改（见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节26.4.2.1，“该sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">@sys.debug</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果这个选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，产生调试输出。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">diagnostics.allow_i_s_tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.diagnostics.allow_i_s_tables</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果此选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则允许</font><font style="vertical-align: inherit;">该
                 </font><font style="vertical-align: inherit;">过程在表上执行表扫描
                 </font></font><a class="link" href="/mysql-5.7-google-zh/information-schema.html#tables-table" title="24.24 INFORMATION_SCHEMA表格表"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                。</font><font style="vertical-align: inherit;">如果有许多表格，这可能很昂贵。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">diagnostics.include_raw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.diagnostics.include_raw</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果此选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则
                 </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-diagnostics" title="26.4.4.2诊断（）程序"><code class="literal">diagnostics()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程输出包含查询</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-metrics" title="26.4.3.21度量视图"><code class="literal">metrics</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图</font><font style="vertical-align: inherit;">的原始输出
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.statement_truncate_len</code>
              </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                函数</font><font style="vertical-align: inherit;">
                返回的语句的最大长度
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">更长的语句被截断到这个长度。</font><font style="vertical-align: inherit;">默认值是64。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-diagnostics-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            创建一个诊断报告，每30秒启动一次迭代，并使用当前的性能模式设置运行最多120秒：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL diagnostics(120, 30, 'current');</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要</font></font><code class="literal">diagnostics()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在运行时</font><font style="vertical-align: inherit;">从</font><font style="vertical-align: inherit;">文件中</font><font style="vertical-align: inherit;">捕获过程的输出
             </font><font style="vertical-align: inherit;">，请使用</font></font><a class="link" href="/mysql-5.7-google-zh/programs.html#mysql" title="4.5.1 mysql  -  MySQL命令行工具"><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql</font></font></strong></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font><font style="vertical-align: inherit;">和
             </font><font style="vertical-align: inherit;">命令（请参见
             </font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-commands" title="4.5.1.2 mysql命令"><font style="vertical-align: inherit;">第4.5.1.2节“mysql命令”</font></a><font style="vertical-align: inherit;">）：
          </font></font><code class="literal">tee
            <code class="filename">filename</code></code><font style="vertical-align: inherit;"></font><code class="literal">notee</code><font style="vertical-align: inherit;"></font><a class="xref" href="/mysql-5.7-google-zh/programs.html#mysql-commands" title="4.5.1.2 mysql命令"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>tee diag.out;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>CALL diagnostics(120, 30, 'current');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>notee;</code></strong>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-execute-prepared-stmt"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.3 execute_prepared_stmt（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963956976"></a><a class="indexterm" name="idm140527963955472"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给出一个SQL语句作为一个字符串，将其作为一个准备好的语句执行。</font><font style="vertical-align: inherit;">准备好的语句在执行后解除分配，因此不会被重用。</font><font style="vertical-align: inherit;">因此，此过程主要用于一次性执行动态语句。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程使用
           </font></font><code class="literal">sys_execute_prepared_stmt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备的语句名称。</font><font style="vertical-align: inherit;">如果该过程被调用时该语句名称存在，则其之前的内容将被销毁。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个程序是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-execute-prepared-stmt-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_query LONGTEXT CHARACTER SET utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要执行的语句字符串。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-execute-prepared-stmt-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font></font></h5>

</div>

</div>

</div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-execute-prepared-stmt" title="26.4.4.3 execute_prepared_stmt（）过程"><code class="literal">execute_prepared_stmt()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            操作可以使用以下配置选项或其相应的用户定义变量进行修改（请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.2.1节“sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">@sys.debug</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果这个选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，产生调试输出。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-execute-prepared-stmt-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL execute_prepared_stmt('SELECT COUNT(*) FROM mysql.user');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">COUNT（*）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">15 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-disable-background-threads"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.4 ps_setup_disable_background_threads（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963935872"></a><a class="indexterm" name="idm140527963934384"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          禁用所有后台线程的性能模式检测。</font><font style="vertical-align: inherit;">产生一个结果集，指示禁用了多少后台线程。</font><font style="vertical-align: inherit;">已禁用的线程不计算在内。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-background-threads-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-background-threads-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_background_threads();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用24个后台线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-disable-consumer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.5 ps_setup_disable_consumer（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963926064"></a><a class="indexterm" name="idm140527963924608"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          禁用名称包含参数的Performance Schema使用者。</font><font style="vertical-align: inherit;">产生一个结果集，指示有多少消费者被禁用。</font><font style="vertical-align: inherit;">已禁用的消费者不计算在内。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-consumer-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">consumer VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于匹配消费者名称的值，通过将其</font></font><code class="literal">%consumer%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式匹配</font><font style="vertical-align: inherit;">的操作数来
                 </font><font style="vertical-align: inherit;">标识
                 </font><font style="vertical-align: inherit;">。
              </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与所有消费者匹配</font><font style="vertical-align: inherit;">
                的值</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-consumer-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            禁用所有语句使用者：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_consumer('statement');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用4个消费者|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-disable-instrument"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.6 ps_setup_disable_instrument（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963911248"></a><a class="indexterm" name="idm140527963909792"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          禁用名称包含参数的Performance Schema工具。</font><font style="vertical-align: inherit;">产生一个结果集，指示禁用了多少台仪器。</font><font style="vertical-align: inherit;">已禁用的乐器不计数。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-instrument-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_pattern VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于匹配仪器名称的值，通过将其</font></font><code class="literal">%in_pattern%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式匹配</font><font style="vertical-align: inherit;">的操作数来</font><font style="vertical-align: inherit;">标识</font><font style="vertical-align: inherit;">。
              </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与所有工具匹配</font><font style="vertical-align: inherit;">
                的值</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-instrument-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            禁用特定的乐器：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_instrument('wait/lock/metadata/sql/mdl');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用1仪器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            禁用所有互斥工具：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_instrument('mutex');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用177种仪器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-disable-thread"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.7 ps_setup_disable_thread（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963894208"></a><a class="indexterm" name="idm140527963892704"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定连接标识，禁用线程的性能模式检测。</font><font style="vertical-align: inherit;">产生一个结果集，指示有多少个线程被禁用。</font><font style="vertical-align: inherit;">已禁用的线程不计算在内。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-thread-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_connection_id BIGINT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：连接ID。</font><font style="vertical-align: inherit;">这是</font></font><code class="literal">PROCESSLIST_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表</font></font><code class="literal">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中
                 </font><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">列中</font><font style="vertical-align: inherit;">给出的连接ID
                 </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-disable-thread-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            通过连接ID禁用特定连接：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_thread(225);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            禁用当前连接：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_disable_thread(CONNECTION_ID());</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-enable-background-threads"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.8 ps_setup_enable_background_threads（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963876368"></a><a class="indexterm" name="idm140527963874848"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          为所有后台线程启用性能模式检测。</font><font style="vertical-align: inherit;">生成一个结果集，指示启用了多少后台线程。</font><font style="vertical-align: inherit;">已启用线程不计数。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-background-threads-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-background-threads-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_background_threads();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用24个后台线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-enable-consumer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.9 ps_setup_enable_consumer（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963866512"></a><a class="indexterm" name="idm140527963865056"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用名称包含参数的Performance Schema使用者。</font><font style="vertical-align: inherit;">生成一个结果集，指示启用了多少个消费者。</font><font style="vertical-align: inherit;">已经使消费者无法计数。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-consumer-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">consumer VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于匹配消费者名称的值，通过将其</font></font><code class="literal">%consumer%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式匹配</font><font style="vertical-align: inherit;">的操作数来
                 </font><font style="vertical-align: inherit;">标识
                 </font><font style="vertical-align: inherit;">。
              </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与所有消费者匹配</font><font style="vertical-align: inherit;">
                的值</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-consumer-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启用所有语句使用者：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_consumer('statement');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用4个消费者|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-enable-instrument"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.10 ps_setup_enable_instrument（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963851696"></a><a class="indexterm" name="idm140527963850240"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          启用名称包含参数的Performance Schema工具。</font><font style="vertical-align: inherit;">产生一个结果集，指示启用了多少种仪器。</font><font style="vertical-align: inherit;">已启用的乐器不计数。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-instrument-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_pattern VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于匹配仪器名称的值，通过将其</font></font><code class="literal">%in_pattern%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用作</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#operator_like"><code class="literal">LIKE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式匹配</font><font style="vertical-align: inherit;">的操作数来</font><font style="vertical-align: inherit;">标识</font><font style="vertical-align: inherit;">。
              </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与所有工具匹配</font><font style="vertical-align: inherit;">
                的值</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-instrument-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启用特定的工具：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_instrument('wait/lock/metadata/sql/mdl');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用1仪器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启用所有互斥工具：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_instrument('mutex');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用177种仪器|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-enable-thread"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.11 ps_setup_enable_thread（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963834656"></a><a class="indexterm" name="idm140527963833152"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个连接标识，为该线程启用性能模式检测。</font><font style="vertical-align: inherit;">生成一个结果集，指示启用了多少个线程。</font><font style="vertical-align: inherit;">已启用线程不计数。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-thread-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_connection_id BIGINT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：连接ID。</font><font style="vertical-align: inherit;">这是</font></font><code class="literal">PROCESSLIST_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表</font></font><code class="literal">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中
                 </font><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">列中</font><font style="vertical-align: inherit;">给出的连接ID
                 </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-enable-thread-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            通过连接ID启用特定连接：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_thread(225);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            启用当前连接：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_enable_thread(CONNECTION_ID());</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-reload-saved"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.12 ps_setup_reload_saved（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963816944"></a><a class="indexterm" name="idm140527963815440"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用重新加载之前在同一会话中保存的性能模式配置
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多信息，请参阅说明
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-reload-saved-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-reset-to-default"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.13 ps_setup_reset_to_default（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963804864"></a><a class="indexterm" name="idm140527963803408"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将性能架构配置重置为其默认设置。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-reset-to-default-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_verbose BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否在过程执行期间显示关于每个设置阶段的信息。</font><font style="vertical-align: inherit;">这包括执行的SQL语句。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-reset-to-default-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_reset_to_default(TRUE)\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状态：重置：setup_actors</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
删除</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROM performance_schema.setup_actors</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE NOT（HOST ='％'AND USER ='％'AND ROLE ='％'）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状态：重置：setup_actors</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将IGNORE插入到performance_schema.setup_actors中</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VALUES（'％'，'％'，'％'）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-save"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.14 ps_setup_save（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963793472"></a><a class="indexterm" name="idm140527963792000"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          保存当前的性能模式配置。</font><font style="vertical-align: inherit;">这使您可以为了调试或其他目的临时更改配置，然后通过调用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reload-saved" title="26.4.4.12 ps_setup_reload_saved（）过程"><code class="literal">ps_setup_reload_saved()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          过程</font><font style="vertical-align: inherit;">将其恢复到以前的状态
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要阻止其他同时呼叫保存配置，请
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取</font></font><code class="literal">sys.ps_setup_save</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过调用该</font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          函数</font><font style="vertical-align: inherit;">命名的顾问锁</font><font style="vertical-align: inherit;">。</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要一个超时参数来表明如果锁已经存在（这表明某个其他会话的未保存配置未完成），等待多少秒钟。</font><font style="vertical-align: inherit;">如果超时过期而没有获得锁定，则
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失败。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          它打算在</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-reload-saved" title="26.4.4.12 ps_setup_reload_saved（）过程"><code class="literal">ps_setup_reload_saved()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稍后的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同一个</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话中</font><font style="vertical-align: inherit;">调用
           </font><font style="vertical-align: inherit;">，
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为配置保存在</font></font><code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中。
          </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除临时表并释放锁。</font><font style="vertical-align: inherit;">如果您在未调用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-setup-save" title="26.4.4.14 ps_setup_save（）过程"><code class="literal">ps_setup_save()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">情况下结束会话
           </font><font style="vertical-align: inherit;">，表和锁自动消失。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-save-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_timeout INT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：等待多少秒才能获得</font></font><code class="literal">sys.ps_setup_save</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                锁定。</font><font style="vertical-align: inherit;">负超时值意味着无限超时。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-save-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_save(10);</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><em class="replaceable"><code>make Performance Schema configuration changes</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_reload_saved();</code></strong>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-disabled"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.15 ps_setup_show_disabled（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963763008"></a><a class="indexterm" name="idm140527963761504"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示当前禁用的所有性能模式配置。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_show_instruments BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否显示残疾人乐器。</font><font style="vertical-align: inherit;">这可能是一个长长的清单。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_show_threads BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否显示禁用的线程。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; CALL ps_setup_show_disabled（TRUE，TRUE）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema_enabled |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">enabled_users |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'％'@'％'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">object_type | </font><font style="vertical-align: inherit;">对象| </font><font style="vertical-align: inherit;">启用| </font><font style="vertical-align: inherit;">定时|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件| </font><font style="vertical-align: inherit;">mysql。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件| </font><font style="vertical-align: inherit;">performance_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件| </font><font style="vertical-align: inherit;">information_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">功能| </font><font style="vertical-align: inherit;">mysql。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">功能| </font><font style="vertical-align: inherit;">performance_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">功能| </font><font style="vertical-align: inherit;">information_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">程序| </font><font style="vertical-align: inherit;">mysql。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">程序| </font><font style="vertical-align: inherit;">performance_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">程序| </font><font style="vertical-align: inherit;">information_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TABLE | </font><font style="vertical-align: inherit;">mysql。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TABLE | </font><font style="vertical-align: inherit;">performance_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TABLE | </font><font style="vertical-align: inherit;">information_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TRIGGER | </font><font style="vertical-align: inherit;">mysql。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TRIGGER | </font><font style="vertical-align: inherit;">performance_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TRIGGER | </font><font style="vertical-align: inherit;">information_schema。％| </font><font style="vertical-align: inherit;">NO | </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-disabled-consumers"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.16 ps_setup_show_disabled_consumers（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963748384"></a><a class="indexterm" name="idm140527963746864"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示所有当前禁用的性能模式使用者。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-consumers-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-consumers-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_show_disabled_consumers();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">disabled_consumers |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_stages_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_stages_history |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_stages_history_long |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_statements_history |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_statements_history_long |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_transactions_history |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_transactions_history_long |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_waits_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_waits_history |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_waits_history_long |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-disabled-instruments"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.17 ps_setup_show_disabled_instruments（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963738464"></a><a class="indexterm" name="idm140527963736944"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示当前禁用的所有性能模式工具。</font><font style="vertical-align: inherit;">这可能是一个长长的清单。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-instruments-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-disabled-instruments-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_show_disabled_instruments()\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
disabled_instruments：wait / synch / mutex / sql / TC_LOG_MMAP :: LOCK_tc</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               定时：否</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 2. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
disabled_instruments：wait / synch / mutex / sql / THD :: LOCK_query_plan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               定时：否</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 3. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
disabled_instruments：wait / synch / mutex / sql / MYSQL_BIN_LOG :: LOCK_commit</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               定时：否</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-enabled"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.18 ps_setup_show_enabled（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963728608"></a><a class="indexterm" name="idm140527963727104"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示当前启用的所有性能模式配置。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_show_instruments BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否显示启用的乐器。</font><font style="vertical-align: inherit;">这可能是一个长长的清单。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_show_threads BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否显示启用的线程。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_show_enabled(FALSE, FALSE);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">performance_schema_enabled |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">enabled_users |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">'％'@'％'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">object_type | </font><font style="vertical-align: inherit;">对象| </font><font style="vertical-align: inherit;">启用| </font><font style="vertical-align: inherit;">定时|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">事件| </font><font style="vertical-align: inherit;">％。％| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">功能| </font><font style="vertical-align: inherit;">％。％| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">程序| </font><font style="vertical-align: inherit;">％。％| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TABLE | </font><font style="vertical-align: inherit;">％。％| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TRIGGER | </font><font style="vertical-align: inherit;">％。％| </font><font style="vertical-align: inherit;">是| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------- + ---------------------- + --------- +  - ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5行（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">enabled_consumers |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_statements_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_transactions_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">global_instrumentation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">thread_instrumentation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">statement_digest |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-enabled-consumers"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.19 ps_setup_show_enabled_consumers（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963714896"></a><a class="indexterm" name="idm140527963713376"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示当前启用的所有性能模式使用者。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-consumers-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-consumers-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_show_enabled_consumers();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">enabled_consumers |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_statements_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">events_transactions_current |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">global_instrumentation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">thread_instrumentation |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">statement_digest |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-setup-show-enabled-instruments"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.20 ps_setup_show_enabled_instruments（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963705152"></a><a class="indexterm" name="idm140527963703632"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示当前启用的所有性能模式工具。</font><font style="vertical-align: inherit;">这可能是一个长长的清单。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-instruments-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-setup-show-enabled-instruments-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_setup_show_enabled_instruments()\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
enabled_instruments：wait / io / file / sql / map</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时：是</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 2. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
enabled_instruments：wait / io / file / sql / binlog</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时：是</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 3. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
enabled_instruments：wait / io / file / sql / binlog_cache</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              定时：是</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-statement-avg-latency-histogram"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.21 ps_statement_avg_latency_histogram（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963695248"></a><a class="indexterm" name="idm140527963693728"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          显示性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          表中</font><font style="vertical-align: inherit;">跟踪的所有标准化语句的平均延迟值的文本直方图
           </font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个程序可以用来显示这个MySQL实例中运行的语句的延迟分布的非常高级的图片。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-statement-avg-latency-histogram-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-statement-avg-latency-histogram-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以语句单位输出直方图。</font><font style="vertical-align: inherit;">例如，
             </font></font><code class="literal">* = 2 units</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在直方图图例中意味着每个</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符代表2个语句。
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_statement_avg_latency_histogram()\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
性能架构语句摘要平均延迟直方图：</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  。</font><font style="vertical-align: inherit;">= 1个单位</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  * = 2个单位</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ＃= 3个单位</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（0  -  66ms）88 | </font><font style="vertical-align: inherit;">#############################</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（66  -  133ms）14 | </font><font style="vertical-align: inherit;">..............</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（133  -  199ms）4 | </font><font style="vertical-align: inherit;">....</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（199  -  265ms）5 | </font><font style="vertical-align: inherit;">**</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（265  -  332ms）1 | </font><font style="vertical-align: inherit;">。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（332  -  398ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（398  -  464ms）1 | </font><font style="vertical-align: inherit;">。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（464  -  531ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（531  -  597ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（597  -  663ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（663  -  730ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（730  -  796ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（796  -  863ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（863  -  929ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（929  -  995ms）0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（995  -  1062ms）0 |</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  合计报表：114; </font><font style="vertical-align: inherit;">桶：16; </font><font style="vertical-align: inherit;">桶大小：66毫秒;</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-trace-statement-digest"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.22 ps_trace_statement_digest（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963681216"></a><a class="indexterm" name="idm140527963679760"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          跟踪特定语句摘要的所有性能模式检测。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果在“性能模式” </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          表中</font><font style="vertical-align: inherit;">找到感兴趣的语句，请在
           </font></font><code class="literal">DIGEST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此过程中</font><font style="vertical-align: inherit;">指定其</font><font style="vertical-align: inherit;">列MD5值，并指示轮询持续时间和间隔。</font><font style="vertical-align: inherit;">结果是在该性能模式中针对该间隔的摘要跟踪的所有统计信息的报告。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该过程还会尝试</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#explain" title="13.8.2 EXPLAIN语法"><code class="literal">EXPLAIN</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在间隔期间</font><font style="vertical-align: inherit;">执行
           </font><font style="vertical-align: inherit;">摘要中最长的运行示例。</font><font style="vertical-align: inherit;">此尝试可能会失败，因为性能模式会截断长
           </font></font><code class="literal">SQL_TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">因此，
           </font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#explain" title="13.8.2 EXPLAIN语法"><code class="literal">EXPLAIN</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于解析错误将会失败。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-trace-statement-digest-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_digest VARCHAR(32)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要分析的语句摘要标识符。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_runtime INT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在几秒钟内运行分析需要多长时间。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_interval DECIMAL(2,2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：以秒为单位的分析间隔（可以是小数），以尝试拍摄快照。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_start_fresh BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">
                在开始之前</font><font style="vertical-align: inherit;">是否截断性能模式
                 </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#events-statements-history-long-table" title="25.11.6.3 events_statements_history_long表"><code class="literal">events_statements_history_long</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                和
                 </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#events-stages-history-long-table" title="25.11.5.3 events_stages_history_long表"><code class="literal">events_stages_history_long</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_auto_enable BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否自动启用所需的消费者。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-trace-statement-digest-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_trace_statement_digest('891ec6860f98ba46d89dd20b0c03652c', 10, 0.1, TRUE, TRUE);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结统计|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结统计|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.11秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------- ----------- + + ----------- + --------------- + ------------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">执行| </font><font style="vertical-align: inherit;">exec_time | </font><font style="vertical-align: inherit;">lock_time | </font><font style="vertical-align: inherit;">rows_sent | </font><font style="vertical-align: inherit;">rows_examined | </font><font style="vertical-align: inherit;">tmp_tables | </font><font style="vertical-align: inherit;">full_scans |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------- ----------- + + ----------- + --------------- + ------------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">21 | </font><font style="vertical-align: inherit;">4.11 ms | </font><font style="vertical-align: inherit;">2.00 ms | </font><font style="vertical-align: inherit;">0 | </font><font style="vertical-align: inherit;">21 | </font><font style="vertical-align: inherit;">0 | </font><font style="vertical-align: inherit;">0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ + ----------- ----------- + + ----------- + --------------- + ------------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.11秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + -  + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">event_name | </font><font style="vertical-align: inherit;">count | </font><font style="vertical-align: inherit;">延迟|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + -  + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /检查查询缓存以查询| </font><font style="vertical-align: inherit;">16 | </font><font style="vertical-align: inherit;">724.37 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / statistics | </font><font style="vertical-align: inherit;">16 | </font><font style="vertical-align: inherit;">546.92 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / free项目| </font><font style="vertical-align: inherit;">18 | </font><font style="vertical-align: inherit;">520.11 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / init | </font><font style="vertical-align: inherit;">51 | </font><font style="vertical-align: inherit;">466.80 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /清理| </font><font style="vertical-align: inherit;">18 | </font><font style="vertical-align: inherit;">11.92 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /执行| </font><font style="vertical-align: inherit;">16 | </font><font style="vertical-align: inherit;">6.95 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + -  + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
17行（9.12秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">最长的运行语句|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">最长的运行语句|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.16秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- ----------- + + ----------- ----------- + +  - -------------- + ------------ + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">thread_id | </font><font style="vertical-align: inherit;">exec_time | </font><font style="vertical-align: inherit;">lock_time | </font><font style="vertical-align: inherit;">rows_sent | </font><font style="vertical-align: inherit;">rows_examined | </font><font style="vertical-align: inherit;">tmp_tables | </font><font style="vertical-align: inherit;">full_scan |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- ----------- + + ----------- ----------- + +  - -------------- + ------------ + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">166646 | </font><font style="vertical-align: inherit;">618.43 us | </font><font style="vertical-align: inherit;">1.00 ms | </font><font style="vertical-align: inherit;">0 | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">0 | </font><font style="vertical-align: inherit;">0 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- ----------- + + ----------- ----------- + +  - -------------- + ------------ + ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.16秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了清晰起见，截断了＃...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">sql_text |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">选择hibeventhe0_.id作为id1382_，hibeventhe0_.createdTime ... |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.17秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">event_name | </font><font style="vertical-align: inherit;">延迟|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / init | </font><font style="vertical-align: inherit;">8.61 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /等待查询缓存锁定| </font><font style="vertical-align: inherit;">453.23 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / init | </font><font style="vertical-align: inherit;">331.07 ns |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /检查查询缓存以查询| </font><font style="vertical-align: inherit;">43.04 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql / free项目| </font><font style="vertical-align: inherit;">30.46 us |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">stage / sql /清理| </font><font style="vertical-align: inherit;">662.13 ns |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------------------------------------------ + ------ + ----- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
18行（9.23秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---- + ------------- + -------------- + ------- ------- + -------- + ----------- + --------- + ------------- + ----- -  + ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">id | </font><font style="vertical-align: inherit;">select_type | </font><font style="vertical-align: inherit;">表| | </font><font style="vertical-align: inherit;">键入| </font><font style="vertical-align: inherit;">possible_keys | </font><font style="vertical-align: inherit;">键| </font><font style="vertical-align: inherit;">key_len | </font><font style="vertical-align: inherit;">ref | </font><font style="vertical-align: inherit;">行| </font><font style="vertical-align: inherit;">额外|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---- + ------------- + -------------- + ------- ------- + -------- + ----------- + --------- + ------------- + ----- -  + ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">SIMPLE | </font><font style="vertical-align: inherit;">hibeventhe0_ | </font><font style="vertical-align: inherit;">const | </font><font style="vertical-align: inherit;">fixedTime | </font><font style="vertical-align: inherit;">fixedTime | </font><font style="vertical-align: inherit;">775 | </font><font style="vertical-align: inherit;">const，const | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">NULL |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---- + ------------- + -------------- + ------- ------- + -------- + ----------- + --------- + ------------- + ----- -  + ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（9.27秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受到影响（9.28秒）</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-trace-thread"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.23 ps_trace_thread（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963644688"></a><a class="indexterm" name="idm140527963643216"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将检测线程的所有性能模式数据转储为</font></font><code class="filename">.dot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式化图形文件（用于DOT图形描述语言）。</font><font style="vertical-align: inherit;">从过程返回的每个结果集都应该用于完整的图形。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-trace-thread-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_thread_id INT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要跟踪的线程。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_outfile VARCHAR(255)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于</font></font><code class="filename">.dot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出文件</font><font style="vertical-align: inherit;">的名称</font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_max_runtime DECIMAL(20,2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：收集数据的最大秒数（可以是小数）。</font><font style="vertical-align: inherit;">使用</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收集的数据为60秒的默认值。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_interval DECIMAL(20,2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：数据收集之间睡眠的秒数（可以是小数）。</font><font style="vertical-align: inherit;">使用</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">睡1秒的默认值。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_start_fresh BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否在跟踪之前重置所有性能模式数据。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_auto_setup BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否禁用所有其他线程并启用所有仪器和使用者。</font><font style="vertical-align: inherit;">这也会在运行结束时重置设置。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_debug BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否</font></font><code class="literal">file:lineno</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图表中</font><font style="vertical-align: inherit;">包含
                 </font><font style="vertical-align: inherit;">信息。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-trace-thread-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_trace_thread(25, CONCAT('/tmp/stack-', REPLACE(NOW(), ' ', '-'), '.dot'), NULL, NULL, TRUE, TRUE, TRUE);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">禁用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">数据收集从THREAD_ID = 25开始</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.03秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">将堆栈跟踪写入/tmp/stack-2014-02-16-21:18:41.dot |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（60.07秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">转换为PDF |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">dot -Tpdf -o /tmp/stack_25.pdf /tmp/stack-2014-02-16-21:18:41.dot |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（60.07秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">转换为PNG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">dot -Tpng -o /tmp/stack_25.png /tmp/stack-2014-02-16-21:18:41.dot |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（60.07秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">启用1个线程|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（60.32秒）</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-truncate-all-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.24 ps_truncate_all_tables（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963615728"></a><a class="indexterm" name="idm140527963614224"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          截断所有Performance Schema摘要表，将所有聚集的检测重置为快照。</font><font style="vertical-align: inherit;">生成一个结果集，指示有多少表被截断。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-truncate-all-tables-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_verbose BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#truncate-table" title="13.1.34 TRUNCATE TABLE语法"><code class="literal">TRUNCATE
                TABLE</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行之前</font><font style="vertical-align: inherit;">显示每条</font><font style="vertical-align: inherit;">语句。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-truncate-all-tables-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL ps_truncate_all_tables(FALSE);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">总结|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">截断44个表|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-statement-performance-analyzer"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.25 statement_performance_analyzer（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963603248"></a><a class="indexterm" name="idm140527963601728"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          创建服务器上运行的语句的报告。</font><font style="vertical-align: inherit;">视图基于整体和/或增量活动进行计算。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此过程需要
           </font></font><a class="link" href="/mysql-5.7-google-zh/security.html#priv_super"><code class="literal">SUPER</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权，因为它会</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在执行期间</font><font style="vertical-align: inherit;">操作会话
           </font><font style="vertical-align: inherit;">系统变量以禁用二进制日志记录。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个程序是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-statement-performance-analyzer-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_action ENUM('snapshot', 'overall', 'delta',
                'create_tmp', 'create_table', 'save',
                'cleanup')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：采取的行动。</font><font style="vertical-align: inherit;">这些值是允许的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <code class="literal">snapshot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：存储快照。</font><font style="vertical-align: inherit;">默认设置是为Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    表</font><font style="vertical-align: inherit;">的当前内容制作一个快照
                     </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通过设置</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可以覆盖它以复制指定表的内容。</font><font style="vertical-align: inherit;">快照存储在
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式
                     </font></font><code class="literal">tmp_digests</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">临时表中。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">overall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：根据指定的表的内容生成分析
                     </font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于整体分析，</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以
                     </font></font><a class="link" href="/mysql-5.7-google-zh/functions.html#function_now"><code class="literal">NOW()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用新的快照。</font><font style="vertical-align: inherit;">这会覆盖现有的快照。</font><font style="vertical-align: inherit;">使用
                     </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了
                     </font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用现有的快照。</font><font style="vertical-align: inherit;">如果</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
                     </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有快照存在，新的快照被创建。</font><font style="vertical-align: inherit;">该
                     </font></font><code class="literal">in_views</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数和
                     </font></font><code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    配置选项会影响这个过程的操作。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">delta</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：生成增量分析。</font><font style="vertical-align: inherit;">增量是在由指定的参考表</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和必须存在的快照</font><font style="vertical-align: inherit;">之间计算的</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此操作使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式
                     </font></font><code class="literal">tmp_digests_delta</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">临时表。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">in_views</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数和
                     </font></font><code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    配置选项会影响这个过程的操作。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">create_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：创建适合存储快照的常规表格供以后使用（例如，用于计算增量）。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">create_tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：创建一个适用于存储快照的临时表以供以后使用（例如，计算变化量）。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">save</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：将快照保存在指定的表格中</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该表必须存在并具有正确的结构。</font><font style="vertical-align: inherit;">如果不存在快照，则创建新的快照。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：删除用于快照和增量的临时表。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p>
                <code class="literal">in_table VARCHAR(129)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于由</font></font><code class="literal">in_action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">指定的某些操作的表
                 </font><font style="vertical-align: inherit;">参数。</font><font style="vertical-align: inherit;">使用格式
                 </font></font><em class="replaceable"><code>db_name.tbl_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
                 </font></font><em class="replaceable"><code>tbl_name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不使用任何反引号（</font></font><code class="literal">`</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）标识符引用字符。</font></font><code class="literal">.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库和表名中不支持</font><font style="vertical-align: inherit;">句点（</font><font style="vertical-align: inherit;">）。
              </font></font></p><p><font style="vertical-align: inherit;"></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个</font></font><code class="literal">in_action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">
                的含义</font><font style="vertical-align: inherit;">在各个</font></font><code class="literal">in_action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值描述中</font><font style="vertical-align: inherit;">详细</font><font style="vertical-align: inherit;">说明。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_views SET
                ('with_runtimes_in_95th_percentile', 'analysis',
                'with_errors_or_warnings', 'with_full_table_scans',
                'with_sorting', 'with_temp_tables', 'custom')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：包含哪些视图。</font><font style="vertical-align: inherit;">该参数是一个
                 </font></font><code class="literal">SET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值，因此它可以包含多个视图名称，以逗号分隔。</font><font style="vertical-align: inherit;">默认是包括除了之外的所有视图</font></font><code class="literal">custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下值是允许的：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <code class="literal">with_runtimes_in_95th_percentile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-runtimes-in-95th-percentile" title="26.4.3.38 statements_with_runtimes_in_95th_percentile和x $ statements_with_runtimes_in_95th_percentile Views"><code class="literal">statements_with_runtimes_in_95th_percentile</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">analysis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-analysis" title="26.4.3.35 statement_analysis和x $ statement_analysis Views"><code class="literal">statement_analysis</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">with_errors_or_warnings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-errors-or-warnings" title="26.4.3.36 statements_with_errors_or_warnings和x $ statements_with_errors_or_warnings Views"><code class="literal">statements_with_errors_or_warnings</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">with_full_table_scans</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-full-table-scans" title="26.4.3.37 statements_with_full_table_scans和x $ statements_with_full_table_scans Views"><code class="literal">statements_with_full_table_scans</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">with_sorting</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-sorting" title="26.4.3.39 statements_with_sorting和x $ statements_with_sorting Views"><code class="literal">statements_with_sorting</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">with_temp_tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用
                     </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statements-with-temp-tables" title="26.4.3.40这个statements_with_temp_tables和x $ statements_with_temp_tables Views"><code class="literal">statements_with_temp_tables</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    视图。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">custom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：使用自定义视图。</font><font style="vertical-align: inherit;">必须使用</font></font><code class="literal">statement_performance_analyzer.view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                    配置选项来</font><font style="vertical-align: inherit;">指定此视图
                     </font><font style="vertical-align: inherit;">以命名查询或现有视图。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-statement-performance-analyzer-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font></font></h5>

</div>

</div>

</div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-statement-performance-analyzer" title="26.4.4.25 statement_performance_analyzer（）过程"><code class="literal">statement_performance_analyzer()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            操作可以使用以下配置选项或其相应的用户定义变量进行修改（请参见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.2.1节“sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><code class="literal">@sys.debug</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果这个选项是</font></font><code class="literal">ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，产生调试输出。</font><font style="vertical-align: inherit;">默认是</font></font><code class="literal">OFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.statement_performance_analyzer.limit</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                对于没有内置限制的视图返回的最大行数。</font><font style="vertical-align: inherit;">默认值是100。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">statement_performance_analyzer.view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.statement_performance_analyzer.view</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                要使用的自定义查询或视图。</font><font style="vertical-align: inherit;">如果选项值包含空格，则将其解释为查询。</font><font style="vertical-align: inherit;">否则，它必须是查询性能模式</font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表</font><font style="vertical-align: inherit;">的现有视图的名称
                 </font><font style="vertical-align: inherit;">。</font></font><code class="literal">LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果</font></font><code class="literal">statement_performance_analyzer.limit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                配置选项大于0 </font><font style="vertical-align: inherit;">，则查询或视图定义中</font><font style="vertical-align: inherit;">不能有任何</font><font style="vertical-align: inherit;">子句。
                 </font><font style="vertical-align: inherit;">如果指定视图，请使用与</font></font><code class="literal">in_table</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">相同的格式
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">默认值是
                 </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（没有自定义视图定义）。
              </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                该选项已添加到MySQL 5.7.9中。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-statement-performance-analyzer-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            要创建一个包含自上次截断以来的第95百分位的查询
             </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#statement-summary-tables" title="25.11.15.3语句汇总表"><code class="literal">events_statements_summary_by_digest</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            以及一分钟增量期的报告：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                创建一个临时表来存储初始快照。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                创建初始快照。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                将初始快照保存在临时表中。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                等一分钟。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                创建一个新的快照。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                根据新的快照执行分析。
              </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                根据初始和新快照之间的增量执行分析。
</font></font></p></li></ol>
</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('create_tmp', 'mydb.tmp_digests_ini', NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.08秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('snapshot', NULL, NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.02秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('save', 'mydb.tmp_digests_ini', NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>DO SLEEP(60);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（1分钟0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('snapshot', NULL, NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.02秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('overall', NULL, 'with_runtimes_in_95th_percentile');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">下一个输出|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">运行时查询第95百分位|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.05秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('delta', 'mydb.tmp_digests_ini', 'with_runtimes_in_95th_percentile');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">下一个输出|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">运行时查询第95百分位|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.03秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            用全表扫描创建第95百分位查询和前10位查询的总体报告：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('snapshot', NULL, NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）                                 </font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SET @sys.statement_performance_analyzer.limit = 10;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）        </font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('overall', NULL, 'with_runtimes_in_95th_percentile,with_full_table_scans');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">下一个输出|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">运行时查询第95百分位|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">下一个输出|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">全表扫描的前10个查询|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.09秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            使用自定义视图来显示按执行总时间排序的前10个查询，并使用</font><font style="vertical-align: inherit;">Linux中</font><font style="vertical-align: inherit;">的</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">watch</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">每分钟刷新一次视图
             </font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>CREATE OR REPLACE VIEW mydb.my_statements AS</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt; </font></font><strong class="userinput"><code>SELECT sys.format_statement(DIGEST_TEXT) AS query,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>SCHEMA_NAME AS db,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>COUNT_STAR AS exec_count,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>sys.format_time(SUM_TIMER_WAIT) AS total_latency,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>sys.format_time(AVG_TIMER_WAIT) AS avg_latency,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>ROUND(IFNULL(SUM_ROWS_SENT / NULLIF(COUNT_STAR, 0), 0)) AS rows_sent_avg,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>ROUND(IFNULL(SUM_ROWS_EXAMINED / NULLIF(COUNT_STAR, 0), 0)) AS rows_examined_avg,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>ROUND(IFNULL(SUM_ROWS_AFFECTED / NULLIF(COUNT_STAR, 0), 0)) AS rows_affected_avg,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;         </font></font><strong class="userinput"><code>DIGEST AS digest</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;    </font></font><strong class="userinput"><code>FROM performance_schema.events_statements_summary_by_digest</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;</font></font><strong class="userinput"><code>ORDER BY SUM_TIMER_WAIT DESC;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('create_table', 'mydb.digests_prev', NULL);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.10秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
壳&gt; </font></font><strong class="userinput"><code>watch -n 60 "mysql sys --table -e \"</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; </font></font><strong class="userinput"><code>SET @sys.statement_performance_analyzer.view = 'mydb.my_statements';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; </font></font><strong class="userinput"><code>SET @sys.statement_performance_analyzer.limit = 10;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('snapshot', NULL, NULL);</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('delta', 'mydb.digests_prev', 'custom');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; </font></font><strong class="userinput"><code>CALL statement_performance_analyzer('save', 'mydb.digests_prev', NULL);</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt;</font></font><strong class="userinput"><code>\""</code></strong><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个60.0s：mysql sys --table -e“... Mon Dec 22 10:58:51 2014</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">下一个输出|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">使用自定义视图|排名前10的查询</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- ------- + ------------ + -------- + ------- + ------------- + --------------- + ------------ ------- + ------------------- + ---------------------- ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">查询| </font><font style="vertical-align: inherit;">db | </font><font style="vertical-align: inherit;">exec_count | </font><font style="vertical-align: inherit;">total_latency | </font><font style="vertical-align: inherit;">avg_latency | </font><font style="vertical-align: inherit;">rows_sent_avg | </font><font style="vertical-align: inherit;">rows_examined_avg | </font><font style="vertical-align: inherit;">rows_affected_avg | </font><font style="vertical-align: inherit;">摘要|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- ------- + ------------ + -------- + ------- + ------------- + --------------- + ------------ ------- + ------------------- + ---------------------- ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-table-exists"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.4.26 table_exists（）过程</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963472928"></a><a class="indexterm" name="idm140527963471456"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          测试给定的表是以常规表，
           </font></font><code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或视图的形式存在的。</font><font style="vertical-align: inherit;">该过程在</font></font><code class="literal">OUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数中</font><font style="vertical-align: inherit;">返回表类型</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果临时表和永久表都以给定名称存在，</font></font><code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则返回。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个程序是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-table-exists-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_db VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查表存在的数据库的名称。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_table VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：检查存在的表的名称。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">out_exists ENUM('', 'BASE TABLE', 'VIEW',
                'TEMPORARY')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：返回值。</font><font style="vertical-align: inherit;">这是一个
                 </font></font><code class="literal">OUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，所以它必须是一个可以存储表类型的变量。</font><font style="vertical-align: inherit;">过程返回时，变量具有以下值之一以指示表是否存在：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <code class="literal">''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表名不作为基表，</font></font><code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表或视图存在。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">BASE TABLE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表格名称作为基础（永久）表格存在。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">VIEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表名称作为视图存在。
                  </font></font></p></li><li class="listitem"><p>
                    <code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表格名称以</font></font><code class="literal">TEMPORARY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格形式</font><font style="vertical-align: inherit;">存在</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
</li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-table-exists-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>CREATE DATABASE db1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>USE db1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库改变</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE t1 (id INT PRIMARY KEY);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.03秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TABLE t2 (id INT PRIMARY KEY);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.20秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CREATE view v_t1 AS SELECT * FROM t1;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.02秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CREATE TEMPORARY TABLE t1 (id INT PRIMARY KEY);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL sys.table_exists('db1', 't1', @exists); SELECT @exists;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.01秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@exists |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">TEMPORARY |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL sys.table_exists('db1', 't2', @exists); SELECT @exists;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.02秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@exists |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">BASE TABLE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL sys.table_exists('db1', 'v_t1', @exists); SELECT @exists;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.02秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@exists |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">查看|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>CALL sys.table_exists('db1', 't3', @exists); SELECT @exists;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，0行受影响（0.00秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@exists |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一排（0.00秒）</font></font><font></font>
</pre>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="sys-schema-functions"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5 sys模式存储函数</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-extract-schema-from-file-name"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.1 extract_schema_from_file_name（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-extract-table-from-file-name"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.2 extract_table_from_file_name（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-format-bytes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.3 format_bytes（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-format-path"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.4 format_path（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.5 format_statement（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-format-time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.6 format_time（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-list-add"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.7 list_add（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-list-drop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.8 list_drop（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-account-enabled"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.9 ps_is_account_enabled（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-consumer-enabled"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.10 ps_is_consumer_enabled（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-instrument-default-enabled"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.11 ps_is_instrument_default_enabled（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-instrument-default-timed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.12 ps_is_instrument_default_timed（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-is-thread-instrumented"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.13 ps_is_thread_instrumented（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-account"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.14 ps_thread_account（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-id"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.15 ps_thread_id（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-stack"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.16 ps_thread_stack（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-trx-info"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.17 ps_thread_trx_info（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-quote-identifier"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.18 quote_identifier（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-get-config"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.19 sys_get_config（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-version-major"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.20 version_major（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-version-minor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.21 version_minor（）函数</font></font></a></span></dt><dt><span class="section"><a href="/mysql-5.7-google-zh/sys-schema.html#sys-version-patch"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.22 version_patch（）函数</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        以下部分描述
         </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html" title="第26章MySQL sys模式"><code class="literal">sys</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式存储的功能。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-extract-schema-from-file-name"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.1 extract_schema_from_file_name（）函数</font></font></h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140527963436128"></a><a class="indexterm" name="idm140527963434608"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定文件路径名称，返回表示模式名称的路径组件。</font><font style="vertical-align: inherit;">这个函数假定文件名在模式目录中。</font><font style="vertical-align: inherit;">出于这个原因，它将不能用分区或使用自己的</font></font><code class="literal">DATA_DIRECTORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格选项</font><font style="vertical-align: inherit;">定义的</font><font style="vertical-align: inherit;">表格。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从包含文件路径名称的性能模式中提取文件I / O信息时，此功能很有用。</font><font style="vertical-align: inherit;">它提供了一种显示模式名称的便捷方式，可以比完整路径名更易于理解，并且可以在与对象模式名称的连接中使用。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-extract-schema-from-file-name-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">path VARCHAR(512)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从中提取模式名称的数据文件的完整路径。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-extract-schema-from-file-name-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-extract-schema-from-file-name-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT extract_schema_from_file_name('/usr/local/mysql/data/world/City.ibd');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">extract_schema_from_file_name（'/ usr / local / mysql / data / world / City.ibd'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">世界|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-extract-table-from-file-name"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.2 extract_table_from_file_name（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963420576"></a><a class="indexterm" name="idm140527963419120"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定文件路径名称，返回表示表名称的路径组件。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从包含文件路径名称的性能模式中提取文件I / O信息时，此功能很有用。</font><font style="vertical-align: inherit;">它提供了一种显示表名的便捷方法，它比完整路径名更易于理解，并且可以在与对象表名的连接中使用。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-extract-table-from-file-name-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">path VARCHAR(512)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从中提取表名的数据文件的完整路径。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-extract-table-from-file-name-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-extract-table-from-file-name-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT extract_table_from_file_name('/usr/local/mysql/data/world/City.ibd');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">extract_table_from_file_name（'/ usr / local / mysql / data / world / City.ibd'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">城市|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-format-bytes"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.3 format_bytes（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963404624"></a><a class="indexterm" name="idm140527963403168"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定以字节为单位的值，将其转换为可读格式并返回由值和单位指示符组成的字符串。</font><font style="vertical-align: inherit;">取决于值的大小，所述单元的部分是</font></font><code class="literal">bytes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">KiB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （kibibytes），</font></font><code class="literal">MiB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（mebibytes），
           </font></font><code class="literal">GiB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（gibibytes），</font></font><code class="literal">TiB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （tebibytes），或</font></font><code class="literal">PiB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（pebibytes）。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-format-bytes-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">bytes TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要格式化的字节值。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-bytes-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-bytes-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT format_bytes(512), format_bytes(18446644073709551615);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_bytes（512）| </font><font style="vertical-align: inherit;">format_bytes（18446644073709551615）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">512字节| </font><font style="vertical-align: inherit;">16383.91 PiB |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- ------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-format-path"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.4 format_path（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963386656"></a><a class="indexterm" name="idm140527963385200"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个路径名，按顺序替换与下列系统变量值匹配的子路径后返回修改后的路径名：
        </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DATADIR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TMPDIR</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
slave_load_tmpdir</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
innodb_data_home_dir</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
innodb_log_group_home_dir</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
innodb_undo_directory</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BASEDIR</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          与系统变量的值相匹配的值
           </font></font><em class="replaceable"><code>sysvar</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被替换为字符串
           </font><font style="vertical-align: inherit;">。
        </font></font><code class="literal">@@global.<em class="replaceable"><code>sysvar</code></em></code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在MySQL 5.7.14之前，Windows路径名中的反斜杠在结果中被转换为正斜杠。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-format-path-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">path VARCHAR(512)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：格式的路径名称。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-path-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">VARCHAR(512) CHARACTER SET utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-path-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT format_path('/usr/local/mysql/data/world/City.ibd');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_path（'/ usr / local / mysql / data / world / City.ibd'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ datadir / world / City.ibd |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ---- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-format-statement"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.5 format_statement（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963369520"></a><a class="indexterm" name="idm140527963368048"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个字符串（通常表示一条SQL语句），将其缩小到</font></font><code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font><font style="vertical-align: inherit;">给定的长度
           </font><font style="vertical-align: inherit;">，然后返回结果。</font><font style="vertical-align: inherit;">如果字符串比字符串短，则不会发生截断
           </font></font><code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">否则，字符串的中间部分被省略号（</font></font><code class="literal">...</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">替换</font><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此功能对于将从性能模式表检索到的可能冗长的语句格式化为已知的固定最大长度很有用。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-format-statement-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">statement LONGTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：格式声明。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-statement-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font></font></h5>

</div>

</div>

</div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作可以使用以下的配置选项或它们相应的用户定义的变量被修改（见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节26.4.2.1，“该sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.statement_truncate_len</code>
              </p><p><font style="vertical-align: inherit;"></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                函数</font><font style="vertical-align: inherit;">
                返回的语句的最大长度
                 </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">更长的语句被截断到这个长度。</font><font style="vertical-align: inherit;">默认值是64。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-statement-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">LONGTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-statement-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            默认情况下，</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-format-statement" title="26.4.5.5 format_statement（）函数"><code class="literal">format_statement()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            截断语句不超过64个字符。</font><font style="vertical-align: inherit;">设置会</font></font><code class="literal">@sys.statement_truncate_len</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            更改当前会话的截断长度：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET @stmt = 'SELECT variable, value, set_time, set_by FROM sys_config';</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT format_statement(@stmt);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_statement（@stmt）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SELECT变量，值，set_time，set_by FROM sys_config |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- --------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>SET @sys.statement_truncate_len = 32;</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT format_statement(@stmt);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_statement（@stmt）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">SELECT变量... ROM sys_config |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-format-time"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.6 format_time（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963339504"></a><a class="indexterm" name="idm140527963338048"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定性能模式延迟或等待时间（以皮秒为单位），将其转换为可读格式并返回由值和单位指示符组成的字符串。</font><font style="vertical-align: inherit;">根据值的大小，单位部分是
           </font></font><code class="literal">ns</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（纳秒），</font></font><code class="literal">us</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （微秒），</font></font><code class="literal">ms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（毫秒），
           </font></font><code class="literal">s</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（秒），</font></font><code class="literal">m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （分钟），</font></font><code class="literal">h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（小时），</font></font><code class="literal">d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          （天）或</font></font><code class="literal">w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（星期）。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-format-time-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">picoseconds TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：格式化的皮秒值。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-time-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-format-time-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT format_time(3501), format_time(188732396662000);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">format_time（3501）| </font><font style="vertical-align: inherit;">format_time（188732396662000）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3.50 ns | </font><font style="vertical-align: inherit;">3.15米|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ----------------------------- -  +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-list-add"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.7 list_add（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963320304"></a><a class="indexterm" name="idm140527963318816"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将值添加到以逗号分隔的值列表中并返回结果。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此函数</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-list-drop" title="26.4.5.8 list_drop（）函数"><code class="literal">list_drop()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          可用于处理系统变量的值，例如</font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用逗号分隔的值列表。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-list-add-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_list TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要修改的列表。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_add_value TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要添加到列表中的值。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-list-add-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-list-add-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT @@sql_mode;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ sql_mode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ONLY_FULL_GROUP_BY，STRICT_TRANS_TABLES |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>SET @@sql_mode = list_add(@@sql_mode, 'NO_ENGINE_SUBSTITUTION');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT @@sql_mode;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ sql_mode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ONLY_FULL_GROUP_BY，STRICT_TRANS_TABLES，NO_ENGINE_SUBSTITUTION |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt; </font></font><strong class="userinput"><code>SET @@sql_mode = list_drop(@@sql_mode, 'ONLY_FULL_GROUP_BY');</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql&gt;</font></font><strong class="userinput"><code>SELECT @@sql_mode;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">@@ sql_mode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">STRICT_TRANS_TABLES，NO_ENGINE_SUBSTITUTION |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-list-drop"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.8 list_drop（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963296560"></a><a class="indexterm" name="idm140527963295104"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          从逗号分隔的值列表中移除值并返回结果。</font><font style="vertical-align: inherit;">有关更多信息，请参阅说明</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-list-add" title="26.4.5.7 list_add（）函数"><code class="literal">list_add()</code></a>
        </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-list-drop-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_list TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要修改的列表。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_drop_value TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从列表中删除的值。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-list-drop-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-is-account-enabled"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.9 ps_is_account_enabled（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963282960"></a><a class="indexterm" name="idm140527963281456"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回</font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示是否启用给定帐户的性能模式检测。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-is-account-enabled-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_host VARCHAR(60)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查的帐户的主机名。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_user VARCHAR(32)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查的帐户的用户名。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-account-enabled-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">ENUM('YES','NO')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-account-enabled-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_account_enabled('localhost', 'root');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_account_enabled（'localhost'，'root'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-is-consumer-enabled"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.10 ps_is_consumer_enabled（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963266544"></a><a class="indexterm" name="idm140527963265040"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回</font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示是否启用给定的性能架构使用者，或者</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数是否不是有效的使用者名称。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该功能考虑了消费者层次结构，因此消费者不被视为启用，除非所有依赖于其的消费者也被启用。</font><font style="vertical-align: inherit;">有关消费者层次结构的信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/performance-schema.html#performance-schema-consumer-filtering" title="25.4.7消费者预过滤"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25.4.7节“消费者预过滤”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-is-consumer-enabled-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_consumer VARCHAR(64)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查的消费者的姓名。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-consumer-enabled-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">ENUM('YES','NO')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-consumer-enabled-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_consumer_enabled('thread_instrumentation');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_consumer_enabled（'thread_instrumentation'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-is-instrument-default-enabled"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.11 ps_is_instrument_default_enabled（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963249440"></a><a class="indexterm" name="idm140527963247920"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回</font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示默认情况下是否启用给定的性能模式工具。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-enabled-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_instrument VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查的仪器的名称。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-enabled-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">ENUM('YES','NO')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-enabled-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_instrument_default_enabled('memory/innodb/row_log_buf');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_instrument_default_enabled（'memory / innodb / row_log_buf'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_instrument_default_enabled('statement/sql/alter_user');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_instrument_default_enabled（'statement / sql / alter_user'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-is-instrument-default-timed"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.12 ps_is_instrument_default_timed（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963232816"></a><a class="indexterm" name="idm140527963231296"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回</font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示给定的性能模式工具是否默认定时。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-timed-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_instrument VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要检查的仪器的名称。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-timed-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">ENUM('YES','NO')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-instrument-default-timed-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_instrument_default_timed('memory/innodb/row_log_buf');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_instrument_default_timed（'memory / innodb / row_log_buf'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">NO |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_instrument_default_timed('statement/sql/alter_user');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_instrument_default_timed（'statement / sql / alter_user'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- ----------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-is-thread-instrumented"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.13 ps_is_thread_instrumented（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963216272"></a><a class="indexterm" name="idm140527963214816"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回</font></font><code class="literal">YES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="literal">NO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示是否启用了给定连接ID的性能模式检测，ID是否</font></font><code class="literal">UNKNOWN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为未知，或</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID是否为
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-is-thread-instrumented-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_connection_id BIGINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：连接ID。</font><font style="vertical-align: inherit;">这是</font></font><code class="literal">PROCESSLIST_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表</font></font><code class="literal">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中
                 </font><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">列中</font><font style="vertical-align: inherit;">给出的连接ID
                 </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-thread-instrumented-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">ENUM('YES','NO','UNKNOWN')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-is-thread-instrumented-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_thread_instrumented(43);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_thread_instrumented（43）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">UNKNOWN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_is_thread_instrumented(CONNECTION_ID());</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_is_thread_instrumented（CONNECTION_ID（））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">是|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ -------------------------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-thread-account"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.14 ps_thread_account（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963194112"></a><a class="indexterm" name="idm140527963192640"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个性能模式线程ID，返回</font><font style="vertical-align: inherit;">
          与该线程关联</font><font style="vertical-align: inherit;">的
           </font><font style="vertical-align: inherit;">账户。
        </font></font><code class="literal"><em class="replaceable"><code>user_name</code></em>@<em class="replaceable"><code>host_name</code></em></code><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-thread-account-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_thread_id BIGINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要返回帐户的线程ID。</font><font style="vertical-align: inherit;">该值应该与</font></font><code class="literal">THREAD_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格行</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">列
                 </font><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-account-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-account-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_thread_account(ps_thread_id(CONNECTION_ID()));</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_thread_account（ps_thread_id（CONNECTION_ID（）））|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">root @ localhost |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------------------------- -  +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-thread-id"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.15 ps_thread_id（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963176864"></a><a class="indexterm" name="idm140527963175408"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回给定连接标识的性能模式线程标识，或连接标识为当前连接的线程标识</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-thread-id-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_connection_id BIGINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要返回线程标识的连接的标识。</font><font style="vertical-align: inherit;">这是</font></font><code class="literal">PROCESSLIST_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表</font></font><code class="literal">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列中
                 </font><font style="vertical-align: inherit;">或</font></font><a class="link" href="/mysql-5.7-google-zh/sql-syntax.html#show-processlist" title="13.7.5.29 SHOW PROCESSLIST语法"><code class="literal">SHOW PROCESSLIST</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font><font style="vertical-align: inherit;">列中</font><font style="vertical-align: inherit;">给出的连接ID
                 </font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-id-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">BIGINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-id-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_thread_id(260);</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ps_thread_id（260）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">285 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-thread-stack"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.16 ps_thread_stack（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963158768"></a><a class="indexterm" name="idm140527963157296"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          对于给定的线程ID，返回Performance Schema内的所有语句，阶段和事件的JSON格式堆栈。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-thread-stack-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_thread_id BIGINT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要跟踪的线程的ID。</font><font style="vertical-align: inherit;">该值应该与</font></font><code class="literal">THREAD_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                表格行</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">列</font><font style="vertical-align: inherit;">匹配
                 </font><font style="vertical-align: inherit;">。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_verbose BOOLEAN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：是否</font></font><code class="literal">file:lineno</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在活动中</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">信息。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-stack-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">LONGTEXT CHARACTER SET latin1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-stack-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_thread_stack(37, FALSE) AS thread_stack\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
thread_stack：{“rankdir”：“LR”，“nodesep”：“0.10”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“stack_created”：“2014-02-19 13:39:03”，“mysql_version”：“5.7.3-m13”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“mysql_user”：“root @ localhost”，“events”：[{“nesting_event_id”：“0”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“event_id”：“10”，“timer_wait”：256.35，“event_info”：“sql / select”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“wait_info”：“select @@ version_comment limit 1 \ nerrors：0 \ nwarnings：0 \ nlock time：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-ps-thread-trx-info"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.17 ps_thread_trx_info（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963140704"></a><a class="indexterm" name="idm140527963139232"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          返回包含给定线程信息的JSON对象。</font><font style="vertical-align: inherit;">这些信息包括当前事务以及它已经执行的语句，这些语句来自性能模式
           </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#events-transactions-current-table" title="25.11.7.1 events_transactions_current表"><code class="literal">events_transactions_current</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#events-statements-history-table" title="25.11.6.2 events_statements_history表"><code class="literal">events_statements_history</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表。</font><font style="vertical-align: inherit;">（必须启用这些表的使用者才能获取JSON对象中的完整数据。）
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果输出超出截断长度（默认为65535），则返回JSON错误对象，如：
        </font></font></p><pre data-lang="json" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{“error”：“Trx信息被截断：第6行被GROUP_CONCAT（）剪切掉了）”}
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          类似的错误对象返回在函数执行期间引发的其他警告和异常。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-ps-thread-trx-info-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_thread_id BIGINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：返回事务信息的线程ID。</font><font style="vertical-align: inherit;">该值应该与</font></font><code class="literal">THREAD_ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                某些Performance Schema </font></font><a class="link" href="/mysql-5.7-google-zh/performance-schema.html#threads-table" title="25.11.16.3线程表"><code class="literal">threads</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格行</font><font style="vertical-align: inherit;">中的</font><font style="vertical-align: inherit;">列
                 </font><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-trx-info-configuration-options"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项</font></font></h5>

</div>

</div>

</div>
<p>
            <a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-ps-thread-trx-info" title="26.4.5.17 ps_thread_trx_info（）函数"><code class="literal">ps_thread_trx_info()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作可以使用以下的配置选项或它们相应的用户定义的变量被修改（见
             </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节26.4.2.1，“该sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">ps_thread_trx_info.max_length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
                </font></font><code class="literal">@sys.ps_thread_trx_info.max_length</code>
              </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                输出的最大长度。</font><font style="vertical-align: inherit;">默认值是65535。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-trx-info-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">LONGTEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-ps-thread-trx-info-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT ps_thread_trx_info(48)\G</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*************************** 1. row ******************** *******</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ps_thread_trx_info（48）：[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “时间”：“790.70美国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “国家”：“承诺”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “模式”：“读写”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “autocommitted”：“NO”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “gtid”：“AUTOMATIC”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “隔离”：“可重复读取”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “statements_executed”：[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sql_text”：“INSERT INTO info VALUES（1，\'foo \'）”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “时间”：“471.02 us”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “schema”：“trx”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_examined”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_affected”：1，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_sent”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_disk_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_rows”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_merge_passes”：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sql_text”：“COMMIT”，“</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “时间”：“254.42我们”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “schema”：“trx”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_examined”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_affected”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_sent”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_disk_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_rows”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_merge_passes”：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “时间”：“426.20我们”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “国家”：“承诺”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “模式”：“读写”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “autocommitted”：“NO”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “gtid”：“AUTOMATIC”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “隔离”：“可重复读取”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “statements_executed”：[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sql_text”：“INSERT INTO info VALUES（2，\'bar \'）”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “时间”：“107.33 us”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “schema”：“trx”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_examined”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_affected”：1，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_sent”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_disk_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_rows”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_merge_passes”：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sql_text”：“COMMIT”，“</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “时间”：“213.23 us”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “schema”：“trx”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_examined”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_affected”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “rows_sent”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “tmp_disk_tables”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_rows”：0，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “sort_merge_passes”：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-quote-identifier"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.18 quote_identifier（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963109616"></a><a class="indexterm" name="idm140527963108144"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个字符串参数，该函数产生一个适合包含在SQL语句中的带引号的标识符。</font><font style="vertical-align: inherit;">当用作标识符的值是保留字或包含反引号（</font></font><code class="literal">`</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）字符</font><font style="vertical-align: inherit;">时，这非常有用</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它是在MySQL 5.7.14中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-quote-identifier-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p>
            <code class="literal">in_identifier TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要引用的标识符。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-quote-identifier-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-quote-identifier-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT quote_identifier('plain');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">quote_identifier（'plain'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">`plain` |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT quote_identifier('trick`ier');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">quote_identifier（'trick`ier'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">`trick``ier` |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的&gt; </font></font><strong class="userinput"><code>SELECT quote_identifier('integer');</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">quote_identifier（'integer'）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">`整数'|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-sys-get-config"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.19 sys_get_config（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963093904"></a><a class="indexterm" name="idm140527963092432"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          给定一个配置选项名称，从</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">返回选项值</font><font style="vertical-align: inherit;">，或者</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果该选项不存在于表中</font><font style="vertical-align: inherit;">，则返回</font><font style="vertical-align: inherit;">提供的默认值（可能是
           </font><font style="vertical-align: inherit;">）。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-get-config" title="26.4.5.19 sys_get_config（）函数"><code class="literal">sys_get_config()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回默认值并且该值为</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则预期调用者能够处理
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定的配置选项。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          按照惯例，调用的例程
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-get-config" title="26.4.5.19 sys_get_config（）函数"><code class="literal">sys_get_config()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先检查相应的用户定义变量是否存在并且不是</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果是这样，则例程使用变量值而不读取
           </font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格。</font><font style="vertical-align: inherit;">如果变量不存在或不存在</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则例程从表中读取选项值，并将用户定义的变量设置为该值。</font><font style="vertical-align: inherit;">有关配置选项与其相应用户定义变量之间关系的更多信息，请参见
           </font></font><a class="xref" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第26.4.2.1节“sys_config表”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果你想检查配置选项是否已经设置，如果没有，使用返回值
           </font></font><code class="literal">sys_get_config()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，你可以使用
           </font></font><code class="literal">IFNULL(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（见后面的例子）。</font><font style="vertical-align: inherit;">但是，这不应该在循环内完成（例如，对于结果集中的每一行），因为对于只在第一次迭代中需要分配的重复调用，使用
           </font></font><code class="literal">IFNULL(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预计会比使用</font></font><code class="literal">IF (...) THEN ... END
          IF;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">块</font><font style="vertical-align: inherit;">要慢得多</font><font style="vertical-align: inherit;">（请参阅后面的例子）。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-sys-get-config-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">in_variable_name VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要返回值的配置选项的名称。
              </font></font></p></li><li class="listitem"><p>
                <code class="literal">in_default_value VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：如果在</font></font><code class="literal">sys_config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">找不到配置选项，则返回默认值</font><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-sys-get-config-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">VARCHAR(128)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-sys-get-config-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            从</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">获取配置值
             </font><font style="vertical-align: inherit;">，如果该表中不存在该选项，则会恢复为默认值128：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT sys.sys_get_config('statement_truncate_len', 128) AS Value;</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">值|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">64 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------- +</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            单线示例：检查选项是否已设置; </font><font style="vertical-align: inherit;">如果不是，则分配</font></font><code class="literal">IFNULL(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果（使用</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中</font><font style="vertical-align: inherit;">的值
             </font><font style="vertical-align: inherit;">）：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; </font></font><strong class="userinput"><code>SET @sys.statement_truncate_len =</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt; </font></font><strong class="userinput"><code>IFNULL(@sys.statement_truncate_len,</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    - &gt;</font></font><strong class="userinput"><code>       sys.sys_get_config('statement_truncate_len', 64));</code></strong>
</pre><p>
            <code class="literal">IF (...) THEN ... END IF;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">块示例：检查选项是否已设置; </font><font style="vertical-align: inherit;">如果不是，则从</font></font><a class="link" href="/mysql-5.7-google-zh/sys-schema.html#sys-sys-config" title="26.4.2.1 sys_config表"><code class="literal">sys_config</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            表中</font><font style="vertical-align: inherit;">分配值</font><font style="vertical-align: inherit;">：
          </font></font></p><pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF（@ sys.statement_truncate_len IS NULL）THEN</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  SET @ sys.statement_truncate_len = sys.sys_get_config（'statement_truncate_len'，64）;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
万一;</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-version-major"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.20 version_major（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963052608"></a><a class="indexterm" name="idm140527963051136"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该函数返回MySQL服务器的主要版本。</font><font style="vertical-align: inherit;">它是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-version-major-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-major-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TINYINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-major-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT VERSION(), version_major();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">VERSION（）| </font><font style="vertical-align: inherit;">version_major（）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">5.7.9-debug-log | </font><font style="vertical-align: inherit;">5 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-version-minor"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.21 version_minor（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963040800"></a><a class="indexterm" name="idm140527963039328"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数返回次要版本的MySQL服务器。</font><font style="vertical-align: inherit;">它是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-version-minor-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-minor-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TINYINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-minor-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT VERSION(), version_minor();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">VERSION（）| </font><font style="vertical-align: inherit;">version_minor（）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">5.7.9-debug-log | </font><font style="vertical-align: inherit;">7 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font>
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="sys-version-patch"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.4.5.22 version_patch（）函数</font></font></h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140527963028752"></a><a class="indexterm" name="idm140527963027280"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          这个函数返回MySQL服务器的补丁版本。</font><font style="vertical-align: inherit;">它是在MySQL 5.7.9中添加的。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="sys-version-patch-parameters"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            没有。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-patch-return-value"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回值</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            一个</font></font><code class="literal">TINYINT UNSIGNED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="sys-version-patch-example"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h5>

</div>

</div>

</div>
<pre data-lang="sql" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的&gt; </font></font><strong class="userinput"><code>SELECT VERSION(), version_patch();</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">VERSION（）| </font><font style="vertical-align: inherit;">version_patch（）|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">5.7.9-debug-log | </font><font style="vertical-align: inherit;">9 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ----------------- + ----------------- +</font></font><font></font>
</pre>
</div>

</div>

</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left"><a accesskey="p" href="/mysql-5.7-google-zh/performance-schema.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a></td>
<td width="20%" align="center"><a accesskey="u" href="/mysql-5.7-google-zh/sys-schema.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="/mysql-5.7-google-zh/connectors-apis.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第25章MySQL性能模式</font></font></td>
<td width="20%" align="center"><a accesskey="h" href="/mysql-5.7-google-zh/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></td>
<td width="40%" align="right" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第27章连接器和API</font></font></td>
</tr>
</tbody></table>
</div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./images/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>